var ip=Object.defineProperty;var Xc=u=>{throw TypeError(u)};var sp=(u,r,i)=>r in u?ip(u,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[r]=i;var L=(u,r,i)=>sp(u,typeof r!="symbol"?r+"":r,i),ql=(u,r,i)=>r.has(u)||Xc("Cannot "+i);var g=(u,r,i)=>(ql(u,r,"read from private field"),i?i.call(u):r.get(u)),gr=(u,r,i)=>r.has(u)?Xc("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(u):r.set(u,i),Yr=(u,r,i,a)=>(ql(u,r,"write to private field"),a?a.call(u,i):r.set(u,i),i),Z=(u,r,i)=>(ql(u,r,"access private method"),i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function kd(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ea={exports:{}},Oi={},ta={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function op(){if(Zc)return be;Zc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=k&&C[k]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function Y(C,b,de){this.props=C,this.context=b,this.refs=G,this.updater=de||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(C,b){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,b,"setState")},Y.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ee(){}ee.prototype=Y.prototype;function he(C,b,de){this.props=C,this.context=b,this.refs=G,this.updater=de||j}var ke=he.prototype=new ee;ke.constructor=he,H(ke,Y.prototype),ke.isPureReactComponent=!0;var le=Array.isArray,Ee=Object.prototype.hasOwnProperty,M={current:null},Te={key:!0,ref:!0,__self:!0,__source:!0};function X(C,b,de){var pe,Be={},K=null,Se=null;if(b!=null)for(pe in b.ref!==void 0&&(Se=b.ref),b.key!==void 0&&(K=""+b.key),b)Ee.call(b,pe)&&!Te.hasOwnProperty(pe)&&(Be[pe]=b[pe]);var Le=arguments.length-2;if(Le===1)Be.children=de;else if(1<Le){for(var _=Array(Le),Je=0;Je<Le;Je++)_[Je]=arguments[Je+2];Be.children=_}if(C&&C.defaultProps)for(pe in Le=C.defaultProps,Le)Be[pe]===void 0&&(Be[pe]=Le[pe]);return{$$typeof:u,type:C,key:K,ref:Se,props:Be,_owner:M.current}}function Ne(C,b){return{$$typeof:u,type:C.type,key:b,ref:C.ref,props:C.props,_owner:C._owner}}function we(C){return typeof C=="object"&&C!==null&&C.$$typeof===u}function _e(C){var b={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(de){return b[de]})}var ye=/\/+/g;function Ce(C,b){return typeof C=="object"&&C!==null&&C.key!=null?_e(""+C.key):b.toString(36)}function N(C,b,de,pe,Be){var K=typeof C;(K==="undefined"||K==="boolean")&&(C=null);var Se=!1;if(C===null)Se=!0;else switch(K){case"string":case"number":Se=!0;break;case"object":switch(C.$$typeof){case u:case r:Se=!0}}if(Se)return Se=C,Be=Be(Se),C=pe===""?"."+Ce(Se,0):pe,le(Be)?(de="",C!=null&&(de=C.replace(ye,"$&/")+"/"),N(Be,b,de,"",function(Je){return Je})):Be!=null&&(we(Be)&&(Be=Ne(Be,de+(!Be.key||Se&&Se.key===Be.key?"":(""+Be.key).replace(ye,"$&/")+"/")+C)),b.push(Be)),1;if(Se=0,pe=pe===""?".":pe+":",le(C))for(var Le=0;Le<C.length;Le++){K=C[Le];var _=pe+Ce(K,Le);Se+=N(K,b,de,_,Be)}else if(_=P(C),typeof _=="function")for(C=_.call(C),Le=0;!(K=C.next()).done;)K=K.value,_=pe+Ce(K,Le++),Se+=N(K,b,de,_,Be);else if(K==="object")throw b=String(C),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return Se}function fe(C,b,de){if(C==null)return C;var pe=[],Be=0;return N(C,pe,"","",function(K){return b.call(de,K,Be++)}),pe}function ve(C){if(C._status===-1){var b=C._result;b=b(),b.then(function(de){(C._status===0||C._status===-1)&&(C._status=1,C._result=de)},function(de){(C._status===0||C._status===-1)&&(C._status=2,C._result=de)}),C._status===-1&&(C._status=0,C._result=b)}if(C._status===1)return C._result.default;throw C._result}var re={current:null},O={transition:null},ie={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:O,ReactCurrentOwner:M};function $(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:fe,forEach:function(C,b,de){fe(C,function(){b.apply(this,arguments)},de)},count:function(C){var b=0;return fe(C,function(){b++}),b},toArray:function(C){return fe(C,function(b){return b})||[]},only:function(C){if(!we(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},be.Component=Y,be.Fragment=i,be.Profiler=c,be.PureComponent=he,be.StrictMode=a,be.Suspense=x,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,be.act=$,be.cloneElement=function(C,b,de){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var pe=H({},C.props),Be=C.key,K=C.ref,Se=C._owner;if(b!=null){if(b.ref!==void 0&&(K=b.ref,Se=M.current),b.key!==void 0&&(Be=""+b.key),C.type&&C.type.defaultProps)var Le=C.type.defaultProps;for(_ in b)Ee.call(b,_)&&!Te.hasOwnProperty(_)&&(pe[_]=b[_]===void 0&&Le!==void 0?Le[_]:b[_])}var _=arguments.length-2;if(_===1)pe.children=de;else if(1<_){Le=Array(_);for(var Je=0;Je<_;Je++)Le[Je]=arguments[Je+2];pe.children=Le}return{$$typeof:u,type:C.type,key:Be,ref:K,props:pe,_owner:Se}},be.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},be.createElement=X,be.createFactory=function(C){var b=X.bind(null,C);return b.type=C,b},be.createRef=function(){return{current:null}},be.forwardRef=function(C){return{$$typeof:p,render:C}},be.isValidElement=we,be.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:ve}},be.memo=function(C,b){return{$$typeof:S,type:C,compare:b===void 0?null:b}},be.startTransition=function(C){var b=O.transition;O.transition={};try{C()}finally{O.transition=b}},be.unstable_act=$,be.useCallback=function(C,b){return re.current.useCallback(C,b)},be.useContext=function(C){return re.current.useContext(C)},be.useDebugValue=function(){},be.useDeferredValue=function(C){return re.current.useDeferredValue(C)},be.useEffect=function(C,b){return re.current.useEffect(C,b)},be.useId=function(){return re.current.useId()},be.useImperativeHandle=function(C,b,de){return re.current.useImperativeHandle(C,b,de)},be.useInsertionEffect=function(C,b){return re.current.useInsertionEffect(C,b)},be.useLayoutEffect=function(C,b){return re.current.useLayoutEffect(C,b)},be.useMemo=function(C,b){return re.current.useMemo(C,b)},be.useReducer=function(C,b,de){return re.current.useReducer(C,b,de)},be.useRef=function(C){return re.current.useRef(C)},be.useState=function(C){return re.current.useState(C)},be.useSyncExternalStore=function(C,b,de){return re.current.useSyncExternalStore(C,b,de)},be.useTransition=function(){return re.current.useTransition()},be.version="18.3.1",be}var Jc;function ya(){return Jc||(Jc=1,ta.exports=op()),ta.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc;function lp(){if(qc)return Oi;qc=1;var u=ya(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(p,x,S){var A,k={},P=null,j=null;S!==void 0&&(P=""+S),x.key!==void 0&&(P=""+x.key),x.ref!==void 0&&(j=x.ref);for(A in x)a.call(x,A)&&!d.hasOwnProperty(A)&&(k[A]=x[A]);if(p&&p.defaultProps)for(A in x=p.defaultProps,x)k[A]===void 0&&(k[A]=x[A]);return{$$typeof:r,type:p,key:P,ref:j,props:k,_owner:c.current}}return Oi.Fragment=i,Oi.jsx=m,Oi.jsxs=m,Oi}var ed;function ap(){return ed||(ed=1,ea.exports=lp()),ea.exports}var f=ap(),J=ya();const zi=kd(J);var eo={},na={exports:{}},Pt={},ra={exports:{}},ia={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function up(){return td||(td=1,(function(u){function r(O,ie){var $=O.length;O.push(ie);e:for(;0<$;){var C=$-1>>>1,b=O[C];if(0<c(b,ie))O[C]=ie,O[$]=b,$=C;else break e}}function i(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var ie=O[0],$=O.pop();if($!==ie){O[0]=$;e:for(var C=0,b=O.length,de=b>>>1;C<de;){var pe=2*(C+1)-1,Be=O[pe],K=pe+1,Se=O[K];if(0>c(Be,$))K<b&&0>c(Se,Be)?(O[C]=Se,O[K]=$,C=K):(O[C]=Be,O[pe]=$,C=pe);else if(K<b&&0>c(Se,$))O[C]=Se,O[K]=$,C=K;else break e}}return ie}function c(O,ie){var $=O.sortIndex-ie.sortIndex;return $!==0?$:O.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var m=Date,p=m.now();u.unstable_now=function(){return m.now()-p}}var x=[],S=[],A=1,k=null,P=3,j=!1,H=!1,G=!1,Y=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ke(O){for(var ie=i(S);ie!==null;){if(ie.callback===null)a(S);else if(ie.startTime<=O)a(S),ie.sortIndex=ie.expirationTime,r(x,ie);else break;ie=i(S)}}function le(O){if(G=!1,ke(O),!H)if(i(x)!==null)H=!0,ve(Ee);else{var ie=i(S);ie!==null&&re(le,ie.startTime-O)}}function Ee(O,ie){H=!1,G&&(G=!1,ee(X),X=-1),j=!0;var $=P;try{for(ke(ie),k=i(x);k!==null&&(!(k.expirationTime>ie)||O&&!_e());){var C=k.callback;if(typeof C=="function"){k.callback=null,P=k.priorityLevel;var b=C(k.expirationTime<=ie);ie=u.unstable_now(),typeof b=="function"?k.callback=b:k===i(x)&&a(x),ke(ie)}else a(x);k=i(x)}if(k!==null)var de=!0;else{var pe=i(S);pe!==null&&re(le,pe.startTime-ie),de=!1}return de}finally{k=null,P=$,j=!1}}var M=!1,Te=null,X=-1,Ne=5,we=-1;function _e(){return!(u.unstable_now()-we<Ne)}function ye(){if(Te!==null){var O=u.unstable_now();we=O;var ie=!0;try{ie=Te(!0,O)}finally{ie?Ce():(M=!1,Te=null)}}else M=!1}var Ce;if(typeof he=="function")Ce=function(){he(ye)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,fe=N.port2;N.port1.onmessage=ye,Ce=function(){fe.postMessage(null)}}else Ce=function(){Y(ye,0)};function ve(O){Te=O,M||(M=!0,Ce())}function re(O,ie){X=Y(function(){O(u.unstable_now())},ie)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(O){O.callback=null},u.unstable_continueExecution=function(){H||j||(H=!0,ve(Ee))},u.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ne=0<O?Math.floor(1e3/O):5},u.unstable_getCurrentPriorityLevel=function(){return P},u.unstable_getFirstCallbackNode=function(){return i(x)},u.unstable_next=function(O){switch(P){case 1:case 2:case 3:var ie=3;break;default:ie=P}var $=P;P=ie;try{return O()}finally{P=$}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(O,ie){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=P;P=O;try{return ie()}finally{P=$}},u.unstable_scheduleCallback=function(O,ie,$){var C=u.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?C+$:C):$=C,O){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=$+b,O={id:A++,callback:ie,priorityLevel:O,startTime:$,expirationTime:b,sortIndex:-1},$>C?(O.sortIndex=$,r(S,O),i(x)===null&&O===i(S)&&(G?(ee(X),X=-1):G=!0,re(le,$-C))):(O.sortIndex=b,r(x,O),H||j||(H=!0,ve(Ee))),O},u.unstable_shouldYield=_e,u.unstable_wrapCallback=function(O){var ie=P;return function(){var $=P;P=ie;try{return O.apply(this,arguments)}finally{P=$}}}})(ia)),ia}var nd;function cp(){return nd||(nd=1,ra.exports=up()),ra.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function dp(){if(rd)return Pt;rd=1;var u=ya(),r=cp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},k={};function P(e){return x.call(k,e)?!0:x.call(A,e)?!1:S.test(e)?k[e]=!0:(A[e]=!0,!1)}function j(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H(e,t,n,s){if(t===null||typeof t>"u"||j(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function G(e,t,n,s,o,l,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=h}var Y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Y[e]=new G(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Y[t]=new G(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){Y[e]=new G(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Y[e]=new G(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Y[e]=new G(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){Y[e]=new G(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){Y[e]=new G(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){Y[e]=new G(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){Y[e]=new G(e,5,!1,e.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function he(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ee,he);Y[t]=new G(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ee,he);Y[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ee,he);Y[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!1,!1)}),Y.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){Y[e]=new G(e,1,!1,e.toLowerCase(),null,!0,!0)});function ke(e,t,n,s){var o=Y.hasOwnProperty(t)?Y[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H(t,n,o,s)&&(n=null),s||o===null?P(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var le=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ee=Symbol.for("react.element"),M=Symbol.for("react.portal"),Te=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Ne=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),_e=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),O=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var $=Object.assign,C;function b(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var de=!1;function pe(e,t){if(!e||de)return"";de=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var s=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){s=T}e.call(t.prototype)}else{try{throw Error()}catch(T){s=T}e()}}catch(T){if(T&&s&&typeof T.stack=="string"){for(var o=T.stack.split(`
`),l=s.stack.split(`
`),h=o.length-1,y=l.length-1;1<=h&&0<=y&&o[h]!==l[y];)y--;for(;1<=h&&0<=y;h--,y--)if(o[h]!==l[y]){if(h!==1||y!==1)do if(h--,y--,0>y||o[h]!==l[y]){var v=`
`+o[h].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=h&&0<=y);break}}}finally{de=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?b(e):""}function Be(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=pe(e.type,!1),e;case 11:return e=pe(e.type.render,!1),e;case 1:return e=pe(e.type,!0),e;default:return""}}function K(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Te:return"Fragment";case M:return"Portal";case Ne:return"Profiler";case X:return"StrictMode";case Ce:return"Suspense";case N:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _e:return(e.displayName||"Context")+".Consumer";case we:return(e._context.displayName||"Context")+".Provider";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case ve:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(t);case 8:return t===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Je(e){var t=_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){s=""+h,l.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ot(e){e._valueTracker||(e._valueTracker=Je(e))}function un(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=_(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var n=t.checked;return $({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function E(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Le(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function st(e,t){t=t.checked,t!=null&&ke(e,"checked",t,!1)}function Jr(e,t){st(e,t);var n=Le(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ei(e,t.type,n):t.hasOwnProperty("defaultValue")&&ei(e,t.type,Le(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qr(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ei(e,t,n){(t!=="number"||Kt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mt=Array.isArray;function Fn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Le(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function R(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return $({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function me(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(mt(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Le(n)}}function De(e,t){var n=Le(t.value),s=Le(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ze(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oe(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tt,Lt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function at(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ct=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(e){Ct.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nt[t]=nt[e]})});function cn(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nt.hasOwnProperty(e)&&nt[e]?(""+t).trim():t+"px"}function Pn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=cn(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var Xt=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(e,t){if(t){if(Xt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Ut(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,Nn=null,zt=null;function Ln(e){if(e=Ci(e)){if(typeof ti!="function")throw Error(i(280));var t=e.stateNode;t&&(t=ms(t),ti(e.stateNode,e.type,t))}}function ni(e){Nn?zt?zt.push(e):zt=[e]:Nn=e}function _r(){if(Nn){var e=Nn,t=zt;if(zt=Nn=null,Ln(e),t)for(e=0;e<t.length;e++)Ln(t[e])}}function ri(e,t){return e(t)}function Sr(){}var Cr=!1;function ii(e,t,n){if(Cr)return e(t,n);Cr=!0;try{return ri(e,t,n)}finally{Cr=!1,(Nn!==null||zt!==null)&&(Sr(),_r())}}function bt(e,t){var n=e.stateNode;if(n===null)return null;var s=ms(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var nr=!1;if(p)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){nr=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{nr=!1}function uh(e,t,n,s,o,l,h,y,v){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(z){this.onError(z)}}var si=!1,Yi=null,Qi=!1,yo=null,ch={onError:function(e){si=!0,Yi=e}};function dh(e,t,n,s,o,l,h,y,v){si=!1,Yi=null,uh.apply(ch,arguments)}function hh(e,t,n,s,o,l,h,y,v){if(dh.apply(this,arguments),si){if(si){var T=Yi;si=!1,Yi=null}else throw Error(i(198));Qi||(Qi=!0,yo=T)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function va(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ka(e){if(rr(e)!==e)throw Error(i(188))}function fh(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ka(o),e;if(l===s)return ka(o),t;l=l.sibling}throw Error(i(188))}if(n.return!==s.return)n=o,s=l;else{for(var h=!1,y=o.child;y;){if(y===n){h=!0,n=o,s=l;break}if(y===s){h=!0,s=o,n=l;break}y=y.sibling}if(!h){for(y=l.child;y;){if(y===n){h=!0,n=l,s=o;break}if(y===s){h=!0,s=l,n=o;break}y=y.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function wa(e){return e=fh(e),e!==null?_a(e):null}function _a(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_a(e);if(t!==null)return t;e=e.sibling}return null}var Sa=r.unstable_scheduleCallback,Ca=r.unstable_cancelCallback,ph=r.unstable_shouldYield,mh=r.unstable_requestPaint,qe=r.unstable_now,gh=r.unstable_getCurrentPriorityLevel,vo=r.unstable_ImmediatePriority,Ea=r.unstable_UserBlockingPriority,Ki=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Aa=r.unstable_IdlePriority,Xi=null,dn=null;function yh(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:wh,vh=Math.log,kh=Math.LN2;function wh(e){return e>>>=0,e===0?32:31-(vh(e)/kh|0)|0}var Zi=64,Ji=4194304;function oi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,h=n&268435455;if(h!==0){var y=h&~o;y!==0?s=oi(y):(l&=h,l!==0&&(s=oi(l)))}else h=n&~o,h!==0?s=oi(h):l!==0&&(s=oi(l));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Jt(t),o=1<<n,s|=e[n],t&=~o;return s}function _h(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var h=31-Jt(l),y=1<<h,v=o[h];v===-1?((y&n)===0||(y&s)!==0)&&(o[h]=_h(y,t)):v<=t&&(e.expiredLanes|=y),l&=~y}}function ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ba(){var e=Zi;return Zi<<=1,(Zi&4194240)===0&&(Zi=64),e}function wo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function li(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function Ch(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Jt(n),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~l}}function _o(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Jt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var Ue=0;function Da(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Fa,So,Pa,Ta,Na,Co=!1,es=[],In=null,Mn=null,jn=null,ai=new Map,ui=new Map,Rn=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ui.delete(t.pointerId)}}function ci(e,t,n,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Ci(t),t!==null&&So(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ah(e,t,n,s,o){switch(t){case"focusin":return In=ci(In,e,t,n,s,o),!0;case"dragenter":return Mn=ci(Mn,e,t,n,s,o),!0;case"mouseover":return jn=ci(jn,e,t,n,s,o),!0;case"pointerover":var l=o.pointerId;return ai.set(l,ci(ai.get(l)||null,e,t,n,s,o)),!0;case"gotpointercapture":return l=o.pointerId,ui.set(l,ci(ui.get(l)||null,e,t,n,s,o)),!0}return!1}function ba(e){var t=ir(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=va(n),t!==null){e.blockedOn=t,Na(e.priority,function(){Pa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ao(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Zt=s,n.target.dispatchEvent(s),Zt=null}else return t=Ci(n),t!==null&&So(t),e.blockedOn=n,!1;t.shift()}return!0}function Ia(e,t,n){ts(e)&&n.delete(t)}function Bh(){Co=!1,In!==null&&ts(In)&&(In=null),Mn!==null&&ts(Mn)&&(Mn=null),jn!==null&&ts(jn)&&(jn=null),ai.forEach(Ia),ui.forEach(Ia)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bh)))}function hi(e){function t(o){return di(o,e)}if(0<es.length){di(es[0],e);for(var n=1;n<es.length;n++){var s=es[n];s.blockedOn===e&&(s.blockedOn=null)}}for(In!==null&&di(In,e),Mn!==null&&di(Mn,e),jn!==null&&di(jn,e),ai.forEach(t),ui.forEach(t),n=0;n<Rn.length;n++)s=Rn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)ba(n),n.blockedOn===null&&Rn.shift()}var Er=le.ReactCurrentBatchConfig,ns=!0;function Dh(e,t,n,s){var o=Ue,l=Er.transition;Er.transition=null;try{Ue=1,Eo(e,t,n,s)}finally{Ue=o,Er.transition=l}}function Fh(e,t,n,s){var o=Ue,l=Er.transition;Er.transition=null;try{Ue=4,Eo(e,t,n,s)}finally{Ue=o,Er.transition=l}}function Eo(e,t,n,s){if(ns){var o=Ao(e,t,n,s);if(o===null)Wo(e,t,s,rs,n),La(e,s);else if(Ah(o,e,t,n,s))s.stopPropagation();else if(La(e,s),t&4&&-1<Eh.indexOf(e)){for(;o!==null;){var l=Ci(o);if(l!==null&&Fa(l),l=Ao(e,t,n,s),l===null&&Wo(e,t,s,rs,n),l===o)break;o=l}o!==null&&s.stopPropagation()}else Wo(e,t,s,null,n)}}var rs=null;function Ao(e,t,n,s){if(rs=null,e=Tn(s),e=ir(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=va(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function Ma(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gh()){case vo:return 1;case Ea:return 4;case Ki:case xh:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var On=null,Bo=null,is=null;function ja(){if(is)return is;var e,t=Bo,n=t.length,s,o="value"in On?On.value:On.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===o[l-s];s++);return is=o.slice(e,1<s?1-s:void 0)}function ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Ra(){return!1}function It(e){function t(n,s,o,l,h){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=h,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(l):l[y]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?os:Ra,this.isPropagationStopped=Ra,this}return $(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=It(Ar),fi=$({},Ar,{view:0,detail:0}),Ph=It(fi),Fo,Po,pi,ls=$({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Fo=e.screenX-pi.screenX,Po=e.screenY-pi.screenY):Po=Fo=0,pi=e),Fo)},movementY:function(e){return"movementY"in e?e.movementY:Po}}),Oa=It(ls),Th=$({},ls,{dataTransfer:0}),Nh=It(Th),Lh=$({},fi,{relatedTarget:0}),To=It(Lh),bh=$({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Ih=It(bh),Mh=$({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jh=It(Mh),Rh=$({},Ar,{data:0}),Ua=It(Rh),Oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zh[e])?!!t[e]:!1}function No(){return Hh}var Wh=$({},fi,{key:function(e){if(e.key){var t=Oh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Uh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(e){return e.type==="keypress"?ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=It(Wh),Vh=$({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=It(Vh),$h=$({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),Yh=It($h),Qh=$({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kh=It(Qh),Xh=$({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=It(Xh),Jh=[9,13,27,32],Lo=p&&"CompositionEvent"in window,mi=null;p&&"documentMode"in document&&(mi=document.documentMode);var qh=p&&"TextEvent"in window&&!mi,Ha=p&&(!Lo||mi&&8<mi&&11>=mi),Wa=" ",Ga=!1;function Va(e,t){switch(e){case"keyup":return Jh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function ef(e,t){switch(e){case"compositionend":return $a(t);case"keypress":return t.which!==32?null:(Ga=!0,Wa);case"textInput":return e=t.data,e===Wa&&Ga?null:e;default:return null}}function tf(e,t){if(Br)return e==="compositionend"||!Lo&&Va(e,t)?(e=ja(),is=Bo=On=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ha&&t.locale!=="ko"?null:t.data;default:return null}}var nf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nf[e.type]:t==="textarea"}function Qa(e,t,n,s){ni(s),t=hs(t,"onChange"),0<t.length&&(n=new Do("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var gi=null,xi=null;function rf(e){hu(e,0)}function as(e){var t=Nr(e);if(un(t))return e}function sf(e,t){if(e==="change")return t}var Ka=!1;if(p){var bo;if(p){var Io="oninput"in document;if(!Io){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),Io=typeof Xa.oninput=="function"}bo=Io}else bo=!1;Ka=bo&&(!document.documentMode||9<document.documentMode)}function Za(){gi&&(gi.detachEvent("onpropertychange",Ja),xi=gi=null)}function Ja(e){if(e.propertyName==="value"&&as(xi)){var t=[];Qa(t,xi,e,Tn(e)),ii(rf,t)}}function of(e,t,n){e==="focusin"?(Za(),gi=t,xi=n,gi.attachEvent("onpropertychange",Ja)):e==="focusout"&&Za()}function lf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return as(xi)}function af(e,t){if(e==="click")return as(t)}function uf(e,t){if(e==="input"||e==="change")return as(t)}function cf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:cf;function yi(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!x.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eu(e,t){var n=qa(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qa(n)}}function tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nu(){for(var e=window,t=Kt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Mo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function df(e){var t=nu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tu(n.ownerDocument.documentElement,n)){if(s!==null&&Mo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=eu(n,l);var h=eu(n,s);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hf=p&&"documentMode"in document&&11>=document.documentMode,Dr=null,jo=null,vi=null,Ro=!1;function ru(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ro||Dr==null||Dr!==Kt(s)||(s=Dr,"selectionStart"in s&&Mo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vi&&yi(vi,s)||(vi=s,s=hs(jo,"onSelect"),0<s.length&&(t=new Do("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Dr)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Oo={},iu={};p&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function cs(e){if(Oo[e])return Oo[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iu)return Oo[e]=t[n];return e}var su=cs("animationend"),ou=cs("animationiteration"),lu=cs("animationstart"),au=cs("transitionend"),uu=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){uu.set(e,t),d(t,[e])}for(var Uo=0;Uo<cu.length;Uo++){var zo=cu[Uo],ff=zo.toLowerCase(),pf=zo[0].toUpperCase()+zo.slice(1);Un(ff,"on"+pf)}Un(su,"onAnimationEnd"),Un(ou,"onAnimationIteration"),Un(lu,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(au,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function du(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,hh(s,t,void 0,e),e.currentTarget=null}function hu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var h=s.length-1;0<=h;h--){var y=s[h],v=y.instance,T=y.currentTarget;if(y=y.listener,v!==l&&o.isPropagationStopped())break e;du(o,y,T),l=v}else for(h=0;h<s.length;h++){if(y=s[h],v=y.instance,T=y.currentTarget,y=y.listener,v!==l&&o.isPropagationStopped())break e;du(o,y,T),l=v}}}if(Qi)throw e=yo,Qi=!1,yo=null,e}function Ve(e,t){var n=t[Ko];n===void 0&&(n=t[Ko]=new Set);var s=e+"__bubble";n.has(s)||(fu(t,e,2,!1),n.add(s))}function Ho(e,t,n){var s=0;t&&(s|=4),fu(n,e,s,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function wi(e){if(!e[ds]){e[ds]=!0,a.forEach(function(n){n!=="selectionchange"&&(mf.has(n)||Ho(n,!1,e),Ho(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Ho("selectionchange",!1,t))}}function fu(e,t,n,s){switch(Ma(t)){case 1:var o=Dh;break;case 4:o=Fh;break;default:o=Eo}n=o.bind(null,t,n,e),o=void 0,!nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wo(e,t,n,s,o){var l=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var y=s.stateNode.containerInfo;if(y===o||y.nodeType===8&&y.parentNode===o)break;if(h===4)for(h=s.return;h!==null;){var v=h.tag;if((v===3||v===4)&&(v=h.stateNode.containerInfo,v===o||v.nodeType===8&&v.parentNode===o))return;h=h.return}for(;y!==null;){if(h=ir(y),h===null)return;if(v=h.tag,v===5||v===6){s=l=h;continue e}y=y.parentNode}}s=s.return}ii(function(){var T=l,z=Tn(n),W=[];e:{var U=uu.get(e);if(U!==void 0){var q=Do,se=e;switch(e){case"keypress":if(ss(n)===0)break e;case"keydown":case"keyup":q=Gh;break;case"focusin":se="focus",q=To;break;case"focusout":se="blur",q=To;break;case"beforeblur":case"afterblur":q=To;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Yh;break;case su:case ou:case lu:q=Ih;break;case au:q=Kh;break;case"scroll":q=Ph;break;case"wheel":q=Zh;break;case"copy":case"cut":case"paste":q=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=za}var ae=(t&4)!==0,et=!ae&&e==="scroll",B=ae?U!==null?U+"Capture":null:U;ae=[];for(var w=T,F;w!==null;){F=w;var V=F.stateNode;if(F.tag===5&&V!==null&&(F=V,B!==null&&(V=bt(w,B),V!=null&&ae.push(_i(w,V,F)))),et)break;w=w.return}0<ae.length&&(U=new q(U,se,null,n,z),W.push({event:U,listeners:ae}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",U&&n!==Zt&&(se=n.relatedTarget||n.fromElement)&&(ir(se)||se[vn]))break e;if((q||U)&&(U=z.window===z?z:(U=z.ownerDocument)?U.defaultView||U.parentWindow:window,q?(se=n.relatedTarget||n.toElement,q=T,se=se?ir(se):null,se!==null&&(et=rr(se),se!==et||se.tag!==5&&se.tag!==6)&&(se=null)):(q=null,se=T),q!==se)){if(ae=Oa,V="onMouseLeave",B="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(ae=za,V="onPointerLeave",B="onPointerEnter",w="pointer"),et=q==null?U:Nr(q),F=se==null?U:Nr(se),U=new ae(V,w+"leave",q,n,z),U.target=et,U.relatedTarget=F,V=null,ir(z)===T&&(ae=new ae(B,w+"enter",se,n,z),ae.target=F,ae.relatedTarget=et,V=ae),et=V,q&&se)t:{for(ae=q,B=se,w=0,F=ae;F;F=Pr(F))w++;for(F=0,V=B;V;V=Pr(V))F++;for(;0<w-F;)ae=Pr(ae),w--;for(;0<F-w;)B=Pr(B),F--;for(;w--;){if(ae===B||B!==null&&ae===B.alternate)break t;ae=Pr(ae),B=Pr(B)}ae=null}else ae=null;q!==null&&pu(W,U,q,ae,!1),se!==null&&et!==null&&pu(W,et,se,ae,!0)}}e:{if(U=T?Nr(T):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var ce=sf;else if(Ya(U))if(Ka)ce=uf;else{ce=lf;var ge=of}else(q=U.nodeName)&&q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(ce=af);if(ce&&(ce=ce(e,T))){Qa(W,ce,n,z);break e}ge&&ge(e,U,T),e==="focusout"&&(ge=U._wrapperState)&&ge.controlled&&U.type==="number"&&ei(U,"number",U.value)}switch(ge=T?Nr(T):window,e){case"focusin":(Ya(ge)||ge.contentEditable==="true")&&(Dr=ge,jo=T,vi=null);break;case"focusout":vi=jo=Dr=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,ru(W,n,z);break;case"selectionchange":if(hf)break;case"keydown":case"keyup":ru(W,n,z)}var xe;if(Lo)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Br?Va(e,n)&&(Ae="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ae="onCompositionStart");Ae&&(Ha&&n.locale!=="ko"&&(Br||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Br&&(xe=ja()):(On=z,Bo="value"in On?On.value:On.textContent,Br=!0)),ge=hs(T,Ae),0<ge.length&&(Ae=new Ua(Ae,e,null,n,z),W.push({event:Ae,listeners:ge}),xe?Ae.data=xe:(xe=$a(n),xe!==null&&(Ae.data=xe)))),(xe=qh?ef(e,n):tf(e,n))&&(T=hs(T,"onBeforeInput"),0<T.length&&(z=new Ua("onBeforeInput","beforeinput",null,n,z),W.push({event:z,listeners:T}),z.data=xe))}hu(W,t)})}function _i(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hs(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=bt(e,n),l!=null&&s.unshift(_i(e,l,o)),l=bt(e,t),l!=null&&s.push(_i(e,l,o))),e=e.return}return s}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pu(e,t,n,s,o){for(var l=t._reactName,h=[];n!==null&&n!==s;){var y=n,v=y.alternate,T=y.stateNode;if(v!==null&&v===s)break;y.tag===5&&T!==null&&(y=T,o?(v=bt(n,l),v!=null&&h.unshift(_i(n,v,y))):o||(v=bt(n,l),v!=null&&h.push(_i(n,v,y)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var gf=/\r\n?/g,xf=/\u0000|\uFFFD/g;function mu(e){return(typeof e=="string"?e:""+e).replace(gf,`
`).replace(xf,"")}function fs(e,t,n){if(t=mu(t),mu(e)!==t&&n)throw Error(i(425))}function ps(){}var Go=null,Vo=null;function $o(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yo=typeof setTimeout=="function"?setTimeout:void 0,yf=typeof clearTimeout=="function"?clearTimeout:void 0,gu=typeof Promise=="function"?Promise:void 0,vf=typeof queueMicrotask=="function"?queueMicrotask:typeof gu<"u"?function(e){return gu.resolve(null).then(e).catch(kf)}:Yo;function kf(e){setTimeout(function(){throw e})}function Qo(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),hi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);hi(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),hn="__reactFiber$"+Tr,Si="__reactProps$"+Tr,vn="__reactContainer$"+Tr,Ko="__reactEvents$"+Tr,wf="__reactListeners$"+Tr,_f="__reactHandles$"+Tr;function ir(e){var t=e[hn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[hn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xu(e);e!==null;){if(n=e[hn])return n;e=xu(e)}return t}e=n,n=e.parentNode}return null}function Ci(e){return e=e[hn]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ms(e){return e[Si]||null}var Xo=[],Lr=-1;function Hn(e){return{current:e}}function $e(e){0>Lr||(e.current=Xo[Lr],Xo[Lr]=null,Lr--)}function Ge(e,t){Lr++,Xo[Lr]=e.current,e.current=t}var Wn={},gt=Hn(Wn),Et=Hn(!1),sr=Wn;function br(e,t){var n=e.type.contextTypes;if(!n)return Wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function At(e){return e=e.childContextTypes,e!=null}function gs(){$e(Et),$e(gt)}function yu(e,t,n){if(gt.current!==Wn)throw Error(i(168));Ge(gt,t),Ge(Et,n)}function vu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(i(108,Se(e)||"Unknown",o));return $({},n,s)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,sr=gt.current,Ge(gt,e),Ge(Et,Et.current),!0}function ku(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=vu(e,t,sr),s.__reactInternalMemoizedMergedChildContext=e,$e(Et),$e(gt),Ge(gt,e)):$e(Et),Ge(Et,n)}var kn=null,ys=!1,Zo=!1;function wu(e){kn===null?kn=[e]:kn.push(e)}function Sf(e){ys=!0,wu(e)}function Gn(){if(!Zo&&kn!==null){Zo=!0;var e=0,t=Ue;try{var n=kn;for(Ue=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}kn=null,ys=!1}catch(o){throw kn!==null&&(kn=kn.slice(e+1)),Sa(vo,Gn),o}finally{Ue=t,Zo=!1}}return null}var Ir=[],Mr=0,vs=null,ks=0,Ht=[],Wt=0,or=null,wn=1,_n="";function lr(e,t){Ir[Mr++]=ks,Ir[Mr++]=vs,vs=e,ks=t}function _u(e,t,n){Ht[Wt++]=wn,Ht[Wt++]=_n,Ht[Wt++]=or,or=e;var s=wn;e=_n;var o=32-Jt(s)-1;s&=~(1<<o),n+=1;var l=32-Jt(t)+o;if(30<l){var h=o-o%5;l=(s&(1<<h)-1).toString(32),s>>=h,o-=h,wn=1<<32-Jt(t)+o|n<<o|s,_n=l+e}else wn=1<<l|n<<o|s,_n=e}function Jo(e){e.return!==null&&(lr(e,1),_u(e,1,0))}function qo(e){for(;e===vs;)vs=Ir[--Mr],Ir[Mr]=null,ks=Ir[--Mr],Ir[Mr]=null;for(;e===or;)or=Ht[--Wt],Ht[Wt]=null,_n=Ht[--Wt],Ht[Wt]=null,wn=Ht[--Wt],Ht[Wt]=null}var Mt=null,jt=null,Qe=!1,en=null;function Su(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,jt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=or!==null?{id:wn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,jt=null,!0):!1;default:return!1}}function el(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tl(e){if(Qe){var t=jt;if(t){var n=t;if(!Cu(e,t)){if(el(e))throw Error(i(418));t=zn(n.nextSibling);var s=Mt;t&&Cu(e,t)?Su(s,n):(e.flags=e.flags&-4097|2,Qe=!1,Mt=e)}}else{if(el(e))throw Error(i(418));e.flags=e.flags&-4097|2,Qe=!1,Mt=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function ws(e){if(e!==Mt)return!1;if(!Qe)return Eu(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$o(e.type,e.memoizedProps)),t&&(t=jt)){if(el(e))throw Au(),Error(i(418));for(;t;)Su(e,t),t=zn(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=zn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Mt?zn(e.stateNode.nextSibling):null;return!0}function Au(){for(var e=jt;e;)e=zn(e.nextSibling)}function jr(){jt=Mt=null,Qe=!1}function nl(e){en===null?en=[e]:en.push(e)}var Cf=le.ReactCurrentBatchConfig;function Ei(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(h){var y=o.refs;h===null?delete y[l]:y[l]=h},t._stringRef=l,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bu(e){var t=e._init;return t(e._payload)}function Du(e){function t(B,w){if(e){var F=B.deletions;F===null?(B.deletions=[w],B.flags|=16):F.push(w)}}function n(B,w){if(!e)return null;for(;w!==null;)t(B,w),w=w.sibling;return null}function s(B,w){for(B=new Map;w!==null;)w.key!==null?B.set(w.key,w):B.set(w.index,w),w=w.sibling;return B}function o(B,w){return B=Jn(B,w),B.index=0,B.sibling=null,B}function l(B,w,F){return B.index=F,e?(F=B.alternate,F!==null?(F=F.index,F<w?(B.flags|=2,w):F):(B.flags|=2,w)):(B.flags|=1048576,w)}function h(B){return e&&B.alternate===null&&(B.flags|=2),B}function y(B,w,F,V){return w===null||w.tag!==6?(w=Yl(F,B.mode,V),w.return=B,w):(w=o(w,F),w.return=B,w)}function v(B,w,F,V){var ce=F.type;return ce===Te?z(B,w,F.props.children,V,F.key):w!==null&&(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ve&&Bu(ce)===w.type)?(V=o(w,F.props),V.ref=Ei(B,w,F),V.return=B,V):(V=$s(F.type,F.key,F.props,null,B.mode,V),V.ref=Ei(B,w,F),V.return=B,V)}function T(B,w,F,V){return w===null||w.tag!==4||w.stateNode.containerInfo!==F.containerInfo||w.stateNode.implementation!==F.implementation?(w=Ql(F,B.mode,V),w.return=B,w):(w=o(w,F.children||[]),w.return=B,w)}function z(B,w,F,V,ce){return w===null||w.tag!==7?(w=mr(F,B.mode,V,ce),w.return=B,w):(w=o(w,F),w.return=B,w)}function W(B,w,F){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yl(""+w,B.mode,F),w.return=B,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ee:return F=$s(w.type,w.key,w.props,null,B.mode,F),F.ref=Ei(B,null,w),F.return=B,F;case M:return w=Ql(w,B.mode,F),w.return=B,w;case ve:var V=w._init;return W(B,V(w._payload),F)}if(mt(w)||ie(w))return w=mr(w,B.mode,F,null),w.return=B,w;_s(B,w)}return null}function U(B,w,F,V){var ce=w!==null?w.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ce!==null?null:y(B,w,""+F,V);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ee:return F.key===ce?v(B,w,F,V):null;case M:return F.key===ce?T(B,w,F,V):null;case ve:return ce=F._init,U(B,w,ce(F._payload),V)}if(mt(F)||ie(F))return ce!==null?null:z(B,w,F,V,null);_s(B,F)}return null}function q(B,w,F,V,ce){if(typeof V=="string"&&V!==""||typeof V=="number")return B=B.get(F)||null,y(w,B,""+V,ce);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ee:return B=B.get(V.key===null?F:V.key)||null,v(w,B,V,ce);case M:return B=B.get(V.key===null?F:V.key)||null,T(w,B,V,ce);case ve:var ge=V._init;return q(B,w,F,ge(V._payload),ce)}if(mt(V)||ie(V))return B=B.get(F)||null,z(w,B,V,ce,null);_s(w,V)}return null}function se(B,w,F,V){for(var ce=null,ge=null,xe=w,Ae=w=0,ht=null;xe!==null&&Ae<F.length;Ae++){xe.index>Ae?(ht=xe,xe=null):ht=xe.sibling;var Re=U(B,xe,F[Ae],V);if(Re===null){xe===null&&(xe=ht);break}e&&xe&&Re.alternate===null&&t(B,xe),w=l(Re,w,Ae),ge===null?ce=Re:ge.sibling=Re,ge=Re,xe=ht}if(Ae===F.length)return n(B,xe),Qe&&lr(B,Ae),ce;if(xe===null){for(;Ae<F.length;Ae++)xe=W(B,F[Ae],V),xe!==null&&(w=l(xe,w,Ae),ge===null?ce=xe:ge.sibling=xe,ge=xe);return Qe&&lr(B,Ae),ce}for(xe=s(B,xe);Ae<F.length;Ae++)ht=q(xe,B,Ae,F[Ae],V),ht!==null&&(e&&ht.alternate!==null&&xe.delete(ht.key===null?Ae:ht.key),w=l(ht,w,Ae),ge===null?ce=ht:ge.sibling=ht,ge=ht);return e&&xe.forEach(function(qn){return t(B,qn)}),Qe&&lr(B,Ae),ce}function ae(B,w,F,V){var ce=ie(F);if(typeof ce!="function")throw Error(i(150));if(F=ce.call(F),F==null)throw Error(i(151));for(var ge=ce=null,xe=w,Ae=w=0,ht=null,Re=F.next();xe!==null&&!Re.done;Ae++,Re=F.next()){xe.index>Ae?(ht=xe,xe=null):ht=xe.sibling;var qn=U(B,xe,Re.value,V);if(qn===null){xe===null&&(xe=ht);break}e&&xe&&qn.alternate===null&&t(B,xe),w=l(qn,w,Ae),ge===null?ce=qn:ge.sibling=qn,ge=qn,xe=ht}if(Re.done)return n(B,xe),Qe&&lr(B,Ae),ce;if(xe===null){for(;!Re.done;Ae++,Re=F.next())Re=W(B,Re.value,V),Re!==null&&(w=l(Re,w,Ae),ge===null?ce=Re:ge.sibling=Re,ge=Re);return Qe&&lr(B,Ae),ce}for(xe=s(B,xe);!Re.done;Ae++,Re=F.next())Re=q(xe,B,Ae,Re.value,V),Re!==null&&(e&&Re.alternate!==null&&xe.delete(Re.key===null?Ae:Re.key),w=l(Re,w,Ae),ge===null?ce=Re:ge.sibling=Re,ge=Re);return e&&xe.forEach(function(rp){return t(B,rp)}),Qe&&lr(B,Ae),ce}function et(B,w,F,V){if(typeof F=="object"&&F!==null&&F.type===Te&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Ee:e:{for(var ce=F.key,ge=w;ge!==null;){if(ge.key===ce){if(ce=F.type,ce===Te){if(ge.tag===7){n(B,ge.sibling),w=o(ge,F.props.children),w.return=B,B=w;break e}}else if(ge.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ve&&Bu(ce)===ge.type){n(B,ge.sibling),w=o(ge,F.props),w.ref=Ei(B,ge,F),w.return=B,B=w;break e}n(B,ge);break}else t(B,ge);ge=ge.sibling}F.type===Te?(w=mr(F.props.children,B.mode,V,F.key),w.return=B,B=w):(V=$s(F.type,F.key,F.props,null,B.mode,V),V.ref=Ei(B,w,F),V.return=B,B=V)}return h(B);case M:e:{for(ge=F.key;w!==null;){if(w.key===ge)if(w.tag===4&&w.stateNode.containerInfo===F.containerInfo&&w.stateNode.implementation===F.implementation){n(B,w.sibling),w=o(w,F.children||[]),w.return=B,B=w;break e}else{n(B,w);break}else t(B,w);w=w.sibling}w=Ql(F,B.mode,V),w.return=B,B=w}return h(B);case ve:return ge=F._init,et(B,w,ge(F._payload),V)}if(mt(F))return se(B,w,F,V);if(ie(F))return ae(B,w,F,V);_s(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,w!==null&&w.tag===6?(n(B,w.sibling),w=o(w,F),w.return=B,B=w):(n(B,w),w=Yl(F,B.mode,V),w.return=B,B=w),h(B)):n(B,w)}return et}var Rr=Du(!0),Fu=Du(!1),Ss=Hn(null),Cs=null,Or=null,rl=null;function il(){rl=Or=Cs=null}function sl(e){var t=Ss.current;$e(Ss),e._currentValue=t}function ol(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ur(e,t){Cs=e,rl=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Bt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(rl!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if(Cs===null)throw Error(i(308));Or=e,Cs.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var ar=null;function ll(e){ar===null?ar=[e]:ar.push(e)}function Pu(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,ll(t)):(n.next=o.next,o.next=n),t.interleaved=n,Sn(e,s)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vn=!1;function al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(je&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Sn(e,n)}return o=s.interleaved,o===null?(t.next=t,ll(s)):(t.next=o.next,o.next=t),s.interleaved=t,Sn(e,n)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,_o(e,n)}}function Nu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=h:l=l.next=h,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function As(e,t,n,s){var o=e.updateQueue;Vn=!1;var l=o.firstBaseUpdate,h=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var v=y,T=v.next;v.next=null,h===null?l=T:h.next=T,h=v;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==h&&(y===null?z.firstBaseUpdate=T:y.next=T,z.lastBaseUpdate=v))}if(l!==null){var W=o.baseState;h=0,z=T=v=null,y=l;do{var U=y.lane,q=y.eventTime;if((s&U)===U){z!==null&&(z=z.next={eventTime:q,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var se=e,ae=y;switch(U=t,q=n,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){W=se.call(q,W,U);break e}W=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,U=typeof se=="function"?se.call(q,W,U):se,U==null)break e;W=$({},W,U);break e;case 2:Vn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,U=o.effects,U===null?o.effects=[y]:U.push(y))}else q={eventTime:q,lane:U,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(T=z=q,v=W):z=z.next=q,h|=U;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);if(z===null&&(v=W),o.baseState=v,o.firstBaseUpdate=T,o.lastBaseUpdate=z,t=o.shared.interleaved,t!==null){o=t;do h|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);dr|=h,e.lanes=h,e.memoizedState=W}}function Lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(i(191,o));o.call(s)}}}var Ai={},fn=Hn(Ai),Bi=Hn(Ai),Di=Hn(Ai);function ur(e){if(e===Ai)throw Error(i(174));return e}function ul(e,t){switch(Ge(Di,t),Ge(Bi,e),Ge(fn,Ai),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=He(t,e)}$e(fn),Ge(fn,t)}function zr(){$e(fn),$e(Bi),$e(Di)}function bu(e){ur(Di.current);var t=ur(fn.current),n=He(t,e.type);t!==n&&(Ge(Bi,e),Ge(fn,n))}function cl(e){Bi.current===e&&($e(fn),$e(Bi))}var Ke=Hn(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function hl(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var Ds=le.ReactCurrentDispatcher,fl=le.ReactCurrentBatchConfig,cr=0,Xe=null,ot=null,ct=null,Fs=!1,Fi=!1,Pi=0,Ef=0;function xt(){throw Error(i(321))}function pl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function ml(e,t,n,s,o,l){if(cr=l,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ds.current=e===null||e.memoizedState===null?Ff:Pf,e=n(s,o),Fi){l=0;do{if(Fi=!1,Pi=0,25<=l)throw Error(i(301));l+=1,ct=ot=null,t.updateQueue=null,Ds.current=Tf,e=n(s,o)}while(Fi)}if(Ds.current=Ns,t=ot!==null&&ot.next!==null,cr=0,ct=ot=Xe=null,Fs=!1,t)throw Error(i(300));return e}function gl(){var e=Pi!==0;return Pi=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Xe.memoizedState=ct=e:ct=ct.next=e,ct}function Vt(){if(ot===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ct===null?Xe.memoizedState:ct.next;if(t!==null)ct=t,ot=e;else{if(e===null)throw Error(i(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?Xe.memoizedState=ct=e:ct=ct.next=e}return ct}function Ti(e,t){return typeof t=="function"?t(e):t}function xl(e){var t=Vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=ot,o=s.baseQueue,l=n.pending;if(l!==null){if(o!==null){var h=o.next;o.next=l.next,l.next=h}s.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,s=s.baseState;var y=h=null,v=null,T=l;do{var z=T.lane;if((cr&z)===z)v!==null&&(v=v.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),s=T.hasEagerState?T.eagerState:e(s,T.action);else{var W={lane:z,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};v===null?(y=v=W,h=s):v=v.next=W,Xe.lanes|=z,dr|=z}T=T.next}while(T!==null&&T!==l);v===null?h=s:v.next=y,qt(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=v,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Xe.lanes|=l,dr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yl(e){var t=Vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do l=e(l,h.action),h=h.next;while(h!==o);qt(l,t.memoizedState)||(Bt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Iu(){}function Mu(e,t){var n=Xe,s=Vt(),o=t(),l=!qt(s.memoizedState,o);if(l&&(s.memoizedState=o,Bt=!0),s=s.queue,vl(Ou.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Ni(9,Ru.bind(null,n,s,o,t),void 0,null),dt===null)throw Error(i(349));(cr&30)!==0||ju(n,t,o)}return o}function ju(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ru(e,t,n,s){t.value=n,t.getSnapshot=s,Uu(t)&&zu(e)}function Ou(e,t,n){return n(function(){Uu(t)&&zu(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch{return!0}}function zu(e){var t=Sn(e,1);t!==null&&sn(t,e,1,-1)}function Hu(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:e},t.queue=e,e=e.dispatch=Df.bind(null,Xe,e),[t.memoizedState,e]}function Ni(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Wu(){return Vt().memoizedState}function Ps(e,t,n,s){var o=pn();Xe.flags|=e,o.memoizedState=Ni(1|t,n,void 0,s===void 0?null:s)}function Ts(e,t,n,s){var o=Vt();s=s===void 0?null:s;var l=void 0;if(ot!==null){var h=ot.memoizedState;if(l=h.destroy,s!==null&&pl(s,h.deps)){o.memoizedState=Ni(t,n,l,s);return}}Xe.flags|=e,o.memoizedState=Ni(1|t,n,l,s)}function Gu(e,t){return Ps(8390656,8,e,t)}function vl(e,t){return Ts(2048,8,e,t)}function Vu(e,t){return Ts(4,2,e,t)}function $u(e,t){return Ts(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qu(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4,4,Yu.bind(null,t,e),n)}function kl(){}function Ku(e,t){var n=Vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&pl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Xu(e,t){var n=Vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&pl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Zu(e,t,n){return(cr&21)===0?(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n):(qt(n,t)||(n=Ba(),Xe.lanes|=n,dr|=n,e.baseState=!0),t)}function Af(e,t){var n=Ue;Ue=n!==0&&4>n?n:4,e(!0);var s=fl.transition;fl.transition={};try{e(!1),t()}finally{Ue=n,fl.transition=s}}function Ju(){return Vt().memoizedState}function Bf(e,t,n){var s=Xn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},qu(e))ec(t,n);else if(n=Pu(e,t,n,s),n!==null){var o=_t();sn(n,e,s,o),tc(n,t,s)}}function Df(e,t,n){var s=Xn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(qu(e))ec(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var h=t.lastRenderedState,y=l(h,n);if(o.hasEagerState=!0,o.eagerState=y,qt(y,h)){var v=t.interleaved;v===null?(o.next=o,ll(t)):(o.next=v.next,v.next=o),t.interleaved=o;return}}catch{}finally{}n=Pu(e,t,o,s),n!==null&&(o=_t(),sn(n,e,s,o),tc(n,t,s))}}function qu(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function ec(e,t){Fi=Fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,_o(e,n)}}var Ns={readContext:Gt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Ff={readContext:Gt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Gu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4194308,4,Yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=pn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Bf.bind(null,Xe,e),[s.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:Hu,useDebugValue:kl,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=Af.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Xe,o=pn();if(Qe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),dt===null)throw Error(i(349));(cr&30)!==0||ju(s,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Gu(Ou.bind(null,s,l,e),[e]),s.flags|=2048,Ni(9,Ru.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=pn(),t=dt.identifierPrefix;if(Qe){var n=_n,s=wn;n=(s&~(1<<32-Jt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ef++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Pf={readContext:Gt,useCallback:Ku,useContext:Gt,useEffect:vl,useImperativeHandle:Qu,useInsertionEffect:Vu,useLayoutEffect:$u,useMemo:Xu,useReducer:xl,useRef:Wu,useState:function(){return xl(Ti)},useDebugValue:kl,useDeferredValue:function(e){var t=Vt();return Zu(t,ot.memoizedState,e)},useTransition:function(){var e=xl(Ti)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Iu,useSyncExternalStore:Mu,useId:Ju,unstable_isNewReconciler:!1},Tf={readContext:Gt,useCallback:Ku,useContext:Gt,useEffect:vl,useImperativeHandle:Qu,useInsertionEffect:Vu,useLayoutEffect:$u,useMemo:Xu,useReducer:yl,useRef:Wu,useState:function(){return yl(Ti)},useDebugValue:kl,useDeferredValue:function(e){var t=Vt();return ot===null?t.memoizedState=e:Zu(t,ot.memoizedState,e)},useTransition:function(){var e=yl(Ti)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Iu,useSyncExternalStore:Mu,useId:Ju,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=$({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:$({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ls={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=_t(),o=Xn(e),l=Cn(s,o);l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,o),t!==null&&(sn(t,e,o,s),Es(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=_t(),o=Xn(e),l=Cn(s,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,o),t!==null&&(sn(t,e,o,s),Es(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),s=Xn(e),o=Cn(n,s);o.tag=2,t!=null&&(o.callback=t),t=$n(e,o,s),t!==null&&(sn(t,e,s,n),Es(t,e,s))}};function nc(e,t,n,s,o,l,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,h):t.prototype&&t.prototype.isPureReactComponent?!yi(n,s)||!yi(o,l):!0}function rc(e,t,n){var s=!1,o=Wn,l=t.contextType;return typeof l=="object"&&l!==null?l=Gt(l):(o=At(t)?sr:gt.current,s=t.contextTypes,l=(s=s!=null)?br(e,o):Wn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ls,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function ic(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ls.enqueueReplaceState(t,t.state,null)}function _l(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},al(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Gt(l):(l=At(t)?sr:gt.current,o.context=br(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(wl(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ls.enqueueReplaceState(o,o.state,null),As(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Hr(e,t){try{var n="",s=t;do n+=Be(s),s=s.return;while(s);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Sl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Nf=typeof WeakMap=="function"?WeakMap:Map;function sc(e,t,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Us||(Us=!0,Ol=s),Cl(e,t)},n}function oc(e,t,n){n=Cn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){Cl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Cl(e,t),typeof s!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function lc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Nf;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=$f.bind(null,e,t,n),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uc(e,t,n,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Cn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Lf=le.ReactCurrentOwner,Bt=!1;function wt(e,t,n,s){t.child=e===null?Fu(t,null,n,s):Rr(t,e.child,n,s)}function cc(e,t,n,s,o){n=n.render;var l=t.ref;return Ur(t,o),s=ml(e,t,n,s,l,o),n=gl(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,En(e,t,o)):(Qe&&n&&Jo(t),t.flags|=1,wt(e,t,s,o),t.child)}function dc(e,t,n,s,o){if(e===null){var l=n.type;return typeof l=="function"&&!$l(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hc(e,t,l,s,o)):(e=$s(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&o)===0){var h=l.memoizedProps;if(n=n.compare,n=n!==null?n:yi,n(h,s)&&e.ref===t.ref)return En(e,t,o)}return t.flags|=1,e=Jn(l,s),e.ref=t.ref,e.return=t,t.child=e}function hc(e,t,n,s,o){if(e!==null){var l=e.memoizedProps;if(yi(l,s)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=s=l,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,En(e,t,o)}return El(e,t,n,s,o)}function fc(e,t,n){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Gr,Rt),Rt|=n;else{if((n&1073741824)===0)return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(Gr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,Ge(Gr,Rt),Rt|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,Ge(Gr,Rt),Rt|=s;return wt(e,t,o,n),t.child}function pc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function El(e,t,n,s,o){var l=At(n)?sr:gt.current;return l=br(t,l),Ur(t,o),n=ml(e,t,n,s,l,o),s=gl(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,En(e,t,o)):(Qe&&s&&Jo(t),t.flags|=1,wt(e,t,n,o),t.child)}function mc(e,t,n,s,o){if(At(n)){var l=!0;xs(t)}else l=!1;if(Ur(t,o),t.stateNode===null)Is(e,t),rc(t,n,s),_l(t,n,s,o),s=!0;else if(e===null){var h=t.stateNode,y=t.memoizedProps;h.props=y;var v=h.context,T=n.contextType;typeof T=="object"&&T!==null?T=Gt(T):(T=At(n)?sr:gt.current,T=br(t,T));var z=n.getDerivedStateFromProps,W=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function";W||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==s||v!==T)&&ic(t,h,s,T),Vn=!1;var U=t.memoizedState;h.state=U,As(t,s,h,o),v=t.memoizedState,y!==s||U!==v||Et.current||Vn?(typeof z=="function"&&(wl(t,n,z,s),v=t.memoizedState),(y=Vn||nc(t,n,y,s,U,v,T))?(W||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=v),h.props=s,h.state=v,h.context=T,s=y):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Tu(e,t),y=t.memoizedProps,T=t.type===t.elementType?y:tn(t.type,y),h.props=T,W=t.pendingProps,U=h.context,v=n.contextType,typeof v=="object"&&v!==null?v=Gt(v):(v=At(n)?sr:gt.current,v=br(t,v));var q=n.getDerivedStateFromProps;(z=typeof q=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==W||U!==v)&&ic(t,h,s,v),Vn=!1,U=t.memoizedState,h.state=U,As(t,s,h,o);var se=t.memoizedState;y!==W||U!==se||Et.current||Vn?(typeof q=="function"&&(wl(t,n,q,s),se=t.memoizedState),(T=Vn||nc(t,n,T,s,U,se,v)||!1)?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,se,v),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,se,v)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=se),h.props=s,h.state=se,h.context=v,s=T):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),s=!1)}return Al(e,t,n,s,l,o)}function Al(e,t,n,s,o,l){pc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return o&&ku(t,n,!1),En(e,t,l);s=t.stateNode,Lf.current=t;var y=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Rr(t,e.child,null,l),t.child=Rr(t,null,y,l)):wt(e,t,y,l),t.memoizedState=s.state,o&&ku(t,n,!0),t.child}function gc(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),ul(e,t.containerInfo)}function xc(e,t,n,s,o){return jr(),nl(o),t.flags|=256,wt(e,t,n,s),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function yc(e,t,n){var s=t.pendingProps,o=Ke.current,l=!1,h=(t.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(o&2)!==0),y?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ge(Ke,o&1),e===null)return tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,l?(s=t.mode,l=t.child,h={mode:"hidden",children:h},(s&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=h):l=Ys(h,s,0,null),e=mr(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Dl(n),t.memoizedState=Bl,e):Fl(t,h));if(o=e.memoizedState,o!==null&&(y=o.dehydrated,y!==null))return bf(e,t,h,s,y,o,n);if(l){l=s.fallback,h=t.mode,o=e.child,y=o.sibling;var v={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=v,t.deletions=null):(s=Jn(o,v),s.subtreeFlags=o.subtreeFlags&14680064),y!==null?l=Jn(y,l):(l=mr(l,h,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,h=e.child.memoizedState,h=h===null?Dl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},l.memoizedState=h,l.childLanes=e.childLanes&~n,t.memoizedState=Bl,s}return l=e.child,e=l.sibling,s=Jn(l,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fl(e,t){return t=Ys({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,n,s){return s!==null&&nl(s),Rr(t,e.child,null,n),e=Fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bf(e,t,n,s,o,l,h){if(n)return t.flags&256?(t.flags&=-257,s=Sl(Error(i(422))),bs(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=Ys({mode:"visible",children:s.children},o,0,null),l=mr(l,o,h,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,(t.mode&1)!==0&&Rr(t,e.child,null,h),t.child.memoizedState=Dl(h),t.memoizedState=Bl,l);if((t.mode&1)===0)return bs(e,t,h,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var y=s.dgst;return s=y,l=Error(i(419)),s=Sl(l,s,void 0),bs(e,t,h,s)}if(y=(h&e.childLanes)!==0,Bt||y){if(s=dt,s!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|h))!==0?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Sn(e,o),sn(s,e,o,-1))}return Vl(),s=Sl(Error(i(421))),bs(e,t,h,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Yf.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,jt=zn(o.nextSibling),Mt=t,Qe=!0,en=null,e!==null&&(Ht[Wt++]=wn,Ht[Wt++]=_n,Ht[Wt++]=or,wn=e.id,_n=e.overflow,or=t),t=Fl(t,s.children),t.flags|=4096,t)}function vc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ol(e.return,t,n)}function Pl(e,t,n,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=o)}function kc(e,t,n){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(wt(e,t,s.children,n),s=Ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vc(e,n,t);else if(e.tag===19)vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ge(Ke,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Bs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Pl(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Bs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Pl(t,!0,n,null,l);break;case"together":Pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function If(e,t,n){switch(t.tag){case 3:gc(t),jr();break;case 5:bu(t);break;case 1:At(t.type)&&xs(t);break;case 4:ul(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Ge(Ss,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ge(Ke,Ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yc(e,t,n):(Ge(Ke,Ke.current&1),e=En(e,t,n),e!==null?e.sibling:null);Ge(Ke,Ke.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return kc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ge(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,fc(e,t,n)}return En(e,t,n)}var wc,Tl,_c,Sc;wc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Tl=function(){},_c=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,ur(fn.current);var l=null;switch(n){case"input":o=Nt(e,o),s=Nt(e,s),l=[];break;case"select":o=$({},o,{value:void 0}),s=$({},s,{value:void 0}),l=[];break;case"textarea":o=R(e,o),s=R(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ps)}ut(n,s);var h;n=null;for(T in o)if(!s.hasOwnProperty(T)&&o.hasOwnProperty(T)&&o[T]!=null)if(T==="style"){var y=o[T];for(h in y)y.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(c.hasOwnProperty(T)?l||(l=[]):(l=l||[]).push(T,null));for(T in s){var v=s[T];if(y=o!=null?o[T]:void 0,s.hasOwnProperty(T)&&v!==y&&(v!=null||y!=null))if(T==="style")if(y){for(h in y)!y.hasOwnProperty(h)||v&&v.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in v)v.hasOwnProperty(h)&&y[h]!==v[h]&&(n||(n={}),n[h]=v[h])}else n||(l||(l=[]),l.push(T,n)),n=v;else T==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(l=l||[]).push(T,v)):T==="children"?typeof v!="string"&&typeof v!="number"||(l=l||[]).push(T,""+v):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(c.hasOwnProperty(T)?(v!=null&&T==="onScroll"&&Ve("scroll",e),l||y===v||(l=[])):(l=l||[]).push(T,v))}n&&(l=l||[]).push("style",n);var T=l;(t.updateQueue=T)&&(t.flags|=4)}},Sc=function(e,t,n,s){n!==s&&(t.flags|=4)};function Li(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Mf(e,t,n){var s=t.pendingProps;switch(qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return At(t.type)&&gs(),yt(t),null;case 3:return s=t.stateNode,zr(),$e(Et),$e(gt),hl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,en!==null&&(Hl(en),en=null))),Tl(e,t),yt(t),null;case 5:cl(t);var o=ur(Di.current);if(n=t.type,e!==null&&t.stateNode!=null)_c(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return yt(t),null}if(e=ur(fn.current),ws(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[hn]=t,s[Si]=l,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<ki.length;o++)Ve(ki[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":E(s,l),Ve("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Ve("invalid",s);break;case"textarea":me(s,l),Ve("invalid",s)}ut(n,l),o=null;for(var h in l)if(l.hasOwnProperty(h)){var y=l[h];h==="children"?typeof y=="string"?s.textContent!==y&&(l.suppressHydrationWarning!==!0&&fs(s.textContent,y,e),o=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(l.suppressHydrationWarning!==!0&&fs(s.textContent,y,e),o=["children",""+y]):c.hasOwnProperty(h)&&y!=null&&h==="onScroll"&&Ve("scroll",s)}switch(n){case"input":Ot(s),qr(s,l,!0);break;case"textarea":Ot(s),ze(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=ps)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oe(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[hn]=t,e[Si]=s,wc(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ut(n,s),n){case"dialog":Ve("cancel",e),Ve("close",e),o=s;break;case"iframe":case"object":case"embed":Ve("load",e),o=s;break;case"video":case"audio":for(o=0;o<ki.length;o++)Ve(ki[o],e);o=s;break;case"source":Ve("error",e),o=s;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),o=s;break;case"details":Ve("toggle",e),o=s;break;case"input":E(e,s),o=Nt(e,s),Ve("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=$({},s,{value:void 0}),Ve("invalid",e);break;case"textarea":me(e,s),o=R(e,s),Ve("invalid",e);break;default:o=s}ut(n,o),y=o;for(l in y)if(y.hasOwnProperty(l)){var v=y[l];l==="style"?Pn(e,v):l==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Lt(e,v)):l==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&at(e,v):typeof v=="number"&&at(e,""+v):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(c.hasOwnProperty(l)?v!=null&&l==="onScroll"&&Ve("scroll",e):v!=null&&ke(e,l,v,h))}switch(n){case"input":Ot(e),qr(e,s,!1);break;case"textarea":Ot(e),ze(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Le(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Fn(e,!!s.multiple,l,!1):s.defaultValue!=null&&Fn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ps)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Sc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=ur(Di.current),ur(fn.current),ws(t)){if(s=t.stateNode,n=t.memoizedProps,s[hn]=t,(l=s.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:fs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[hn]=t,t.stateNode=s}return yt(t),null;case 13:if($e(Ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Au(),jr(),t.flags|=98560,l=!1;else if(l=ws(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(i(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));l[hn]=t}else jr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),l=!1}else en!==null&&(Hl(en),en=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ke.current&1)!==0?lt===0&&(lt=3):Vl())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return zr(),Tl(e,t),e===null&&wi(t.stateNode.containerInfo),yt(t),null;case 10:return sl(t.type._context),yt(t),null;case 17:return At(t.type)&&gs(),yt(t),null;case 19:if($e(Ke),l=t.memoizedState,l===null)return yt(t),null;if(s=(t.flags&128)!==0,h=l.rendering,h===null)if(s)Li(l,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Bs(e),h!==null){for(t.flags|=128,Li(l,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,h=l.alternate,h===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,e=h.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(Ke,Ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&qe()>Vr&&(t.flags|=128,s=!0,Li(l,!1),t.lanes=4194304)}else{if(!s)if(e=Bs(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Qe)return yt(t),null}else 2*qe()-l.renderingStartTime>Vr&&n!==1073741824&&(t.flags|=128,s=!0,Li(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(n=l.last,n!==null?n.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qe(),t.sibling=null,n=Ke.current,Ge(Ke,s?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return Gl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function jf(e,t){switch(qo(t),t.tag){case 1:return At(t.type)&&gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),$e(Et),$e(gt),hl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return cl(t),null;case 13:if($e(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Ke),null;case 4:return zr(),null;case 10:return sl(t.type._context),null;case 22:case 23:return Gl(),null;case 24:return null;default:return null}}var Ms=!1,vt=!1,Rf=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Wr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ze(e,t,s)}else n.current=null}function Nl(e,t,n){try{n()}catch(s){Ze(e,t,s)}}var Cc=!1;function Of(e,t){if(Go=ns,e=nu(),Mo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var h=0,y=-1,v=-1,T=0,z=0,W=e,U=null;t:for(;;){for(var q;W!==n||o!==0&&W.nodeType!==3||(y=h+o),W!==l||s!==0&&W.nodeType!==3||(v=h+s),W.nodeType===3&&(h+=W.nodeValue.length),(q=W.firstChild)!==null;)U=W,W=q;for(;;){if(W===e)break t;if(U===n&&++T===o&&(y=h),U===l&&++z===s&&(v=h),(q=W.nextSibling)!==null)break;W=U,U=W.parentNode}W=q}n=y===-1||v===-1?null:{start:y,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vo={focusedElem:e,selectionRange:n},ns=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,et=se.memoizedState,B=t.stateNode,w=B.getSnapshotBeforeUpdate(t.elementType===t.type?ae:tn(t.type,ae),et);B.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(V){Ze(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return se=Cc,Cc=!1,se}function bi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Nl(t,n,l)}o=o.next}while(o!==s)}}function js(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Ll(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ec(e){var t=e.alternate;t!==null&&(e.alternate=null,Ec(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hn],delete t[Si],delete t[Ko],delete t[wf],delete t[_f])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ac(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ps));else if(s!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function Il(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Il(e,t,n),e=e.sibling;e!==null;)Il(e,t,n),e=e.sibling}var ft=null,nn=!1;function Yn(e,t,n){for(n=n.child;n!==null;)Dc(e,t,n),n=n.sibling}function Dc(e,t,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Xi,n)}catch{}switch(n.tag){case 5:vt||Wr(n,t);case 6:var s=ft,o=nn;ft=null,Yn(e,t,n),ft=s,nn=o,ft!==null&&(nn?(e=ft,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ft.removeChild(n.stateNode));break;case 18:ft!==null&&(nn?(e=ft,n=n.stateNode,e.nodeType===8?Qo(e.parentNode,n):e.nodeType===1&&Qo(e,n),hi(e)):Qo(ft,n.stateNode));break;case 4:s=ft,o=nn,ft=n.stateNode.containerInfo,nn=!0,Yn(e,t,n),ft=s,nn=o;break;case 0:case 11:case 14:case 15:if(!vt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,h=l.destroy;l=l.tag,h!==void 0&&((l&2)!==0||(l&4)!==0)&&Nl(n,t,h),o=o.next}while(o!==s)}Yn(e,t,n);break;case 1:if(!vt&&(Wr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(y){Ze(n,t,y)}Yn(e,t,n);break;case 21:Yn(e,t,n);break;case 22:n.mode&1?(vt=(s=vt)||n.memoizedState!==null,Yn(e,t,n),vt=s):Yn(e,t,n);break;default:Yn(e,t,n)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rf),t.forEach(function(s){var o=Qf.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var l=e,h=t,y=h;e:for(;y!==null;){switch(y.tag){case 5:ft=y.stateNode,nn=!1;break e;case 3:ft=y.stateNode.containerInfo,nn=!0;break e;case 4:ft=y.stateNode.containerInfo,nn=!0;break e}y=y.return}if(ft===null)throw Error(i(160));Dc(l,h,o),ft=null,nn=!1;var v=o.alternate;v!==null&&(v.return=null),o.return=null}catch(T){Ze(o,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pc(t,e),t=t.sibling}function Pc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),mn(e),s&4){try{bi(3,e,e.return),js(3,e)}catch(ae){Ze(e,e.return,ae)}try{bi(5,e,e.return)}catch(ae){Ze(e,e.return,ae)}}break;case 1:rn(t,e),mn(e),s&512&&n!==null&&Wr(n,n.return);break;case 5:if(rn(t,e),mn(e),s&512&&n!==null&&Wr(n,n.return),e.flags&32){var o=e.stateNode;try{at(o,"")}catch(ae){Ze(e,e.return,ae)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,h=n!==null?n.memoizedProps:l,y=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{y==="input"&&l.type==="radio"&&l.name!=null&&st(o,l),Ut(y,h);var T=Ut(y,l);for(h=0;h<v.length;h+=2){var z=v[h],W=v[h+1];z==="style"?Pn(o,W):z==="dangerouslySetInnerHTML"?Lt(o,W):z==="children"?at(o,W):ke(o,z,W,T)}switch(y){case"input":Jr(o,l);break;case"textarea":De(o,l);break;case"select":var U=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var q=l.value;q!=null?Fn(o,!!l.multiple,q,!1):U!==!!l.multiple&&(l.defaultValue!=null?Fn(o,!!l.multiple,l.defaultValue,!0):Fn(o,!!l.multiple,l.multiple?[]:"",!1))}o[Si]=l}catch(ae){Ze(e,e.return,ae)}}break;case 6:if(rn(t,e),mn(e),s&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(ae){Ze(e,e.return,ae)}}break;case 3:if(rn(t,e),mn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hi(t.containerInfo)}catch(ae){Ze(e,e.return,ae)}break;case 4:rn(t,e),mn(e);break;case 13:rn(t,e),mn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Rl=qe())),s&4&&Fc(e);break;case 22:if(z=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(T=vt)||z,rn(t,e),vt=T):rn(t,e),mn(e),s&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!z&&(e.mode&1)!==0)for(ne=e,z=e.child;z!==null;){for(W=ne=z;ne!==null;){switch(U=ne,q=U.child,U.tag){case 0:case 11:case 14:case 15:bi(4,U,U.return);break;case 1:Wr(U,U.return);var se=U.stateNode;if(typeof se.componentWillUnmount=="function"){s=U,n=U.return;try{t=s,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(ae){Ze(s,n,ae)}}break;case 5:Wr(U,U.return);break;case 22:if(U.memoizedState!==null){Lc(W);continue}}q!==null?(q.return=U,ne=q):Lc(W)}z=z.sibling}e:for(z=null,W=e;;){if(W.tag===5){if(z===null){z=W;try{o=W.stateNode,T?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(y=W.stateNode,v=W.memoizedProps.style,h=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=cn("display",h))}catch(ae){Ze(e,e.return,ae)}}}else if(W.tag===6){if(z===null)try{W.stateNode.nodeValue=T?"":W.memoizedProps}catch(ae){Ze(e,e.return,ae)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;z===W&&(z=null),W=W.return}z===W&&(z=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:rn(t,e),mn(e),s&4&&Fc(e);break;case 21:break;default:rn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ac(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(at(o,""),s.flags&=-33);var l=Bc(e);Il(e,l,o);break;case 3:case 4:var h=s.stateNode.containerInfo,y=Bc(e);bl(e,y,h);break;default:throw Error(i(161))}}catch(v){Ze(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uf(e,t,n){ne=e,Tc(e)}function Tc(e,t,n){for(var s=(e.mode&1)!==0;ne!==null;){var o=ne,l=o.child;if(o.tag===22&&s){var h=o.memoizedState!==null||Ms;if(!h){var y=o.alternate,v=y!==null&&y.memoizedState!==null||vt;y=Ms;var T=vt;if(Ms=h,(vt=v)&&!T)for(ne=o;ne!==null;)h=ne,v=h.child,h.tag===22&&h.memoizedState!==null?bc(o):v!==null?(v.return=h,ne=v):bc(o);for(;l!==null;)ne=l,Tc(l),l=l.sibling;ne=o,Ms=y,vt=T}Nc(e)}else(o.subtreeFlags&8772)!==0&&l!==null?(l.return=o,ne=l):Nc(e)}}function Nc(e){for(;ne!==null;){var t=ne;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||js(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vt)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Lu(t,l,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lu(t,h,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var z=T.memoizedState;if(z!==null){var W=z.dehydrated;W!==null&&hi(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}vt||t.flags&512&&Ll(t)}catch(U){Ze(t,t.return,U)}}if(t===e){ne=null;break}if(n=t.sibling,n!==null){n.return=t.return,ne=n;break}ne=t.return}}function Lc(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ne=n;break}ne=t.return}}function bc(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{js(4,t)}catch(v){Ze(t,n,v)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(v){Ze(t,o,v)}}var l=t.return;try{Ll(t)}catch(v){Ze(t,l,v)}break;case 5:var h=t.return;try{Ll(t)}catch(v){Ze(t,h,v)}}}catch(v){Ze(t,t.return,v)}if(t===e){ne=null;break}var y=t.sibling;if(y!==null){y.return=t.return,ne=y;break}ne=t.return}}var zf=Math.ceil,Rs=le.ReactCurrentDispatcher,Ml=le.ReactCurrentOwner,$t=le.ReactCurrentBatchConfig,je=0,dt=null,rt=null,pt=0,Rt=0,Gr=Hn(0),lt=0,Ii=null,dr=0,Os=0,jl=0,Mi=null,Dt=null,Rl=0,Vr=1/0,An=null,Us=!1,Ol=null,Qn=null,zs=!1,Kn=null,Hs=0,ji=0,Ul=null,Ws=-1,Gs=0;function _t(){return(je&6)!==0?qe():Ws!==-1?Ws:Ws=qe()}function Xn(e){return(e.mode&1)===0?1:(je&2)!==0&&pt!==0?pt&-pt:Cf.transition!==null?(Gs===0&&(Gs=Ba()),Gs):(e=Ue,e!==0||(e=window.event,e=e===void 0?16:Ma(e.type)),e)}function sn(e,t,n,s){if(50<ji)throw ji=0,Ul=null,Error(i(185));li(e,n,s),((je&2)===0||e!==dt)&&(e===dt&&((je&2)===0&&(Os|=n),lt===4&&Zn(e,pt)),Ft(e,s),n===1&&je===0&&(t.mode&1)===0&&(Vr=qe()+500,ys&&Gn()))}function Ft(e,t){var n=e.callbackNode;Sh(e,t);var s=qi(e,e===dt?pt:0);if(s===0)n!==null&&Ca(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ca(n),t===1)e.tag===0?Sf(Mc.bind(null,e)):wu(Mc.bind(null,e)),vf(function(){(je&6)===0&&Gn()}),n=null;else{switch(Da(s)){case 1:n=vo;break;case 4:n=Ea;break;case 16:n=Ki;break;case 536870912:n=Aa;break;default:n=Ki}n=Gc(n,Ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ic(e,t){if(Ws=-1,Gs=0,(je&6)!==0)throw Error(i(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var s=qi(e,e===dt?pt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Vs(e,s);else{t=s;var o=je;je|=2;var l=Rc();(dt!==e||pt!==t)&&(An=null,Vr=qe()+500,fr(e,t));do try{Gf();break}catch(y){jc(e,y)}while(!0);il(),Rs.current=l,je=o,rt!==null?t=0:(dt=null,pt=0,t=lt)}if(t!==0){if(t===2&&(o=ko(e),o!==0&&(s=o,t=zl(e,o))),t===1)throw n=Ii,fr(e,0),Zn(e,s),Ft(e,qe()),n;if(t===6)Zn(e,s);else{if(o=e.current.alternate,(s&30)===0&&!Hf(o)&&(t=Vs(e,s),t===2&&(l=ko(e),l!==0&&(s=l,t=zl(e,l))),t===1))throw n=Ii,fr(e,0),Zn(e,s),Ft(e,qe()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:pr(e,Dt,An);break;case 3:if(Zn(e,s),(s&130023424)===s&&(t=Rl+500-qe(),10<t)){if(qi(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){_t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Yo(pr.bind(null,e,Dt,An),t);break}pr(e,Dt,An);break;case 4:if(Zn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var h=31-Jt(s);l=1<<h,h=t[h],h>o&&(o=h),s&=~l}if(s=o,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zf(s/1960))-s,10<s){e.timeoutHandle=Yo(pr.bind(null,e,Dt,An),s);break}pr(e,Dt,An);break;case 5:pr(e,Dt,An);break;default:throw Error(i(329))}}}return Ft(e,qe()),e.callbackNode===n?Ic.bind(null,e):null}function zl(e,t){var n=Mi;return e.current.memoizedState.isDehydrated&&(fr(e,t).flags|=256),e=Vs(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&Hl(t)),e}function Hl(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function Hf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],l=o.getSnapshot;o=o.value;try{if(!qt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~jl,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),s=1<<n;e[n]=-1,t&=~s}}function Mc(e){if((je&6)!==0)throw Error(i(327));$r();var t=qi(e,0);if((t&1)===0)return Ft(e,qe()),null;var n=Vs(e,t);if(e.tag!==0&&n===2){var s=ko(e);s!==0&&(t=s,n=zl(e,s))}if(n===1)throw n=Ii,fr(e,0),Zn(e,t),Ft(e,qe()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,Dt,An),Ft(e,qe()),null}function Wl(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(Vr=qe()+500,ys&&Gn())}}function hr(e){Kn!==null&&Kn.tag===0&&(je&6)===0&&$r();var t=je;je|=1;var n=$t.transition,s=Ue;try{if($t.transition=null,Ue=1,e)return e()}finally{Ue=s,$t.transition=n,je=t,(je&6)===0&&Gn()}}function Gl(){Rt=Gr.current,$e(Gr)}function fr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,yf(n)),rt!==null)for(n=rt.return;n!==null;){var s=n;switch(qo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gs();break;case 3:zr(),$e(Et),$e(gt),hl();break;case 5:cl(s);break;case 4:zr();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:sl(s.type._context);break;case 22:case 23:Gl()}n=n.return}if(dt=e,rt=e=Jn(e.current,null),pt=Rt=t,lt=0,Ii=null,jl=Os=dr=0,Dt=Mi=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,l=n.pending;if(l!==null){var h=l.next;l.next=o,s.next=h}n.pending=s}ar=null}return e}function jc(e,t){do{var n=rt;try{if(il(),Ds.current=Ns,Fs){for(var s=Xe.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Fs=!1}if(cr=0,ct=ot=Xe=null,Fi=!1,Pi=0,Ml.current=null,n===null||n.return===null){lt=1,Ii=t,rt=null;break}e:{var l=e,h=n.return,y=n,v=t;if(t=pt,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var T=v,z=y,W=z.tag;if((z.mode&1)===0&&(W===0||W===11||W===15)){var U=z.alternate;U?(z.updateQueue=U.updateQueue,z.memoizedState=U.memoizedState,z.lanes=U.lanes):(z.updateQueue=null,z.memoizedState=null)}var q=ac(h);if(q!==null){q.flags&=-257,uc(q,h,y,l,t),q.mode&1&&lc(l,T,t),t=q,v=T;var se=t.updateQueue;if(se===null){var ae=new Set;ae.add(v),t.updateQueue=ae}else se.add(v);break e}else{if((t&1)===0){lc(l,T,t),Vl();break e}v=Error(i(426))}}else if(Qe&&y.mode&1){var et=ac(h);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),uc(et,h,y,l,t),nl(Hr(v,y));break e}}l=v=Hr(v,y),lt!==4&&(lt=2),Mi===null?Mi=[l]:Mi.push(l),l=h;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var B=sc(l,v,t);Nu(l,B);break e;case 1:y=v;var w=l.type,F=l.stateNode;if((l.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Qn===null||!Qn.has(F)))){l.flags|=65536,t&=-t,l.lanes|=t;var V=oc(l,y,t);Nu(l,V);break e}}l=l.return}while(l!==null)}Uc(n)}catch(ce){t=ce,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function Rc(){var e=Rs.current;return Rs.current=Ns,e===null?Ns:e}function Vl(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(dr&268435455)===0&&(Os&268435455)===0||Zn(dt,pt)}function Vs(e,t){var n=je;je|=2;var s=Rc();(dt!==e||pt!==t)&&(An=null,fr(e,t));do try{Wf();break}catch(o){jc(e,o)}while(!0);if(il(),je=n,Rs.current=s,rt!==null)throw Error(i(261));return dt=null,pt=0,lt}function Wf(){for(;rt!==null;)Oc(rt)}function Gf(){for(;rt!==null&&!ph();)Oc(rt)}function Oc(e){var t=Wc(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?Uc(e):rt=t,Ml.current=null}function Uc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Mf(n,t,Rt),n!==null){rt=n;return}}else{if(n=jf(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);lt===0&&(lt=5)}function pr(e,t,n){var s=Ue,o=$t.transition;try{$t.transition=null,Ue=1,Vf(e,t,n,s)}finally{$t.transition=o,Ue=s}return null}function Vf(e,t,n,s){do $r();while(Kn!==null);if((je&6)!==0)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Ch(e,l),e===dt&&(rt=dt=null,pt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||zs||(zs=!0,Gc(Ki,function(){return $r(),null})),l=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||l){l=$t.transition,$t.transition=null;var h=Ue;Ue=1;var y=je;je|=4,Ml.current=null,Of(e,n),Pc(n,e),df(Vo),ns=!!Go,Vo=Go=null,e.current=n,Uf(n),mh(),je=y,Ue=h,$t.transition=l}else e.current=n;if(zs&&(zs=!1,Kn=e,Hs=o),l=e.pendingLanes,l===0&&(Qn=null),yh(n.stateNode),Ft(e,qe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(Us)throw Us=!1,e=Ol,Ol=null,e;return(Hs&1)!==0&&e.tag!==0&&$r(),l=e.pendingLanes,(l&1)!==0?e===Ul?ji++:(ji=0,Ul=e):ji=0,Gn(),null}function $r(){if(Kn!==null){var e=Da(Hs),t=$t.transition,n=Ue;try{if($t.transition=null,Ue=16>e?16:e,Kn===null)var s=!1;else{if(e=Kn,Kn=null,Hs=0,(je&6)!==0)throw Error(i(331));var o=je;for(je|=4,ne=e.current;ne!==null;){var l=ne,h=l.child;if((ne.flags&16)!==0){var y=l.deletions;if(y!==null){for(var v=0;v<y.length;v++){var T=y[v];for(ne=T;ne!==null;){var z=ne;switch(z.tag){case 0:case 11:case 15:bi(8,z,l)}var W=z.child;if(W!==null)W.return=z,ne=W;else for(;ne!==null;){z=ne;var U=z.sibling,q=z.return;if(Ec(z),z===T){ne=null;break}if(U!==null){U.return=q,ne=U;break}ne=q}}}var se=l.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var et=ae.sibling;ae.sibling=null,ae=et}while(ae!==null)}}ne=l}}if((l.subtreeFlags&2064)!==0&&h!==null)h.return=l,ne=h;else e:for(;ne!==null;){if(l=ne,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:bi(9,l,l.return)}var B=l.sibling;if(B!==null){B.return=l.return,ne=B;break e}ne=l.return}}var w=e.current;for(ne=w;ne!==null;){h=ne;var F=h.child;if((h.subtreeFlags&2064)!==0&&F!==null)F.return=h,ne=F;else e:for(h=w;ne!==null;){if(y=ne,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:js(9,y)}}catch(ce){Ze(y,y.return,ce)}if(y===h){ne=null;break e}var V=y.sibling;if(V!==null){V.return=y.return,ne=V;break e}ne=y.return}}if(je=o,Gn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Xi,e)}catch{}s=!0}return s}finally{Ue=n,$t.transition=t}}return!1}function zc(e,t,n){t=Hr(n,t),t=sc(e,t,1),e=$n(e,t,1),t=_t(),e!==null&&(li(e,1,t),Ft(e,t))}function Ze(e,t,n){if(e.tag===3)zc(e,e,n);else for(;t!==null;){if(t.tag===3){zc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Hr(n,e),e=oc(t,e,1),t=$n(t,e,1),e=_t(),t!==null&&(li(t,1,e),Ft(t,e));break}}t=t.return}}function $f(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(pt&n)===n&&(lt===4||lt===3&&(pt&130023424)===pt&&500>qe()-Rl?fr(e,0):jl|=n),Ft(e,t)}function Hc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ji,Ji<<=1,(Ji&130023424)===0&&(Ji=4194304)));var n=_t();e=Sn(e,t),e!==null&&(li(e,t,n),Ft(e,n))}function Yf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hc(e,n)}function Qf(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Hc(e,n)}var Wc;Wc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Bt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Bt=!1,If(e,t,n);Bt=(e.flags&131072)!==0}else Bt=!1,Qe&&(t.flags&1048576)!==0&&_u(t,ks,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var o=br(t,gt.current);Ur(t,n),o=ml(null,t,s,e,o,n);var l=gl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(s)?(l=!0,xs(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,al(t),o.updater=Ls,t.stateNode=o,o._reactInternals=t,_l(t,s,e,n),t=Al(null,t,s,!0,l,n)):(t.tag=0,Qe&&l&&Jo(t),wt(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=Xf(s),e=tn(s,e),o){case 0:t=El(null,t,s,e,n);break e;case 1:t=mc(null,t,s,e,n);break e;case 11:t=cc(null,t,s,e,n);break e;case 14:t=dc(null,t,s,tn(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),El(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),mc(e,t,s,o,n);case 3:e:{if(gc(t),e===null)throw Error(i(387));s=t.pendingProps,l=t.memoizedState,o=l.element,Tu(e,t),As(t,s,null,n);var h=t.memoizedState;if(s=h.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Hr(Error(i(423)),t),t=xc(e,t,s,n,o);break e}else if(s!==o){o=Hr(Error(i(424)),t),t=xc(e,t,s,n,o);break e}else for(jt=zn(t.stateNode.containerInfo.firstChild),Mt=t,Qe=!0,en=null,n=Fu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jr(),s===o){t=En(e,t,n);break e}wt(e,t,s,n)}t=t.child}return t;case 5:return bu(t),e===null&&tl(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,h=o.children,$o(s,o)?h=null:l!==null&&$o(s,l)&&(t.flags|=32),pc(e,t),wt(e,t,h,n),t.child;case 6:return e===null&&tl(t),null;case 13:return yc(e,t,n);case 4:return ul(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rr(t,null,s,n):wt(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),cc(e,t,s,o,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,h=o.value,Ge(Ss,s._currentValue),s._currentValue=h,l!==null)if(qt(l.value,h)){if(l.children===o.children&&!Et.current){t=En(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var y=l.dependencies;if(y!==null){h=l.child;for(var v=y.firstContext;v!==null;){if(v.context===s){if(l.tag===1){v=Cn(-1,n&-n),v.tag=2;var T=l.updateQueue;if(T!==null){T=T.shared;var z=T.pending;z===null?v.next=v:(v.next=z.next,z.next=v),T.pending=v}}l.lanes|=n,v=l.alternate,v!==null&&(v.lanes|=n),ol(l.return,n,t),y.lanes|=n;break}v=v.next}}else if(l.tag===10)h=l.type===t.type?null:l.child;else if(l.tag===18){if(h=l.return,h===null)throw Error(i(341));h.lanes|=n,y=h.alternate,y!==null&&(y.lanes|=n),ol(h,n,t),h=l.sibling}else h=l.child;if(h!==null)h.return=l;else for(h=l;h!==null;){if(h===t){h=null;break}if(l=h.sibling,l!==null){l.return=h.return,h=l;break}h=h.return}l=h}wt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Ur(t,n),o=Gt(o),s=s(o),t.flags|=1,wt(e,t,s,n),t.child;case 14:return s=t.type,o=tn(s,t.pendingProps),o=tn(s.type,o),dc(e,t,s,o,n);case 15:return hc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),Is(e,t),t.tag=1,At(s)?(e=!0,xs(t)):e=!1,Ur(t,n),rc(t,s,o),_l(t,s,o,n),Al(null,t,s,!0,e,n);case 19:return kc(e,t,n);case 22:return fc(e,t,n)}throw Error(i(156,t.tag))};function Gc(e,t){return Sa(e,t)}function Kf(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,s){return new Kf(e,t,n,s)}function $l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xf(e){if(typeof e=="function")return $l(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===fe)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $s(e,t,n,s,o,l){var h=2;if(s=e,typeof e=="function")$l(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Te:return mr(n.children,o,l,t);case X:h=8,o|=8;break;case Ne:return e=Yt(12,n,t,o|2),e.elementType=Ne,e.lanes=l,e;case Ce:return e=Yt(13,n,t,o),e.elementType=Ce,e.lanes=l,e;case N:return e=Yt(19,n,t,o),e.elementType=N,e.lanes=l,e;case re:return Ys(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case we:h=10;break e;case _e:h=9;break e;case ye:h=11;break e;case fe:h=14;break e;case ve:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Yt(h,n,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function mr(e,t,n,s){return e=Yt(7,e,s,t),e.lanes=n,e}function Ys(e,t,n,s){return e=Yt(22,e,s,t),e.elementType=re,e.lanes=n,e.stateNode={isHidden:!1},e}function Yl(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function Ql(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zf(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Kl(e,t,n,s,o,l,h,y,v){return e=new Zf(e,t,n,y,v),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Yt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},al(l),e}function Jf(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Wn;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(At(n))return vu(e,n,t)}return t}function $c(e,t,n,s,o,l,h,y,v){return e=Kl(n,s,!0,e,o,l,h,y,v),e.context=Vc(null),n=e.current,s=_t(),o=Xn(n),l=Cn(s,o),l.callback=t??null,$n(n,l,o),e.current.lanes=o,li(e,o,s),Ft(e,s),e}function Qs(e,t,n,s){var o=t.current,l=_t(),h=Xn(o);return n=Vc(n),t.context===null?t.context=n:t.pendingContext=n,t=Cn(l,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$n(o,t,h),e!==null&&(sn(e,o,h,l),Es(e,o,h)),h}function Ks(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xl(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function qf(){return null}var Qc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}Xs.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Qs(e,t,null,null)},Xs.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){Qs(null,e,null,null)}),t[vn]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ta();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&ba(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function ep(e,t,n,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var T=Ks(h);l.call(T)}}var h=$c(t,s,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=h,e[vn]=h.current,wi(e.nodeType===8?e.parentNode:e),hr(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var y=s;s=function(){var T=Ks(v);y.call(T)}}var v=Kl(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=v,e[vn]=v.current,wi(e.nodeType===8?e.parentNode:e),hr(function(){Qs(t,v,n,s)}),v}function Js(e,t,n,s,o){var l=n._reactRootContainer;if(l){var h=l;if(typeof o=="function"){var y=o;o=function(){var v=Ks(h);y.call(v)}}Qs(t,h,e,o)}else h=ep(n,t,e,o,s);return Ks(h)}Fa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=oi(t.pendingLanes);n!==0&&(_o(t,n|1),Ft(t,qe()),(je&6)===0&&(Vr=qe()+500,Gn()))}break;case 13:hr(function(){var s=Sn(e,1);if(s!==null){var o=_t();sn(s,e,1,o)}}),Xl(e,1)}},So=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=_t();sn(t,e,134217728,n)}Xl(e,134217728)}},Pa=function(e){if(e.tag===13){var t=Xn(e),n=Sn(e,t);if(n!==null){var s=_t();sn(n,e,t,s)}Xl(e,t)}},Ta=function(){return Ue},Na=function(e,t){var n=Ue;try{return Ue=e,t()}finally{Ue=n}},ti=function(e,t,n){switch(t){case"input":if(Jr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=ms(s);if(!o)throw Error(i(90));un(s),Jr(s,o)}}}break;case"textarea":De(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}},ri=Wl,Sr=hr;var tp={usingClientEntryPoint:!1,Events:[Ci,Nr,ms,ni,_r,Wl]},Ri={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},np={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wa(e),e===null?null:e.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||qf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Xi=qs.inject(np),dn=qs}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp,Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(i(200));return Jf(e,t,null,n)},Pt.createRoot=function(e,t){if(!Jl(e))throw Error(i(299));var n=!1,s="",o=Qc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Kl(e,1,!1,null,null,n,!1,s,o),e[vn]=t.current,wi(e.nodeType===8?e.parentNode:e),new Zl(t)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=wa(t),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return hr(e)},Pt.hydrate=function(e,t,n){if(!Zs(t))throw Error(i(200));return Js(null,e,t,!0,n)},Pt.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,o=!1,l="",h=Qc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=$c(t,null,e,1,n??null,o,!1,l,h),e[vn]=t.current,wi(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xs(t)},Pt.render=function(e,t,n){if(!Zs(t))throw Error(i(200));return Js(null,e,t,!1,n)},Pt.unmountComponentAtNode=function(e){if(!Zs(e))throw Error(i(40));return e._reactRootContainer?(hr(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1},Pt.unstable_batchedUpdates=Wl,Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Zs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Js(e,t,n,!1,s)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var id;function hp(){if(id)return na.exports;id=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),na.exports=dp(),na.exports}var sd;function fp(){if(sd)return eo;sd=1;var u=hp();return eo.createRoot=u.createRoot,eo.hydrateRoot=u.hydrateRoot,eo}var pp=fp();const mp=kd(pp),od=u=>{let r;const i=new Set,a=(S,A)=>{const k=typeof S=="function"?S(r):S;if(!Object.is(k,r)){const P=r;r=A??(typeof k!="object"||k===null)?k:Object.assign({},r,k),i.forEach(j=>j(r,P))}},c=()=>r,p={setState:a,getState:c,getInitialState:()=>x,subscribe:S=>(i.add(S),()=>i.delete(S))},x=r=u(a,c,p);return p},gp=(u=>u?od(u):od),xp=u=>u;function yp(u,r=xp){const i=zi.useSyncExternalStore(u.subscribe,zi.useCallback(()=>r(u.getState()),[u,r]),zi.useCallback(()=>r(u.getInitialState()),[u,r]));return zi.useDebugValue(i),i}const ld=u=>{const r=gp(u),i=a=>yp(r,a);return Object.assign(i,r),i},vp=(u=>u?ld(u):ld);class $i{constructor(r){L(this,"buffer");L(this,"index",0);this.buffer=r instanceof Uint8Array?r:new Uint8Array(r)}slice(r,i){return new $i(this.buffer.slice(r,i))}readable(){return this.index<this.buffer.length}skip(r){this.index+=r}readUInt8(){return this.buffer[this.index++]}readInt8(){return this.buffer[this.index++]<<24>>24}readUInt16(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)}readUInt32(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)+(this.buffer[this.index++]<<24)>>>0}readString(){const r=this.readUInt16();if(r===0)return"";const i=new TextDecoder("utf-8").decode(this.buffer.slice(this.index,this.index+r));return this.index+=r,i}readRGB(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)}readLight(){return{level:this.readUInt16(),color:this.readUInt16()}}readAnimationLength(){return{min:this.readUInt32(),max:this.readUInt32()}}}const uo=new Uint8Array([69,77,80,69,82,73,65,0]),mo=20;var go=(u=>(u[u.SPRITE_DATA=1]="SPRITE_DATA",u[u.OBJECT_DEFS=2]="OBJECT_DEFS",u))(go||{});function kp(u){const r=u instanceof Uint8Array?u:new Uint8Array(u);if(r.length<mo)return!1;for(let i=0;i<uo.length;i++)if(r[i]!==uo[i])return!1;return!0}function wd(u){const r=u instanceof Uint8Array?u:new Uint8Array(u);if(!kp(r))return null;const i=new DataView(r.buffer,r.byteOffset,r.byteLength);return{fileType:i.getUint8(8),formatVersion:i.getUint16(9,!0),contentVersion:i.getUint32(11,!0),flags:i.getUint8(15)}}const ad={"41BF619C":740,"439D5A33":760,"42A3":1098},ue={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrOpacity:100,ThingAttrNotPreWalkable:101,ThingAttrFloorChange:252,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function wp(u,r){if(u===ue.ThingAttrLast)return u;if(r>=1e3){if(u===16)return ue.ThingAttrNoMoveAnimation;if(u>16)return u-1}else if(r>=755){if(u===23)return ue.ThingAttrFloorChange}else if(r>=740){if(u>0&&u<=15)return u===5?ue.ThingAttrMultiUse:u===6?ue.ThingAttrForceUse:u+1;switch(u){case 16:return ue.ThingAttrLight;case 17:return ue.ThingAttrFloorChange;case 18:return ue.ThingAttrFullGround;case 19:return ue.ThingAttrElevation;case 20:return ue.ThingAttrDisplacement;case 22:return ue.ThingAttrMinimapColor;case 23:return ue.ThingAttrRotateable;case 24:return ue.ThingAttrLyingCorpse;case 25:return ue.ThingAttrHangable;case 26:return ue.ThingAttrHookSouth;case 27:return ue.ThingAttrHookEast;case 28:return ue.ThingAttrAnimateAlways}}return u}function _p(){return{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1}}function Sp(u,r){const i=_p();for(;;){const a=u.readUInt8(),c=wp(a,r);switch(c){case ue.ThingAttrLast:return i;case ue.ThingAttrGround:i.ground=!0,i.groundSpeed=u.readUInt16();break;case ue.ThingAttrGroundBorder:i.groundBorder=!0;break;case ue.ThingAttrOnBottom:i.onBottom=!0;break;case ue.ThingAttrOnTop:i.onTop=!0;break;case ue.ThingAttrContainer:i.container=!0;break;case ue.ThingAttrStackable:i.stackable=!0;break;case ue.ThingAttrForceUse:i.forceUse=!0;break;case ue.ThingAttrMultiUse:i.multiUse=!0;break;case ue.ThingAttrWritable:i.writable=!0,i.writableMaxLen=u.readUInt16();break;case ue.ThingAttrWritableOnce:i.writableOnce=!0,i.writableOnceMaxLen=u.readUInt16();break;case ue.ThingAttrFluidContainer:i.fluidContainer=!0;break;case ue.ThingAttrSplash:i.splash=!0;break;case ue.ThingAttrNotWalkable:i.notWalkable=!0;break;case ue.ThingAttrNotMoveable:i.notMoveable=!0;break;case ue.ThingAttrBlockProjectile:i.blockProjectile=!0;break;case ue.ThingAttrNotPathable:i.notPathable=!0;break;case ue.ThingAttrPickupable:i.pickupable=!0;break;case ue.ThingAttrHangable:i.hangable=!0;break;case ue.ThingAttrHookSouth:i.hookSouth=!0;break;case ue.ThingAttrHookEast:i.hookEast=!0;break;case ue.ThingAttrRotateable:i.rotateable=!0;break;case ue.ThingAttrLight:{i.hasLight=!0;const d=u.readLight();i.lightLevel=d.level,i.lightColor=d.color;break}case ue.ThingAttrDontHide:i.dontHide=!0;break;case ue.ThingAttrTranslucent:i.translucent=!0;break;case ue.ThingAttrDisplacement:{if(i.hasDisplacement=!0,r>=755){const d=u.readLight();i.displacementX=d.level,i.displacementY=d.color}break}case ue.ThingAttrElevation:i.hasElevation=!0,i.elevation=u.readUInt16();break;case ue.ThingAttrLyingCorpse:i.lyingCorpse=!0;break;case ue.ThingAttrAnimateAlways:i.animateAlways=!0;break;case ue.ThingAttrMinimapColor:i.hasMinimapColor=!0,i.minimapColor=u.readUInt16();break;case ue.ThingAttrLensHelp:i.lensHelp=u.readUInt16();break;case ue.ThingAttrFullGround:i.fullGround=!0;break;case ue.ThingAttrLook:i.look=!0;break;case ue.ThingAttrCloth:i.cloth=!0,i.clothSlot=u.readUInt16();break;case ue.ThingAttrMarket:i.hasMarket=!0,i.marketCategory=u.readUInt16(),i.marketTradeAs=u.readUInt16(),i.marketShowAs=u.readUInt16(),i.marketName=u.readString(),i.marketRestrictVocation=u.readUInt16(),i.marketRequiredLevel=u.readUInt16();break;case ue.ThingAttrUsable:i.usable=!0,i.usableActionId=u.readUInt16();break;case ue.ThingAttrWrapable:i.wrapable=!0;break;case ue.ThingAttrUnwrapable:i.unwrapable=!0;break;case ue.ThingAttrTopEffect:i.topEffect=!0;break;case ue.ThingAttrOpacity:break;case ue.ThingAttrNotPreWalkable:break;case ue.ThingAttrFloorChange:break;case ue.ThingAttrNoMoveAnimation:i.noMoveAnimation=!0;break;case ue.ThingAttrChargeable:i.chargeable=!0;break;default:throw new Error(`Unknown flag 0x${c.toString(16)} at offset ${u.index}`)}}}function Cp(u,r,i){const a=i?u.readUInt8():0,c=u.readUInt8(),d=u.readUInt8();(c>1||d>1)&&u.readUInt8();const m=u.readUInt8(),p=u.readUInt8(),x=u.readUInt8(),S=r>=755?u.readUInt8():1,A=u.readUInt8();let k=0,P=0,j=0;const H=[];if(A>1&&r>=1050){k=u.readUInt8(),P=u.readUInt32(),j=u.readInt8();for(let ee=0;ee<A;ee++)H.push(u.readAnimationLength())}const G=c*d*m*p*x*S*A,Y=[];for(let ee=0;ee<G;ee++)Y.push(r>=960?u.readUInt32():u.readUInt16());return{type:a,width:c,height:d,layers:m,patternX:p,patternY:x,patternZ:S,animationLength:A,asynchronous:k,nLoop:P,start:j,animationLengths:H,sprites:Y}}function Ep(u){const r=wd(u);let i,a;if(r){if(r.fileType!==go.OBJECT_DEFS)throw new Error(`Expected object definitions (0x02), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,a=mo}else{const P=new DataView(u).getUint32(0,!0).toString(16).toUpperCase();if(!(P in ad))throw new Error("Unknown object definition file format.");i=ad[P],a=4}const c=new $i(u.slice(a)),d=c.readUInt16(),m=c.readUInt16(),p=c.readUInt16(),x=c.readUInt16(),S=d+m+p+x,A=new Map;for(let k=100;k<=S;k++){const P=c.index,j=Sp(c,i),H=k>d&&k<=d+m,G=i>=1050&&H,Y=G?c.readUInt8():1,ee=[];for(let Ee=0;Ee<Y;Ee++)ee.push(Cp(c,i,G));const he=c.index,ke=c.buffer.slice(P,he);let le;k<=d?le="item":k<=d+m?le="outfit":k<=d+m+p?le="effect":le="distance",A.set(k,{id:k,category:le,flags:j,frameGroups:ee,rawBytes:ke})}return console.log(`[OB] Parsed ${A.size} things: items=${d} outfits=${m} effects=${p} distances=${x}`),{version:i,itemCount:d,outfitCount:m,effectCount:p,distanceCount:x,things:A,originalBuffer:u}}const ud={"57BBD603":1098};function Ap(u){const r=wd(u);let i,a;if(r){if(r.fileType!==go.SPRITE_DATA)throw new Error(`Expected sprite data (0x01), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,a=mo}else{const S=new DataView(u).getUint32(0,!0).toString(16).toUpperCase();if(!(S in ud))throw new Error("Unknown sprite file format.");i=ud[S],a=4}const c=new Uint8Array(u.slice(a)),d=new $i(c),m=i>760?d.readUInt32():d.readUInt16(),p=new Map;for(let x=1;x<=m;x++){const S=d.readUInt32();S!==0&&p.set(x,S-a)}return console.log(`[OB] Parsed sprite index: ${m} sprites, ${p.size} non-empty`),{version:i,spriteCount:m,addresses:p,buffer:c,originalBuffer:u}}function co(u,r){const i=u.addresses.get(r);if(i===void 0)return null;const a=u.buffer,c=a[i+3]+(a[i+4]<<8),d=new $i(a.slice(i,i+5+c));d.readRGB(),d.skip(2);const m=new Uint32Array(1024);let p=0;for(;d.readable();){const S=d.readUInt16(),A=d.readUInt16();p+=S;for(let k=p;k<p+A;k++){const P=d.readUInt8(),j=d.readUInt8(),H=d.readUInt8(),G=d.readUInt8();m[k]=G<<24|H<<16|j<<8|P}p+=A}const x=new ImageData(32,32);return new Uint32Array(x.data.buffer).set(m),x}const ho=new Map,xo=document.createElement("canvas");xo.width=32;xo.height=32;const cd=xo.getContext("2d");function aa(u,r,i){if(r===0)return null;const a=ho.get(r);if(a)return a;const c=(i==null?void 0:i.get(r))??co(u,r);if(!c)return null;cd.clearRect(0,0,32,32),cd.putImageData(c,0,0);const d=xo.toDataURL();return ho.set(r,d),d}function Gi(){ho.clear()}function dd(u){ho.delete(u)}const oe=vp((u,r)=>({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,activeCategory:"item",selectedThingId:null,searchQuery:"",editVersion:0,focusSpriteId:null,loadFiles:(i,a)=>{u({loading:!0,error:null});try{const c=Ep(i),d=Ap(a);Gi(),u({objectData:c,spriteData:d,loaded:!0,loading:!1,selectedThingId:100,activeCategory:"item",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null})}catch(c){u({error:c instanceof Error?c.message:String(c),loading:!1})}},setActiveCategory:i=>{const a=r().getCategoryRange(i);u({activeCategory:i,selectedThingId:a?a.start:null,searchQuery:""})},setSelectedThingId:i=>u({selectedThingId:i}),setSearchQuery:i=>u({searchQuery:i}),reset:()=>{Gi(),u({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,activeCategory:"item",selectedThingId:null,searchQuery:"",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null})},updateThingFlags:(i,a)=>{const{objectData:c,undoStack:d,dirtyIds:m,editVersion:p}=r();if(!c)return;const x=c.things.get(i);if(!x)return;const S={...x.flags};x.flags=a,x.rawBytes=void 0;const A=new Set(m);A.add(i),u({dirty:!0,dirtyIds:A,undoStack:[...d,{thingId:i,oldFlags:S,newFlags:{...a}}],redoStack:[],editVersion:p+1})},undo:()=>{const{objectData:i,undoStack:a,redoStack:c,editVersion:d}=r();if(!i||a.length===0)return;const m=a[a.length-1],p=i.things.get(m.thingId);p&&(p.flags={...m.oldFlags}),u({undoStack:a.slice(0,-1),redoStack:[...c,m],editVersion:d+1})},redo:()=>{const{objectData:i,undoStack:a,redoStack:c,editVersion:d}=r();if(!i||c.length===0)return;const m=c[c.length-1],p=i.things.get(m.thingId);p&&(p.flags={...m.newFlags}),u({undoStack:[...a,m],redoStack:c.slice(0,-1),editVersion:d+1})},replaceSprite:(i,a)=>{const{spriteOverrides:c,dirtySpriteIds:d,editVersion:m}=r(),p=new Map(c);p.set(i,a);const x=new Set(d);x.add(i),dd(i),u({dirty:!0,spriteOverrides:p,dirtySpriteIds:x,editVersion:m+1})},addSprite:i=>{const{spriteData:a,spriteOverrides:c,dirtySpriteIds:d,editVersion:m}=r();if(!a)return null;a.spriteCount++;const p=a.spriteCount,x=new Map(c);x.set(p,i);const S=new Set(d);return S.add(p),u({dirty:!0,spriteOverrides:x,dirtySpriteIds:S,editVersion:m+1}),p},deleteSprite:i=>{const{spriteOverrides:a,dirtySpriteIds:c,editVersion:d}=r();if(i<=0)return;const m=new ImageData(32,32),p=new Map(a);p.set(i,m);const x=new Set(c);x.add(i),dd(i),u({dirty:!0,spriteOverrides:p,dirtySpriteIds:x,editVersion:d+1})},addThing:i=>{const{objectData:a,editVersion:c}=r();if(!a)return null;let d;switch(i){case"item":a.itemCount++,d=a.itemCount;break;case"outfit":a.outfitCount++,d=a.itemCount+a.outfitCount;break;case"effect":a.effectCount++,d=a.itemCount+a.outfitCount+a.effectCount;break;case"distance":a.distanceCount++,d=a.itemCount+a.outfitCount+a.effectCount+a.distanceCount;break}const x={id:d,category:i,flags:{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1},frameGroups:[{type:0,width:1,height:1,layers:1,patternX:1,patternY:1,patternZ:1,animationLength:1,asynchronous:0,nLoop:0,start:0,animationLengths:[{min:0,max:0}],sprites:[0]}]};a.things.set(d,x);const S=new Set(r().dirtyIds);return S.add(d),u({dirty:!0,dirtyIds:S,selectedThingId:d,editVersion:c+1}),d},removeThing:i=>{const{objectData:a,editVersion:c,activeCategory:d}=r();if(!a||!a.things.get(i))return;const p=r().getCategoryRange(d);if(!p)return;const x=p.end;if(i!==x)return;switch(a.things.delete(i),d){case"item":a.itemCount--;break;case"outfit":a.outfitCount--;break;case"effect":a.effectCount--;break;case"distance":a.distanceCount--;break}const S=i>p.start?i-1:p.start;u({dirty:!0,selectedThingId:a.things.has(S)?S:null,editVersion:c+1})},importThing:(i,a,c,d)=>{const{objectData:m,spriteData:p,editVersion:x,spriteOverrides:S,dirtySpriteIds:A}=r();if(!m||!p)return null;let k;switch(i){case"item":m.itemCount++,k=m.itemCount;break;case"outfit":m.outfitCount++,k=m.itemCount+m.outfitCount;break;case"effect":m.effectCount++,k=m.itemCount+m.outfitCount+m.effectCount;break;case"distance":m.distanceCount++,k=m.itemCount+m.outfitCount+m.effectCount+m.distanceCount;break}const P=new Map(S),j=new Set(A),H=new Map;for(const[he,ke]of d){if(he===0||H.has(he))continue;p.spriteCount++;const le=p.spriteCount;H.set(he,le),P.set(le,ke),j.add(le)}const G=c.map((he,ke)=>({...he,type:ke,sprites:he.sprites.map(le=>le===0?0:H.get(le)??le),animationLengths:he.animationLengths.map(le=>({...le}))})),Y={id:k,category:i,flags:{...a},frameGroups:G};m.things.set(k,Y);const ee=new Set(r().dirtyIds);return ee.add(k),Gi(),u({dirty:!0,dirtyIds:ee,spriteOverrides:P,dirtySpriteIds:j,selectedThingId:k,activeCategory:i,editVersion:x+1}),k},markClean:()=>u({dirty:!1,dirtyIds:new Set,dirtySpriteIds:new Set}),getCategoryRange:i=>{const a=r().objectData;if(!a)return null;switch(i){case"item":return{start:100,end:a.itemCount};case"outfit":return{start:a.itemCount+1,end:a.itemCount+a.outfitCount};case"effect":return{start:a.itemCount+a.outfitCount+1,end:a.itemCount+a.outfitCount+a.effectCount};case"distance":return{start:a.itemCount+a.outfitCount+a.effectCount+1,end:a.itemCount+a.outfitCount+a.effectCount+a.distanceCount}}}}));function Bp(u,r,i,a){if(!u)return[];const c=a(r);if(!c)return[];const d=[];for(let m=c.start;m<=c.end;m++){const p=u.things.get(m);if(p){if(i&&!m.toString().includes(i))continue;d.push(p)}}return d}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_d=(...u)=>u.filter((r,i,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=J.forwardRef(({color:u="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:m,...p},x)=>J.createElement("svg",{ref:x,...Fp,width:r,height:r,stroke:u,strokeWidth:a?Number(i)*24/Number(r):i,className:_d("lucide",c),...p},[...m.map(([S,A])=>J.createElement(S,A)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=(u,r)=>{const i=J.forwardRef(({className:a,...c},d)=>J.createElement(Pp,{ref:d,iconNode:r,className:_d(`lucide-${Dp(u)}`,a),...c}));return i.displayName=`${u}`,i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Ye("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Ye("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Ye("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Ye("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Ye("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ye("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ye("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ye("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ye("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Ye("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Ye("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Zp(){const u=oe(H=>H.loadFiles),r=oe(H=>H.loading),i=oe(H=>H.error),[a,c]=J.useState(!1),d=J.useRef(null),m=J.useRef(null),[p,x]=J.useState(null),[S,A]=J.useState(null);J.useCallback(()=>{d.current&&m.current&&u(d.current,m.current)},[u]);const k=J.useCallback(H=>{var ee;const G=(ee=H.name.split(".").pop())==null?void 0:ee.toLowerCase(),Y=new FileReader;Y.onload=he=>{var le;const ke=(le=he.target)==null?void 0:le.result;G==="dat"||G==="eobj"?(d.current=ke,x(H.name)):(G==="spr"||G==="espr")&&(m.current=ke,A(H.name)),d.current&&m.current&&u(d.current,m.current)},Y.readAsArrayBuffer(H)},[u]),P=J.useCallback(H=>{H.preventDefault(),c(!1),Array.from(H.dataTransfer.files).forEach(k)},[k]),j=J.useCallback(H=>{Array.from(H.target.files||[]).forEach(k)},[k]);return f.jsx("div",{className:"h-full flex items-center justify-center bg-emperia-bg p-8",children:f.jsxs("div",{className:"max-w-lg w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-emperia-text mb-2",children:"Emperia Object Builder"}),f.jsx("p",{className:"text-emperia-muted text-sm",children:"v1.0.0  Web Edition"})]}),f.jsxs("div",{onDragOver:H=>{H.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:P,className:`
            border-2 border-dashed rounded-xl p-12 text-center cursor-pointer
            transition-all duration-200
            ${a?"border-emperia-accent bg-emperia-accent/10":"border-emperia-border hover:border-emperia-muted bg-emperia-surface"}
          `,onClick:()=>{var H;return(H=document.getElementById("file-input"))==null?void 0:H.click()},children:[f.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:".dat,.spr,.eobj,.espr",className:"hidden",onChange:j}),r?f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx(Op,{className:"w-12 h-12 text-emperia-accent animate-spin"}),f.jsx("p",{className:"text-emperia-text",children:"Loading files"})]}):f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx(Bd,{className:"w-12 h-12 text-emperia-muted"}),f.jsx("p",{className:"text-emperia-text font-medium",children:"Drop your files here"}),f.jsxs("p",{className:"text-emperia-muted text-sm",children:["Drag & drop ",f.jsx("code",{className:"text-emperia-accent",children:".eobj"})," + ",f.jsx("code",{className:"text-emperia-accent",children:".espr"})," files",f.jsx("br",{}),"or legacy ",f.jsx("code",{className:"text-emperia-accent",children:".dat"})," + ",f.jsx("code",{className:"text-emperia-accent",children:".spr"})]})]})]}),f.jsxs("div",{className:"mt-4 flex gap-4 justify-center text-xs",children:[f.jsxs("div",{className:`flex items-center gap-1.5 ${p?"text-green-400":"text-emperia-muted"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${p?"bg-green-400":"bg-emperia-border"}`}),p||"Objects (.eobj / .dat)"]}),f.jsxs("div",{className:`flex items-center gap-1.5 ${S?"text-green-400":"text-emperia-muted"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${S?"bg-green-400":"bg-emperia-border"}`}),S||"Sprites (.espr / .spr)"]})]}),i&&f.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[f.jsx(Ip,{className:"w-4 h-4 text-red-400 mt-0.5 shrink-0"}),f.jsx("p",{className:"text-red-300 text-sm",children:i})]})]})})}class Dd{constructor(r=4096){L(this,"chunks",[]);L(this,"current");L(this,"pos",0);this.current=new Uint8Array(r)}ensure(r){if(this.pos+r<=this.current.length)return;this.chunks.push(this.current.slice(0,this.pos));const i=Math.max(this.current.length*2,r+1024);this.current=new Uint8Array(i),this.pos=0}writeUInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeUInt16(r){this.ensure(2),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255}writeUInt32(r){this.ensure(4),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255,this.current[this.pos++]=r>>16&255,this.current[this.pos++]=r>>24&255}writeBytes(r){this.ensure(r.length),this.current.set(r,this.pos),this.pos+=r.length}writeString(r){const i=new TextEncoder().encode(r);this.writeUInt16(i.length),this.ensure(i.length),this.current.set(i,this.pos),this.pos+=i.length}toArrayBuffer(){this.chunks.push(this.current.slice(0,this.pos));const r=this.chunks.reduce((c,d)=>c+d.length,0),i=new Uint8Array(r);let a=0;for(const c of this.chunks)i.set(c,a),a+=c.length;return this.chunks=[],this.current=new Uint8Array(4096),this.pos=0,i.buffer}}const Fe={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function Jp(u,r,i){const a=c=>{if(i>=1e3){if(c===Fe.ThingAttrNoMoveAnimation){u.writeUInt8(16);return}if(c===Fe.ThingAttrChargeable){u.writeUInt8(Fe.ThingAttrChargeable+1);return}if(c>=16){u.writeUInt8(c+1);return}}u.writeUInt8(c)};r.ground&&(a(Fe.ThingAttrGround),u.writeUInt16(r.groundSpeed??0)),r.groundBorder&&a(Fe.ThingAttrGroundBorder),r.onBottom&&a(Fe.ThingAttrOnBottom),r.onTop&&a(Fe.ThingAttrOnTop),r.container&&a(Fe.ThingAttrContainer),r.stackable&&a(Fe.ThingAttrStackable),r.forceUse&&a(Fe.ThingAttrForceUse),r.multiUse&&a(Fe.ThingAttrMultiUse),r.writable&&(a(Fe.ThingAttrWritable),u.writeUInt16(r.writableMaxLen??0)),r.writableOnce&&(a(Fe.ThingAttrWritableOnce),u.writeUInt16(r.writableOnceMaxLen??0)),r.fluidContainer&&a(Fe.ThingAttrFluidContainer),r.splash&&a(Fe.ThingAttrSplash),r.notWalkable&&a(Fe.ThingAttrNotWalkable),r.notMoveable&&a(Fe.ThingAttrNotMoveable),r.blockProjectile&&a(Fe.ThingAttrBlockProjectile),r.notPathable&&a(Fe.ThingAttrNotPathable),r.pickupable&&a(Fe.ThingAttrPickupable),r.hangable&&a(Fe.ThingAttrHangable),r.hookSouth&&a(Fe.ThingAttrHookSouth),r.hookEast&&a(Fe.ThingAttrHookEast),r.rotateable&&a(Fe.ThingAttrRotateable),r.hasLight&&(a(Fe.ThingAttrLight),u.writeUInt16(r.lightLevel??0),u.writeUInt16(r.lightColor??0)),r.dontHide&&a(Fe.ThingAttrDontHide),r.translucent&&a(Fe.ThingAttrTranslucent),r.hasDisplacement&&(a(Fe.ThingAttrDisplacement),i>=755&&(u.writeUInt16(r.displacementX??0),u.writeUInt16(r.displacementY??0))),r.hasElevation&&(a(Fe.ThingAttrElevation),u.writeUInt16(r.elevation??0)),r.lyingCorpse&&a(Fe.ThingAttrLyingCorpse),r.animateAlways&&a(Fe.ThingAttrAnimateAlways),r.hasMinimapColor&&(a(Fe.ThingAttrMinimapColor),u.writeUInt16(r.minimapColor??0)),r.lensHelp!=null&&(a(Fe.ThingAttrLensHelp),u.writeUInt16(r.lensHelp)),r.fullGround&&a(Fe.ThingAttrFullGround),r.look&&a(Fe.ThingAttrLook),r.cloth&&(a(Fe.ThingAttrCloth),u.writeUInt16(r.clothSlot??0)),r.hasMarket&&(a(Fe.ThingAttrMarket),u.writeUInt16(r.marketCategory??0),u.writeUInt16(r.marketTradeAs??0),u.writeUInt16(r.marketShowAs??0),u.writeString(r.marketName??""),u.writeUInt16(r.marketRestrictVocation??0),u.writeUInt16(r.marketRequiredLevel??0)),r.usable&&(a(Fe.ThingAttrUsable),u.writeUInt16(r.usableActionId??0)),r.wrapable&&a(Fe.ThingAttrWrapable),r.unwrapable&&a(Fe.ThingAttrUnwrapable),r.topEffect&&a(Fe.ThingAttrTopEffect),r.noMoveAnimation&&a(Fe.ThingAttrNoMoveAnimation),r.chargeable&&a(Fe.ThingAttrChargeable),u.writeUInt8(Fe.ThingAttrLast)}function qp(u,r,i,a){if(a&&u.writeUInt8(r.type),u.writeUInt8(r.width),u.writeUInt8(r.height),(r.width>1||r.height>1)&&u.writeUInt8(Math.max(r.width,r.height)),u.writeUInt8(r.layers),u.writeUInt8(r.patternX),u.writeUInt8(r.patternY),i>=755&&u.writeUInt8(r.patternZ),u.writeUInt8(r.animationLength),r.animationLength>1&&i>=1050){u.writeUInt8(r.asynchronous),u.writeUInt32(r.nLoop),u.writeUInt8(r.start&255);for(let c=0;c<r.animationLength;c++){const d=r.animationLengths[c]??{min:100,max:100};u.writeUInt32(d.min),u.writeUInt32(d.max)}}for(const c of r.sprites)i>=960?u.writeUInt32(c):u.writeUInt16(c)}function e0(u,r){if(!r||r.size===0)return console.log("[OB] Compile: no edits, returning original buffer"),u.originalBuffer.slice(0);console.log(`[OB] Compile: rebuilding with ${r.size} edited thing(s)`);const i=new Dd(1024*1024),a=new Uint8Array(u.originalBuffer,0,28);i.writeBytes(a);const c=u.itemCount+u.outfitCount+u.effectCount+u.distanceCount;for(let d=100;d<=c;d++){const m=u.things.get(d);if(!m){i.writeUInt8(Fe.ThingAttrLast),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),u.version>=755&&i.writeUInt8(1),i.writeUInt8(1),u.version>=960?i.writeUInt32(0):i.writeUInt16(0);continue}if(m.rawBytes&&!r.has(d)){i.writeBytes(m.rawBytes);continue}Jp(i,m.flags,u.version);const p=m.category==="outfit",x=u.version>=1050&&p;x&&i.writeUInt8(m.frameGroups.length);for(const S of m.frameGroups)qp(i,S,u.version,x)}return i.toArrayBuffer()}const hd=32,to=hd*hd;function t0(u){const r=new Uint32Array(u.data.buffer),i=[];let a=0;for(;a<to;){let p=0;for(;a+p<to&&!((r[a+p]>>24&255)>0);)p++;let x=a+p,S=0;for(;x+S<to&&(r[x+S]>>24&255)!==0;)S++;if(p>0&&S===0&&a+p>=to)break;const A=new Uint8Array(4+S*4),k=new DataView(A.buffer);k.setUint16(0,p,!0),k.setUint16(2,S,!0);for(let P=0;P<S;P++){const j=r[x+P];A[4+P*4+0]=j&255,A[4+P*4+1]=j>>8&255,A[4+P*4+2]=j>>16&255,A[4+P*4+3]=j>>24&255}i.push(A),a=x+S}const c=i.reduce((p,x)=>p+x.length,0),d=new Uint8Array(5+c);d[0]=255,d[1]=0,d[2]=255,d[3]=c&255,d[4]=c>>8&255;let m=5;for(const p of i)d.set(p,m),m+=p.length;return d}function n0(u,r){if(!r||r.size===0)return console.log("[OB] Sprite compile: no edits, returning original buffer"),u.originalBuffer.slice(0);console.log(`[OB] Sprite compile: rebuilding with ${r.size} modified sprite(s)`);const i=new Map;for(const[k,P]of r)i.set(k,t0(P));const a=new Map;for(let k=1;k<=u.spriteCount;k++){const P=i.get(k);if(P)a.set(k,P);else{const j=u.addresses.get(k);if(j!==void 0){const H=u.buffer,G=H[j+3]+(H[j+4]<<8);a.set(k,H.slice(j,j+5+G))}}}const c=mo,d=u.version>760?4:2,m=u.spriteCount*4,p=c+d+m,x=new Map;let S=p;for(let k=1;k<=u.spriteCount;k++){const P=a.get(k);P&&(x.set(k,S),S+=P.length)}const A=new Dd(S+1024);for(let k=0;k<uo.length;k++)A.writeUInt8(uo[k]);A.writeUInt8(go.SPRITE_DATA),A.writeUInt16(1),A.writeUInt32(u.version),A.writeUInt8(0),A.writeUInt32(0),u.version>760?A.writeUInt32(u.spriteCount):A.writeUInt16(u.spriteCount);for(let k=1;k<=u.spriteCount;k++)A.writeUInt32(x.get(k)??0);for(let k=1;k<=u.spriteCount;k++){const P=a.get(k);P&&A.writeBytes(P)}return A.toArrayBuffer()}function r0(){const u=oe(k=>k.objectData),r=oe(k=>k.spriteData),i=oe(k=>k.reset),a=oe(k=>k.dirty),c=oe(k=>k.undo),d=oe(k=>k.redo),m=oe(k=>k.undoStack),p=oe(k=>k.redoStack),x=oe(k=>k.markClean),S=oe(k=>k.dirtyIds);J.useEffect(()=>{const k=P=>{a&&P.preventDefault()};return window.addEventListener("beforeunload",k),()=>window.removeEventListener("beforeunload",k)},[a]);const A=()=>{if(!u||!r)return;const k=e0(u,S);sa(k,"emperia.eobj");const P=oe.getState().spriteOverrides,j=n0(r,P);sa(j,"emperia.espr");const H=JSON.stringify({version:1,features:{spriteDataSize:4096,transparency:!0,spriteSize:32,frameDurations:!0,extended:!0,frameGroups:!0},contentVersion:u.version,format:"emperia-asset-manifest",files:{sprites:"emperia.espr",objects:"emperia.eobj"}},null,2);sa(new TextEncoder().encode(H).buffer,"emperia.easset"),x()};return J.useEffect(()=>{const k=P=>{(P.ctrlKey||P.metaKey)&&P.key==="z"&&!P.shiftKey&&(P.preventDefault(),c()),(P.ctrlKey||P.metaKey)&&(P.key==="y"||P.key==="z"&&P.shiftKey)&&(P.preventDefault(),d()),(P.ctrlKey||P.metaKey)&&P.key==="s"&&(P.preventDefault(),A())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)}),f.jsxs("div",{className:"h-10 flex items-center px-3 gap-2 bg-emperia-surface border-b border-emperia-border shrink-0",children:[f.jsx("span",{className:"text-sm font-bold text-emperia-text tracking-wide",children:"Emperia Object Builder"}),f.jsx("span",{className:"text-xs text-emperia-muted",children:"v1.0.0"}),a&&f.jsx("span",{title:"Unsaved changes",children:f.jsx(bp,{className:"w-2 h-2 fill-amber-400 text-amber-400"})}),f.jsx("div",{className:"flex-1"}),u&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 text-xs text-emperia-muted mr-2",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Rp,{className:"w-3 h-3"}),"v",u.version]}),f.jsxs("span",{children:[u.things.size," objects"]})]}),f.jsx("button",{onClick:c,disabled:m.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Undo (Ctrl+Z)",children:f.jsx(Qp,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:d,disabled:p.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Redo (Ctrl+Y)",children:f.jsx(Gp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-5 bg-emperia-border mx-1"}),f.jsxs("button",{onClick:A,className:`flex items-center gap-1.5 px-2.5 py-1 rounded text-xs font-medium
                       bg-emperia-accent/20 text-emperia-accent hover:bg-emperia-accent/30
                       transition-colors`,title:"Compile and download .eobj + .espr",children:[f.jsx(Sd,{className:"w-3.5 h-3.5"}),"Compile"]})]}),f.jsxs("button",{onClick:i,className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs
                   text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                   transition-colors`,children:[f.jsx(Cd,{className:"w-3.5 h-3.5"}),"Open"]})]})}function sa(u,r){const i=new Blob([u],{type:"application/octet-stream"}),a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=r,c.click(),URL.revokeObjectURL(a)}const i0=[{key:"item",label:"Items",icon:zp},{key:"outfit",label:"Outfits",icon:Vp},{key:"effect",label:"Effects",icon:$p},{key:"distance",label:"Distance",icon:Tp}];function s0(){const u=oe(A=>A.activeCategory),r=oe(A=>A.setActiveCategory),i=oe(A=>A.objectData),a=oe(A=>A.searchQuery),c=oe(A=>A.setSearchQuery),d=oe(A=>A.selectedThingId),m=oe(A=>A.addThing),p=oe(A=>A.removeThing),x=oe(A=>A.getCategoryRange);oe(A=>A.editVersion);const S=A=>{if(!i)return 0;switch(A){case"item":return i.itemCount-99;case"outfit":return i.outfitCount;case"effect":return i.effectCount;case"distance":return i.distanceCount}};return f.jsxs("div",{className:"shrink-0",children:[f.jsx("div",{className:"flex border-b border-emperia-border",children:i0.map(({key:A,label:k,icon:P})=>f.jsxs("button",{onClick:()=>r(A),className:`
              flex-1 flex flex-col items-center gap-0.5 py-2 text-xs transition-colors
              ${u===A?"text-emperia-accent border-b-2 border-emperia-accent bg-emperia-accent/5":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}
            `,children:[f.jsx(P,{className:"w-4 h-4"}),f.jsx("span",{children:k}),f.jsx("span",{className:"text-[10px] opacity-60",children:S(A)})]},A))}),f.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1",children:[f.jsxs("div",{className:"flex items-center gap-1.5 bg-emperia-surface rounded px-2 py-1 flex-1",children:[f.jsx(Ad,{className:"w-3.5 h-3.5 text-emperia-muted shrink-0"}),f.jsx("input",{type:"text",placeholder:"Search by ID",value:a,onChange:A=>c(A.target.value),className:"bg-transparent text-xs text-emperia-text placeholder-emperia-muted/50 outline-none w-full"})]}),f.jsx("button",{onClick:()=>m(u),disabled:!i,className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-green-400 hover:border-green-400/50 disabled:opacity-30 transition-colors",title:`Add new ${u}`,children:f.jsx(Ed,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>{if(!d||!i)return;const A=x(u);!A||d!==A.end||confirm(`Remove ${u} #${d}? Only the last item can be removed.`)&&p(d)},disabled:!i||!d||(()=>{const A=x(u);return!A||d!==A.end})(),className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-red-400 hover:border-red-400/50 disabled:opacity-30 transition-colors",title:`Remove last ${u}`,children:f.jsx(Up,{className:"w-3.5 h-3.5"})})]})]})}const Bn=40,fd=20;function o0(){const u=oe(X=>X.objectData),r=oe(X=>X.activeCategory),i=oe(X=>X.searchQuery),a=oe(X=>X.getCategoryRange),c=oe(X=>X.selectedThingId),d=oe(X=>X.setSelectedThingId),m=oe(X=>X.spriteData),p=oe(X=>X.spriteOverrides),x=oe(X=>X.editVersion),S=J.useMemo(()=>Bp(u,r,i,a),[u,r,i,a,x]),A=J.useRef(null),[k,P]=J.useState(0),[j,H]=J.useState(0),G=6,Y=Math.ceil(S.length/G),ee=Y*Bn,he=Math.max(0,Math.floor(k/Bn)-fd),ke=Math.min(Y,Math.ceil((k+j)/Bn)+fd),le=he*G,Ee=Math.min(S.length,ke*G),M=S.slice(le,Ee),Te=J.useCallback(()=>{A.current&&P(A.current.scrollTop)},[]);return J.useEffect(()=>{const X=A.current;if(!X)return;const Ne=new ResizeObserver(()=>H(X.clientHeight));return Ne.observe(X),H(X.clientHeight),()=>Ne.disconnect()},[]),J.useEffect(()=>{const X=Ne=>{var Ce;if(!S.length||c==null)return;const we=(Ce=Ne.target)==null?void 0:Ce.tagName;if(we==="INPUT"||we==="TEXTAREA"||we==="SELECT")return;const _e=S.findIndex(N=>N.id===c);if(_e<0)return;let ye=_e;switch(Ne.key){case"ArrowRight":ye=Math.min(S.length-1,_e+1);break;case"ArrowLeft":ye=Math.max(0,_e-1);break;case"ArrowDown":ye=Math.min(S.length-1,_e+G);break;case"ArrowUp":ye=Math.max(0,_e-G);break;default:return}ye!==_e&&(Ne.preventDefault(),d(S[ye].id))};return window.addEventListener("keydown",X),()=>window.removeEventListener("keydown",X)},[S,c,d]),J.useEffect(()=>{if(c==null||!A.current)return;const X=S.findIndex(ye=>ye.id===c);if(X<0)return;const we=Math.floor(X/G)*Bn,_e=A.current;(we<_e.scrollTop||we+Bn>_e.scrollTop+_e.clientHeight)&&(_e.scrollTop=Math.max(0,we-_e.clientHeight/2+Bn/2))},[c,S]),f.jsx("div",{ref:A,onScroll:Te,className:"flex-1 overflow-y-auto",children:f.jsx("div",{style:{height:ee,position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:he*Bn,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${G}, 1fr)`},children:M.map(X=>{var ye;const Ne=((ye=X.frameGroups[0])==null?void 0:ye.sprites[0])??0,we=m?aa(m,Ne,p):null,_e=X.id===c;return f.jsxs("button",{onClick:()=>d(X.id),className:`
                  relative flex items-center justify-center
                  border border-transparent transition-colors
                  ${_e?"bg-emperia-accent/20 border-emperia-accent":"hover:bg-emperia-hover"}
                `,style:{width:Bn,height:Bn},title:`#${X.id}`,children:[we?f.jsx("img",{src:we,alt:"",className:"w-8 h-8 pixelated",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-8 h-8 bg-emperia-border/30 rounded-sm"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[8px] text-emperia-muted/60 leading-none",children:X.id})]},X.id)})})})})}const kr=[16777215,12571903,12577279,12582911,12582889,12582868,12582847,13959103,15335359,16777151,16771519,16766143,16760767,16760788,16760809,16760831,15319039,13942783,12566527,14342874,9412543,9416639,9420735,9420719,9420703,9420687,10469263,11517839,12566415,12562319,12558223,12554127,12554143,12554159,12554175,11505599,10457023,9408447,11974326,6258623,9416639,6275007,6274975,6274943,6274911,8372063,10469215,12566367,12558175,12549983,12541791,12541823,12541855,12541887,10444735,8347583,6250431,9539985,4156095,4166847,4177855,4177812,4177770,4177727,6995775,9748287,12566335,12555327,12544575,12533567,12533610,12533652,12533695,9715647,6963135,4145087,7171437,22015,43775,65535,65450,65364,65280,5570304,11206400,16776960,16754944,16733440,16711680,16711765,16711849,16711934,11141375,5570815,255,4737096,16319,32703,49087,49023,48959,48896,4177664,8371968,12566272,12549888,12533504,12517376,12517439,12517503,12517567,8323263,4128959,191,2368548,10879,21887,32639,32597,32554,32512,2785024,5603072,8355584,8344576,8333824,8323072,8323114,8323156,8323199,5570687,2752639,127],Zr=kr.length,l0=4278255615,a0=4278190335,u0=4278255360,c0=4294901760;function d0(u,r,i){const a=kr[Math.max(0,Math.min(Zr-1,i.head))],c=kr[Math.max(0,Math.min(Zr-1,i.body))],d=kr[Math.max(0,Math.min(Zr-1,i.legs))],m=kr[Math.max(0,Math.min(Zr-1,i.feet))],p=new Uint32Array(r.data.buffer),x=u.data;for(let S=0;S<p.length;S++){const A=4*S;let k;switch(p[S]){case l0:k=a;break;case a0:k=c;break;case u0:k=d;break;case c0:k=m;break;default:continue}x[A+0]=x[A+0]*(k>>0&255)/255,x[A+1]=x[A+1]*(k>>8&255)/255,x[A+2]=x[A+2]*(k>>16&255)/255}}function pd(u){const r=kr[Math.max(0,Math.min(Zr-1,u))],i=r>>0&255,a=r>>8&255,c=r>>16&255;return`#${i.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}const an=4294967296,md=2147483647,gd=-2147483648,Qr=268435455,h0=4294967295,Fd=1073741823,xd=192,no=12,f0=114,p0=768,m0=4096,g0=2,oa=[4294967295,-an],Xr=[0,0],x0=[1,0],ro=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],We=v0(),tr=k0();function Pe(u,r=0){const i=[];if(i[u-1]=void 0,r!==0)for(let a=0;a<u;a++)i[a]=r;return i}function Pd(u,r,i,a,c){if(!(r<0||a<0||c<0||r+c>u.length||a+c>i.length))if(u===i&&r<a&&a<r+c)for(let d=c-1;d>=0;d--)i[a+d]=u[r+d];else for(let d=0;d<c;d++)i[a+d]=u[r+d]}function xn(u,r){return We[((u-r^-r)&2047)>>>2]}function Vi(u,r){let i,a;for(r%=18446744073709552e3,u%=18446744073709552e3,i=r%an,a=Math.floor(u/an)*an,r=r-i+a,u=u-a+i;u<0;)u+=an,r-=an;for(;u>4294967295;)u-=an,r+=an;for(r=r%18446744073709552e3;r>9223372032559809e3;)r-=18446744073709552e3;for(;r<-9223372036854776e3;)r+=18446744073709552e3;return[u,r]}function yn(u,r){return Vi(u[0]+r[0],u[1]+r[1])}function Td(u,r){return Vi(u[0]-r[0],u[1]-r[1])}function Dn(u,r){if(u[0]==r[0]&&u[1]==r[1])return 0;const i=u[1]<0,a=r[1]<0;return i&&!a?-1:!i&&a?1:Td(u,r)[1]<0?-1:1}function St(u){return u[0]>=2147483648?~~Math.max(Math.min(u[0]-an,md),gd):~~Math.max(Math.min(u[0],md),gd)}function wr(u){return u>=0?[u,0]:[u+an,-an]}function y0(u,r){if(r&=63,r<=30){const a=1<<r;return Vi(Math.floor(u[0]/a),u[1]/a)}const i=(1<<30)*(1<<r-30);return Vi(Math.floor(u[0]/i),u[1]/i)}function Ie(u){for(let r=u.length-1;r>=0;--r)u[r]=1024}function fo(u){return u-=2,u<4?u:3}function er(u){return u<4?0:u<10?u-3:u-6}function kt(u){return{numBitLevels:u,models:Pe(1<<u)}}function v0(){const u=[];for(let r=8;r>=0;--r){let i=1<<9-r-1,a=1<<9-r;for(let c=i;c<a;++c)u[c]=(r<<6)+(a-c<<6>>>9-r-1)}return u}function k0(){const u=[0,1];let r=2;for(let i=2;i<22;++i){let a=1<<(i>>1)-1;for(let c=0;c<a;++c,++r)u[r]=i}return u}class w0{constructor(r){L(this,"encoder",null);L(this,"decoder",null);L(this,"alive",0);L(this,"inBytesProcessed",[0,0]);L(this,"lzma");this.lzma=r}processChunk(){if(!this.alive)throw new Error("bad state");if(!this.encoder)throw new Error("No decoding");return this.lzma.codeOneBlock(),this.inBytesProcessed=this.encoder.processedInSize[0],this.encoder.finished[0]&&(this.lzma.releaseStreams(),this.alive=0),this.alive}}class yd{constructor(r){L(this,"encoder",null);L(this,"decoder");L(this,"alive",0);L(this,"inBytesProcessed",[0,0]);this.decoder=r}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.decoder.codeOneChunk();if(r===-1)throw new Error("Corrupted input");this.inBytesProcessed=this.decoder.nowPos64;const i=Dn(this.decoder.outSize,Xr)>=0&&Dn(this.decoder.nowPos64,this.decoder.outSize)>=0;return(r||i)&&(this.decoder.flush(),this.decoder.cleanup(),this.alive=0),this.alive}}class _0{constructor(r=null,i=4096){L(this,"buffer",null);L(this,"pos",0);L(this,"streamPos",0);L(this,"stream",null);L(this,"windowSize",0);L(this,"w",null);L(this,"buf",[]);this.w=r,this.stream=r,this.windowSize=i,this.buf=new Array(i),this.buffer=this.buf,this.pos=0,this.streamPos=0}copyBlock(r,i){if(this.buffer)for(let a=0;a<i;a++){let c=this.pos-r-1;c<0&&(c+=this.windowSize);const d=this.buffer[c];this.putByte(d)}}putByte(r){this.buffer&&(this.buffer[this.pos]=r,this.pos++,this.streamPos++,this.pos>=this.windowSize&&this.flush())}getByte(r){if(!this.buffer)return 0;let i=this.pos+r;return i<0?i+=this.windowSize:i>=this.windowSize&&(i-=this.windowSize),this.buffer[i]}flush(){if(this.w&&this.buffer&&this.pos>0){const r=this.buffer.slice(0,this.pos);this.w.write(r),this.pos=0}}isEmpty(){return this.streamPos===0}reset(){this.pos=0,this.streamPos=0,this.buffer&&this.buffer.fill(0)}}class S0{constructor(){L(this,"stream",null);L(this,"code",0);L(this,"rrange",0)}setStream(r){this.stream=r}init(){this.code=0,this.rrange=-1;for(let r=0;r<5;++r)this.code=this.code<<8|this.readFromStream()}decodeBit(r,i){let a,c=r[i];return a=(this.rrange>>>11)*c,(this.code^-2147483648)<(a^-2147483648)?(this.rrange=a,r[i]=c+(2048-c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),0):(this.rrange-=a,this.code-=a,r[i]=c-(c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),1)}decodeDirectBits(r){let i=0;for(let a=r;a!=0;a-=1){this.rrange>>>=1;let c=this.code-this.rrange>>>31;this.code-=this.rrange&c-1,i=i<<1|1-c,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8)}return i}get currentCode(){return this.code}get currentRange(){return this.rrange}readFromStream(){if(!this.stream)return 0;if(this.stream.pos>=this.stream.count)return-1;let r;return this.stream.buf instanceof ArrayBuffer?r=new Uint8Array(this.stream.buf)[this.stream.pos++]:this.stream.buf instanceof Uint8Array?r=this.stream.buf[this.stream.pos++]:r=this.stream.buf[this.stream.pos++],r&255}}class C0{constructor(){L(this,"rangeDecoder");L(this,"outWindow");L(this,"state",0);L(this,"rep0",0);L(this,"rep1",0);L(this,"rep2",0);L(this,"rep3",0);L(this,"prevByte",0);L(this,"nowPos64",[0,0]);L(this,"outSize",[0,0]);L(this,"posStateMask",0);L(this,"dictSizeCheck",0);L(this,"matchDecoders",[]);L(this,"rep0LongDecoders",[]);L(this,"repDecoders",[]);L(this,"repG0Decoders",[]);L(this,"repG1Decoders",[]);L(this,"repG2Decoders",[]);L(this,"posDecoders",[]);L(this,"literalDecoder");L(this,"posSlotDecoders",[]);L(this,"lenDecoder");L(this,"repLenDecoder");L(this,"posAlignDecoder");L(this,"decoder");L(this,"encoder",null);L(this,"alive",0);L(this,"inBytesProcessed",[0,0]);this.rangeDecoder=new S0,this.outWindow=new _0(null,m0),this.matchDecoders=Pe(xd),this.rep0LongDecoders=Pe(xd),this.repDecoders=Pe(no),this.repG0Decoders=Pe(no),this.repG1Decoders=Pe(no),this.repG2Decoders=Pe(no),this.posDecoders=Pe(f0),this.literalDecoder={coders:[],numPrevBits:0,numPosBits:0,posMask:0,init:()=>this.initLiteralDecoder()};for(let r=0;r<4;r++)this.posSlotDecoders[r]=kt(6);this.lenDecoder=this.createLenDecoder(),this.repLenDecoder=this.createLenDecoder(),this.posAlignDecoder=kt(4),this.decoder=this}get literalCoder(){return this.literalDecoder}createLenDecoder(){return{choice:Pe(g0),lowCoder:[],midCoder:[],highCoder:kt(8),numPosStates:0}}setDecoderProperties(r){if(r.length<5)return!1;const i=r[0]%9,a=Math.floor(r[0]/9),c=a%5,d=Math.floor(a/5);if(d>4)return!1;this.literalDecoder.numPrevBits=i,this.literalDecoder.numPosBits=c,this.literalDecoder.posMask=(1<<c)-1,this.posStateMask=(1<<d)-1;let m=0;for(let x=0;x<4;x++){const S=r[1+x]&255;m+=S<<x*8}this.dictSizeCheck=Math.max(m,1),m>0&&(this.outWindow.windowSize=Math.max(m,4096),this.outWindow.buffer=Pe(this.outWindow.windowSize));const p=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;this.literalDecoder.coders=[];for(let x=0;x<p;x++)this.literalDecoder.coders[x]={decoders:Pe(p0)};this.lenDecoder.numPosStates=1<<d,this.repLenDecoder.numPosStates=1<<d,this.lenDecoder.lowCoder=[],this.lenDecoder.midCoder=[],this.repLenDecoder.lowCoder=[],this.repLenDecoder.midCoder=[];for(let x=0;x<1<<d;x++)this.lenDecoder.lowCoder[x]=kt(3),this.lenDecoder.midCoder[x]=kt(3),this.repLenDecoder.lowCoder[x]=kt(3),this.repLenDecoder.midCoder[x]=kt(3);return!0}copyBlock(r){const i=this.outWindow,a=this.rep0;let c=i.pos-a-1;for(c<0&&(c+=i.windowSize);r!=0;r-=1)c>=i.windowSize&&(c=0),i.buffer[i.pos]=i.buffer[c],i.pos+=1,c+=1,i.pos>=i.windowSize&&this.flush()}putByte(r){this.outWindow.buffer[this.outWindow.pos]=r,this.outWindow.pos+=1,this.outWindow.pos>=this.outWindow.windowSize&&this.flush()}getByte(r){const i=this.outWindow;let a=i.pos-r-1;return a<0&&(a+=i.windowSize),i.buffer[a]}getDecoder(r,i){const a=r&this.literalDecoder.posMask,c=(i&255)>>>8-this.literalDecoder.numPrevBits,d=(a<<this.literalDecoder.numPrevBits)+c;return this.literalDecoder.coders[d]}initLiteralDecoder(){let r=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;for(let i=0;i<r;++i)for(let a=0;a<this.literalDecoder.coders[i].decoders.length;a++)this.literalDecoder.coders[i].decoders[a]=1024}init(){this.outWindow.streamPos=0,this.outWindow.pos=0,Ie(this.matchDecoders),Ie(this.rep0LongDecoders),Ie(this.repDecoders),Ie(this.repG0Decoders),Ie(this.repG1Decoders),Ie(this.repG2Decoders),Ie(this.posDecoders),this.initLiteralDecoder();for(let r=0;r<4;++r)Ie(this.posSlotDecoders[r].models);this.initLenDecoder(this.lenDecoder),this.initLenDecoder(this.repLenDecoder),Ie(this.posAlignDecoder.models),this.initRangeDecoder()}initLenDecoder(r){Ie(r.choice);for(let i=0;i<r.numPosStates;++i)Ie(r.lowCoder[i].models),Ie(r.midCoder[i].models);Ie(r.highCoder.models)}outWindowReleaseStream(){this.flush(),this.outWindow.stream=null}decodeBit(r,i){return this.rangeDecoder.decodeBit(r,i)}decodeDirectBits(r){return this.rangeDecoder.decodeDirectBits(r)}initRangeDecoder(){this.rangeDecoder.init()}rangeBitTreeDecoder(r){let i,a=1;for(i=r.numBitLevels;i!=0;i-=1)a=(a<<1)+this.decodeBit(r.models,a);return a-(1<<r.numBitLevels)}reverseDecode(r,i,a){let c=0;for(let d=0,m=1,p;d<a;++d)p=this.decodeBit(r,i+m),m<<=1,m+=p,c|=p<<d;return c}reverseDecodeAlignDecoder(){let r=0;for(let i=1,a=0,c;a<this.posAlignDecoder.numBitLevels;++a)c=this.decodeBit(this.posAlignDecoder.models,i),i<<=1,i+=c,r|=c<<a;return r}decodeNormalWithRangeDecoder(r){let i=1;do i=i<<1|this.decodeBit(r.decoders,i);while(i<256);return i<<24>>24}decodeWithMatchByteWithRangeDecoder(r,i){let a,c,d=1;do if(c=i>>7&1,i<<=1,a=this.decodeBit(r.decoders,(1+c<<8)+d),d=d<<1|a,c!=a){for(;d<256;)d=d<<1|this.decodeBit(r.decoders,d);break}while(d<256);return d<<24>>24}decodeLenWithRangeDecoder(r,i){if(!this.decodeBit(r.choice,0))return this.rangeBitTreeDecoder(r.lowCoder[i]);let a=8;return this.decodeBit(r.choice,1)?a+=8+this.rangeBitTreeDecoder(r.highCoder):a+=this.rangeBitTreeDecoder(r.midCoder[i]),a}codeOneChunk(){let r,i,a,c,d,m=St(this.nowPos64)&this.posStateMask;if(!this.decodeBit(this.matchDecoders,(this.state<<4)+m))r=this.getDecoder(St(this.nowPos64),this.prevByte),this.state<7?this.prevByte=this.decodeNormalWithRangeDecoder(r):this.prevByte=this.decodeWithMatchByteWithRangeDecoder(r,this.getByte(this.rep0)),this.putByte(this.prevByte),this.state=er(this.state),this.nowPos64=yn(this.nowPos64,[1,0]);else{if(this.decodeBit(this.repDecoders,this.state))a=0,this.decodeBit(this.repG0Decoders,this.state)?(this.decodeBit(this.repG1Decoders,this.state)?(this.decodeBit(this.repG2Decoders,this.state)?(i=this.rep3,this.rep3=this.rep2):i=this.rep2,this.rep2=this.rep1):i=this.rep1,this.rep1=this.rep0,this.rep0=i):this.decodeBit(this.rep0LongDecoders,(this.state<<4)+m)||(this.state=this.state<7?9:11,a=1),a||(a=this.decodeLenWithRangeDecoder(this.repLenDecoder,m)+2,this.state=this.state<7?8:11);else if(this.rep3=this.rep2,this.rep2=this.rep1,this.rep1=this.rep0,a=2+this.decodeLenWithRangeDecoder(this.lenDecoder,m),this.state=this.state<7?7:10,d=this.rangeBitTreeDecoder(this.posSlotDecoders[fo(a)]),d>=4){if(c=(d>>1)-1,this.rep0=(2|d&1)<<c,d<14)this.rep0+=this.reverseDecode(this.posDecoders,this.rep0-d-1,c);else if(this.rep0+=this.decodeDirectBits(c-4)<<4,this.rep0+=this.reverseDecodeAlignDecoder(),this.rep0<0)return this.rep0==-1?1:-1}else this.rep0=d;if(Dn([this.rep0,0],this.nowPos64)>=0||this.rep0>=this.dictSizeCheck)return-1;this.copyBlock(a),this.nowPos64=yn(this.nowPos64,[a,0]),this.prevByte=this.getByte(0)}return 0}setupForDecoding(r,i,a){this.rangeDecoder.setStream(r),this.outSize=i,this.outWindowReleaseStream(),this.outWindow.stream=a,this.init(),this.state=0,this.rep0=0,this.rep1=0,this.rep2=0,this.rep3=0,this.outSize=i,this.nowPos64=[0,0],this.prevByte=0,this.decoder=this,this.encoder=null,this.alive=1}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.codeOneChunk();if(r===-1)throw new Error("Corrupted input");const i=Dn(this.outSize,[0,0])>=0&&Dn(this.nowPos64,this.outSize)>=0;return(r||i)&&(this.flush(),this.outWindowReleaseStream(),this.rangeDecoder.setStream(null),this.alive=0),this.alive}writeToOutput(r,i,a,c){const d=r.count+c;if(d>r.buf.length){const m=Math.max(r.buf.length*2,d),p=new Array(m);for(let x=0;x<r.count;x++)p[x]=r.buf[x];r.buf=p}for(let m=0;m<c;m++)r.buf[r.count+m]=i[a+m];r.count+=c}isBufferWithCount(r){const i=r;return!!i&&Array.isArray(i.buf)&&typeof i.count=="number"&&typeof i.write=="function"}flush(){const r=this.outWindow.pos-this.outWindow.streamPos;if(r){if(this.outWindow.stream&&this.outWindow.buffer){const i=this.outWindow.stream;if(this.isBufferWithCount(i))this.writeToOutput(i,this.outWindow.buffer,this.outWindow.streamPos,r);else if(typeof i.write=="function"){const a=this.outWindow.buffer.slice(this.outWindow.streamPos,this.outWindow.streamPos+r);i.write(a)}}this.outWindow.pos>=this.outWindow.windowSize&&(this.outWindow.pos=0),this.outWindow.streamPos=this.outWindow.pos}}cleanup(){this.outWindow.stream=null,this.rangeDecoder.stream=null}}class E0{constructor(){L(this,"choice",Pe(2));L(this,"lowCoder",[]);L(this,"midCoder",[]);L(this,"highCoder",kt(8));L(this,"tableSize",0);L(this,"prices",[]);L(this,"counters",[]);for(let r=0;r<16;++r)this.lowCoder[r]=kt(3),this.midCoder[r]=kt(3)}init(r){Ie(this.choice);for(let i=0;i<r;++i)Ie(this.lowCoder[i].models),Ie(this.midCoder[i].models);Ie(this.highCoder.models)}encode(r,i,a){r<8?(a.encodeBit(this.choice,0,0),a.encodeBitTree(this.lowCoder[i],r)):(r-=8,a.encodeBit(this.choice,0,1),r<8?(a.encodeBit(this.choice,1,0),a.encodeBitTree(this.midCoder[i],r)):(a.encodeBit(this.choice,1,1),a.encodeBitTree(this.highCoder,r-8)))}encodeWithUpdate(r,i,a){this.encode(r,i,a),this.counters&&(this.counters[i]-=1)==0&&(this.counters[i]=this.tableSize)}getPrice(r,i){return this.prices[i*272+r]}initPriceTable(){this.prices=[],this.counters=[]}setTableSize(r){this.tableSize=r}setTableSizeAndInitCounters(r,i){if(this.tableSize=r,this.counters)for(let a=0;a<i;++a)this.counters[a]=r}getTableSize(){return this.tableSize}updateTables(r){(!this.prices||!this.counters)&&this.initPriceTable();for(let i=0;i<r;++i)this.setPrices(i,this.tableSize,this.prices,0),this.counters&&(this.counters[i]=this.tableSize)}getBitTreePrice(r,i){let a,c,d=1,m=0;for(c=r.numBitLevels;c!=0;)c-=1,a=i>>>c&1,m+=this.getBitPrice(r.models[d],a),d=(d<<1)+a;return m}getBitPrice(r,i){return xn(r,i)}setPrices(r,i,a,c){const d=this.getBitPrice(this.choice[0],0),m=this.getBitPrice(this.choice[0],1),p=m+this.getBitPrice(this.choice[1],0),x=m+this.getBitPrice(this.choice[1],1);let S=0;const A=c+r*272;for(S=0;S<8;++S){if(S>=i)return;a[A+S]=d+this.getBitTreePrice(this.lowCoder[r],S)}for(;S<16;++S){if(S>=i)return;a[A+S]=p+this.getBitTreePrice(this.midCoder[r],S-8)}for(;S<i;++S)a[A+S]=x+this.getBitTreePrice(this.highCoder,S-8-8)}}class A0{constructor(){L(this,"coders");this.coders=Pe(768,1024)}decodeNormal(r){let i=1;for(;i<256;){const a=r.decodeBit(this.coders,i);i=i<<1|a}return i&255}decodeWithMatchByte(r,i){let a=i,c=1;for(;c<256;){const d=a>>7&1;a<<=1;const m=r.decodeBit(this.coders,(1+d<<8)+c);if(c=c<<1|m,d!==m){for(;c<256;){const p=r.decodeBit(this.coders,c);c=c<<1|p}break}}return c&255}encode(r,i){let a=1;for(let c=7;c>=0;c--){const d=i>>c&1;r.encodeBit(this.coders,a,d),a=a<<1|d}}encodeMatched(r,i,a){let c=i,d=1,m=!0;for(let p=7;p>=0;p--){const x=a>>p&1;let S=d;if(m){const A=c>>p&1;S+=1+A<<8,m=A===x}r.encodeBit(this.coders,S,x),d=d<<1|x}}getPrice(r,i,a){let c=i,d=0,m=1,p=7;if(r)for(;p>=0;){const x=c>>p&1,S=a>>p&1;if(d+=xn(this.coders[1+x<<8+m],S),m=m<<1|S,x!==S){p--;break}p--}for(;p>=0;){const x=a>>p&1;d+=xn(this.coders[m],x),m=m<<1|x,p--}return d}reset(){this.coders.fill(1024)}get decoders(){return this.coders}}class B0{constructor(r,i){L(this,"_coders");L(this,"_numPrevBits");L(this,"_posMask");const a=1<<i+r;this._coders=[],this._numPrevBits=i,this._posMask=(1<<r)-1;for(let c=0;c<a;c++)this._coders[c]=new A0}getSubCoder(r,i){return this._coders[((r&this._posMask)<<this._numPrevBits)+(i>>8-this._numPrevBits)]}reset(){this._coders.forEach(r=>r.reset())}get numPrevBits(){return this._numPrevBits}get numPosBits(){return Math.log2(this._posMask+1)}get posMask(){return this._posMask}get coders(){return this._coders}}const io=new Map;function D0(u){return u<<6}function ua(u,r){const i=`${u.numBitLevels}-${r}`;if(io.has(i))return io.get(i);let a=0,c=1;for(let d=u.numBitLevels;d>0;d--){const m=r>>>d-1&1;a+=xn(u.models[c],m),c=(c<<1)+m}return io.size<1e4&&io.set(i,a),a}class F0{constructor(){L(this,"state",0);L(this,"previousByte",0);L(this,"position",[0,0]);L(this,"repDistances",[0,0,0,0]);L(this,"longestMatchLength",0);L(this,"longestMatchWasFound",!1);L(this,"additionalOffset",0);L(this,"isMatch",Pe(192));L(this,"isRep",Pe(12));L(this,"isRepG0",Pe(12));L(this,"isRepG1",Pe(12));L(this,"isRepG2",Pe(12));L(this,"isRep0Long",Pe(192))}initModels(){Ie(this.isMatch),Ie(this.isRep),Ie(this.isRepG0),Ie(this.isRepG1),Ie(this.isRepG2),Ie(this.isRep0Long)}updateRepDistances(r,i){if(i===0)this.repDistances[3]=this.repDistances[2],this.repDistances[2]=this.repDistances[1],this.repDistances[1]=this.repDistances[0],this.repDistances[0]=r;else{const a=this.repDistances[i];for(let c=i;c>0;c--)this.repDistances[c]=this.repDistances[c-1];this.repDistances[0]=a}}}class P0{constructor(){L(this,"posSlotEncoder",[]);L(this,"posEncoders",Pe(114));L(this,"posAlignEncoder");for(let r=0;r<4;r++)this.posSlotEncoder[r]=kt(6);this.posAlignEncoder=kt(4)}init(){for(const r of this.posSlotEncoder)Ie(r.models);Ie(this.posEncoders),Ie(this.posAlignEncoder.models)}encodePosition(r,i,a){const c=this.getPosSlot(r);if(a.encodeBitTree(this.posSlotEncoder[i],c),c>=4){const d=(c>>1)-1,m=(2|c&1)<<d,p=r-m;c<14?this.encodeReverseBits(p,d,a):(a.encodeDirectBits(p>>4,d-4),a.encodeBitTree(this.posAlignEncoder,p&15))}}getPositionPrice(r,i){const a=this.getPosSlot(r);let c=ua(this.posSlotEncoder[i],a);if(a>=4){const d=(a>>1)-1,m=(2|a&1)<<d,p=r-m;a<14?c+=this.getReverseBitsPrice(p,d):(c+=D0(d-4),c+=ua(this.posAlignEncoder,p&15))}return c}getPosSlot(r){return r<4?r:r<1<<20?tr[r>>6]+12:tr[r>>26]+52}encodeReverseBits(r,i,a){let c=1;for(let d=0;d<i;d++){const m=r&1;a.encodeBit(this.posEncoders,c,m),c=c<<1|m,r>>>=1}}getReverseBitsPrice(r,i){let a=0,c=1;for(let d=0;d<i;d++){const m=r&1;a+=xn(this.posEncoders[c],m),c=c<<1|m,r>>>=1}return a}}class T0{constructor(){L(this,"encoderState",new F0);L(this,"positionEncoder",new P0);L(this,"_state",0);L(this,"_previousByte",0);L(this,"_distTableSize",0);L(this,"_longestMatchWasFound",0);L(this,"_optimumEndIndex",0);L(this,"_optimumCurrentIndex",0);L(this,"_additionalOffset",0);L(this,"_dictionarySize",0);L(this,"_matchFinder",null);L(this,"_dictionarySizePrev",0);L(this,"_numFastBytes",0);L(this,"_numLiteralContextBits",0);L(this,"_numLiteralPosStateBits",0);L(this,"_posStateBits",0);L(this,"_posStateMask",0);L(this,"_needReleaseMFStream",0);L(this,"_inStream",null);L(this,"_finished",0);L(this,"nowPos64",[0,0]);L(this,"_repDistances",Pe(4));L(this,"_optimum",[]);L(this,"_rangeEncoder",{stream:{buf:[],count:0},rrange:0,cache:0,low:[0,0],cacheSize:0,position:[0,0],encodeBit:()=>{},encodeBitTree:()=>{},encodeDirectBits:()=>{}});L(this,"_isMatch",Pe(192));L(this,"_isRep",Pe(12));L(this,"_isRepG0",Pe(12));L(this,"_isRepG1",Pe(12));L(this,"_isRepG2",Pe(12));L(this,"_isRep0Long",Pe(192));L(this,"_posSlotEncoder",[]);L(this,"_posEncoders",Pe(114));L(this,"_posAlignEncoder",null);L(this,"_lenEncoder",null);L(this,"_repMatchLenEncoder",null);L(this,"_literalEncoder",null);L(this,"_matchDistances",[]);L(this,"_posSlotPrices",[]);L(this,"_distancesPrices",[]);L(this,"_alignPrices",Pe(16));L(this,"_matchPriceCount",0);L(this,"_alignPriceCount",0);L(this,"reps",Pe(4));L(this,"repLens",Pe(4));L(this,"processedInSize",[[0,0]]);L(this,"processedOutSize",[[0,0]]);L(this,"finished",[0]);L(this,"properties",Pe(5));L(this,"tempPrices",Pe(128));L(this,"_longestMatchLength",0);L(this,"_matchFinderType",1);L(this,"_numDistancePairs",0);L(this,"_numFastBytesPrev",-1);L(this,"backRes",0)}baseInit(){this._state=0,this._previousByte=0;for(let r=0;r<4;++r)this._repDistances[r]=0}getOptimum(){return this._optimum}getBackRes(){return this.backRes}setBackRes(r){this.backRes=r}init(){this.baseInit(),this.encoderState.initModels(),this.positionEncoder.init(),this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};this.initEncoderState(),Ie(this._isMatch),Ie(this._isRep0Long),Ie(this._isRep),Ie(this._isRepG0),Ie(this._isRepG1),Ie(this._isRepG2),Ie(this._posEncoders),this.initLiteralEncoder();for(let r=0;r<4;++r)Ie(this._posSlotEncoder[r].models);this._lenEncoder&&this._lenEncoder.init(1<<this._posStateBits),this._repMatchLenEncoder&&this._repMatchLenEncoder.init(1<<this._posStateBits),this._posAlignEncoder&&Ie(this._posAlignEncoder.models),this._longestMatchWasFound=0,this._optimumEndIndex=0,this._optimumCurrentIndex=0,this._additionalOffset=0}initEncoderState(){this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=4294967295,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0,this._rangeEncoder.position=[0,0]}initLiteralEncoder(){const r=1<<this._literalEncoder.numPrevBits+this._literalEncoder.numPosBits;for(let i=0;i<r;++i)Ie(this._literalEncoder.coders[i].decoders)}createOptimumStructures(){for(let r=0;r<4096;++r)this._optimum[r]={};for(let r=0;r<4;++r)this._posSlotEncoder[r]=kt(6)}createLenPriceTableEncoder(){const r=new E0;return r.initPriceTable(),r}createLiteralEncoderEncoder2(){return{decoders:Pe(768)}}createLiteralEncoder(){this._literalEncoder!=null&&this._literalEncoder.numPrevBits==this._numLiteralContextBits&&this._literalEncoder.numPosBits==this._numLiteralPosStateBits||(this._literalEncoder=new B0(this._numLiteralPosStateBits,this._numLiteralContextBits))}initialize(){this._lenEncoder=this.createLenPriceTableEncoder(),this._repMatchLenEncoder=this.createLenPriceTableEncoder(),this._posAlignEncoder=kt(4),this._optimum=[],this.createOptimumStructures(),this.createLiteralEncoder(),this.init()}configure(r){this.setDictionarySize(1<<r.searchDepth),this._numFastBytes=r.filterStrength,this._matchFinderType=r.modeIndex,this._numLiteralContextBits=3,this._numLiteralPosStateBits=0,this._posStateBits=2,this._posStateMask=3}setDictionarySize(r){this._dictionarySize=r;let i=0;for(;r>1<<i;++i);this._distTableSize=i*2}encodeBit(r,i,a){const c=this._rangeEncoder;let d,m=r[i];d=(c.rrange>>>11)*m,a?(c.low=yn(c.low,this.and64(wr(d),[4294967295,0])),c.rrange-=d,r[i]=m-(m>>>5)<<16>>16):(c.rrange=d,r[i]=m+(2048-m>>>5)<<16>>16),c.rrange&-16777216||(c.rrange<<=8,this.shiftLow())}encodeBitTree(r,i){let a,c,d=1;for(c=r.numBitLevels;c!=0;)c-=1,a=i>>>c&1,this.encodeBit(r.models,d,a),d=d<<1|a}encodeLiteral(r,i){let a,c=1;for(let d=7;d>=0;--d)a=i>>d&1,this.encodeBit(r.decoders,c,a),c=c<<1|a}encodeMatched(r,i,a){let c,d,m,p=!0,x=1;for(let S=7;S>=0;--S)c=a>>S&1,m=x,p&&(d=i>>S&1,m+=1+d<<8,p=d===c),this.encodeBit(r.decoders,m,c),x=x<<1|c}encodeLength(r,i,a){r.encode(i,a,this)}encodeDirectBits(r,i){const a=this._rangeEncoder;for(let c=i-1;c>=0;c-=1)a.rrange>>>=1,(r>>>c&1)==1&&(a.low=yn(a.low,wr(a.rrange))),a.rrange&-16777216||(a.rrange<<=8,this.shiftLow())}reverseEncode(r){const i=this._posAlignEncoder;if(!i)return;let a,c=1;for(let d=0;d<i.numBitLevels;++d)a=r&1,this.encodeBit(i.models,c,a),c=c<<1|a,r>>=1}reverseEncodeRange(r,i,a){let c,d=1;for(let m=0;m<i;++m)c=a&1,this.encodeBit(this._posEncoders,r+d,c),d=d<<1|c,a>>=1}writeEndMarker(r){this.encodeBit(this._isMatch,(this._state<<4)+r,1),this.encodeBit(this._isRep,this._state,0),this._state=this._state<7?7:10,this.encodeLength(this._lenEncoder,0,r);const i=63,a=fo(2);this.encodeBitTree(this._posSlotEncoder[a],i),this.encodeDirectBits(67108863,26),this.reverseEncode(15)}encodeLengthWithPriceUpdate(r,i,a){r.encodeWithUpdate(i,a,this)}and64(r,i){const a=~~Math.max(Math.min(r[1]/4294967296,2147483647),-2147483648)&~~Math.max(Math.min(i[1]/4294967296,2147483647),-2147483648),c=St(r)&St(i);let d=a*4294967296,m=c;return c<0&&(m+=4294967296),[m,d]}shru64(r,i){i&=63;let a=this.pwrAsDouble(i),c=Vi(Math.floor(r[0]/a),r[1]/a);return r[1]<0&&(c=yn(c,this.shl64([2,0],63-i))),c}shl64(r,i){let a,c,d,m;if(i&=63,r[0]==0&&r[1]==-9223372036854776e3)return i?[0,0]:r;if(r[1]<0)throw new Error("Neg");return m=this.pwrAsDouble(i),c=r[1]*m%18446744073709552e3,d=r[0]*m,a=d-d%4294967296,c+=a,d-=a,c>=9223372036854776e3&&(c-=18446744073709552e3),[d,c]}pwrAsDouble(r){return r<=30?1<<r:this.pwrAsDouble(30)*this.pwrAsDouble(r-30)}shiftLow(){const r=this._rangeEncoder,i=St(this.shru64(r.low,32));if(i!=0||Dn(r.low,[4278190080,0])<0){r.position=yn(r.position,wr(r.cacheSize));let a=r.cache;do this.writeToStream(r.stream,a+i),a=255;while((r.cacheSize-=1)!=0);r.cache=St(r.low)>>>24}r.cacheSize+=1,r.low=this.shl64(this.and64(r.low,[16777215,0]),8)}writeToStream(r,i){if(r){if(r.count>=r.buf.length){const a=Math.max(r.buf.length*2,r.count+1),c=new Array(a);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}}initRangeEncoder(){this._rangeEncoder.position=[0,0],this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=-1,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0}fillAlignPrices(){for(let r=0;r<16;++r)this._alignPrices[r]=this.reverseGetPrice(this._posAlignEncoder,r);this._alignPriceCount=0}fillDistancesPrices(){let r,i,a,c,d,m;for(let p=4;p<128;++p)c=this.getPosSlot(p),a=(c>>1)-1,r=(2|c&1)<<a,this.tempPrices[p]=this.reverseGetPriceArray(this._posEncoders,r-c-1,a,p-r);for(let p=0;p<4;++p){for(i=this._posSlotEncoder[p],d=p<<6,c=0;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]=this.rangeCoder_Encoder_GetPrice_1(i,c);for(c=14;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]+=(c>>1)-1-4<<6;m=p*128;for(let x=0;x<4;++x)this._distancesPrices[m+x]=this._posSlotPrices[d+x];for(let x=4;x<128;++x)this._distancesPrices[m+x]=this._posSlotPrices[d+this.getPosSlot(x)]+this.tempPrices[x]}this._matchPriceCount=0}getPosSlot(r){return r<2048?tr[r]:r<2097152?tr[r>>10]+20:tr[r>>20]+40}reverseGetPrice(r,i){let a,c=1,d=0;for(let m=r.numBitLevels;m!=0;m-=1)a=i&1,i>>>=1,d+=this.getPrice(r.models[c],a),c=c<<1|a;return d}reverseGetPriceArray(r,i,a,c){let d,m=1,p=0;for(let x=a;x!=0;x-=1)d=c&1,c>>>=1,p+=We[((r[i+m]-d^-d)&2047)>>>2],m=m<<1|d;return p}getPrice(r,i){return xn(r,i)}rangeCoder_Encoder_GetPrice_1(r,i){return ua(r,i)}createEncoderStructures(){this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};for(let r=0;r<4096;++r)this._optimum[r]={};this._posSlotEncoder=new Array(4);for(let r=0;r<4;++r)this._posSlotEncoder[r]=kt(6)}createMatchFinderAndStructures(){if(!this._matchFinder){const r={};let i=4;this._matchFinderType||(i=2),r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0),r._cyclicBufferSize=0,r._cyclicBufferPos=0,r._streamPos=0,r._cutValue=255,r._matchMaxLen=0,r._streamEndWasReached=0,r._pos=0,r._posLimit=0,r._son=[],r._hash=[],r._bufferBase=[],r._blockSize=0,r._keepSizeAfter=0,r._keepSizeBefore=0,r._pointerToLastSafePosition=0,this._matchFinder=r}this.createLiteralEncoder(),!(this._dictionarySize==this._dictionarySizePrev&&this._numFastBytesPrev==this._numFastBytes)&&(this._dictionarySizePrev=this._dictionarySize,this._numFastBytesPrev=this._numFastBytes)}getSubCoderUtility(r,i){const c=(r&this._literalEncoder.posMask)<<this._literalEncoder.numPrevBits,d=8-this._literalEncoder.numPrevBits,m=(i&255)>>>d,p=c+m;return this._literalEncoder.coders[p]}}class N0{constructor(r){L(this,"matchFinder");this.matchFinder=r}getIndexByte(r){return this.matchFinder._bufferBase[this.matchFinder._bufferOffset+this.matchFinder._pos+r]}getMatchLen(r,i,a){this.matchFinder._streamEndWasReached&&this.matchFinder._pos+r+a>this.matchFinder._streamPos&&(a=this.matchFinder._streamPos-(this.matchFinder._pos+r)),++i;let c;const d=this.matchFinder._bufferOffset+this.matchFinder._pos+r;for(c=0;c<a&&this.matchFinder._bufferBase[d+c]==this.matchFinder._bufferBase[d+c-i];++c);return c}getNumAvailableBytes(){return this.matchFinder._streamPos-this.matchFinder._pos}moveBlock(){let r=this.matchFinder._bufferOffset+this.matchFinder._pos-this.matchFinder._keepSizeBefore;r>0&&--r;const i=this.matchFinder._bufferOffset+this.matchFinder._streamPos-r;for(let a=0;a<i;++a)this.matchFinder._bufferBase[a]=this.matchFinder._bufferBase[r+a];this.matchFinder._bufferOffset-=r}movePos(){this.matchFinder._pos+=1,this.matchFinder._pos>this.matchFinder._posLimit&&(this.matchFinder._bufferOffset+this.matchFinder._pos>this.matchFinder._pointerToLastSafePosition&&this.moveBlock(),this.readBlock())}readBlock(){if(!this.matchFinder._streamEndWasReached)for(;;){const r=-this.matchFinder._bufferOffset+this.matchFinder._blockSize-this.matchFinder._streamPos;if(!r)return;const i=this.readFromStream(this.matchFinder._bufferOffset+this.matchFinder._streamPos,r);if(i==-1){this.matchFinder._posLimit=this.matchFinder._streamPos,this.matchFinder._bufferOffset+this.matchFinder._posLimit>this.matchFinder._pointerToLastSafePosition&&(this.matchFinder._posLimit=this.matchFinder._pointerToLastSafePosition-this.matchFinder._bufferOffset),this.matchFinder._streamEndWasReached=1;return}this.matchFinder._streamPos+=i,this.matchFinder._streamPos>=this.matchFinder._pos+this.matchFinder._keepSizeAfter&&(this.matchFinder._posLimit=this.matchFinder._streamPos-this.matchFinder._keepSizeAfter)}}reduceOffsets(r){this.matchFinder._bufferOffset+=r,this.matchFinder._posLimit-=r,this.matchFinder._pos-=r,this.matchFinder._streamPos-=r}readFromStream(r,i){const a=this.matchFinder._stream,c=this.matchFinder._bufferBase;if(a.pos>=a.count)return-1;let d;return a.buf instanceof Uint8Array?d=Array.from(a.buf):a.buf instanceof ArrayBuffer?d=Array.from(new Uint8Array(a.buf)):d=a.buf,i=Math.min(i,a.count-a.pos),Pd(d,a.pos,c,r,i),a.pos+=i,i}}function L0(u,r,i,a){return~~((u+r+i+a)/2)+256}function b0(u,r){const i=r+1;if(u._cyclicBufferSize!==i){const a=(u._cyclicBufferSize=i)*2;u._son=Pe(a)}}function I0(u,r){let i=65536,a=0;return r&&(i=u-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,i|=65535,i>16777216&&(i>>=1),a=i,i+=1),{hashMask:a,hashSizeSum:i}}function M0(u){return 16+(u>>1)}function j0(u){return u<Fd}const R0={1:{searchDepth:16,filterStrength:64,modeIndex:0},2:{searchDepth:20,filterStrength:64,modeIndex:0},3:{searchDepth:19,filterStrength:64,modeIndex:1},4:{searchDepth:20,filterStrength:64,modeIndex:1},5:{searchDepth:21,filterStrength:128,modeIndex:1},6:{searchDepth:22,filterStrength:128,modeIndex:1},7:{searchDepth:23,filterStrength:128,modeIndex:1},8:{searchDepth:24,filterStrength:255,modeIndex:1},9:{searchDepth:25,filterStrength:255,modeIndex:1}};var te,it,Me,D,ln,I,Ld,bd,ca,oo,Id,Md,jd,Rd,Od,Ud,zd,da,Hd,Wd,Gd,Vd,$d,Hi,ha,Yd,Qd,Kd,Xd,fa,Zd,Jd,qd,eh,lo,th,pa,yr,nh,ma,ao,ga,rh,vr,Wi,xa,ih,sh,oh,lh;class Nd{constructor(){gr(this,I);gr(this,te);gr(this,it);gr(this,Me,null);gr(this,D);gr(this,ln);Yr(this,te,new T0),Yr(this,it,new C0),Yr(this,D,Z(this,I,Ld).call(this)),Yr(this,ln,Z(this,I,bd).call(this))}writeHeaderProperties(){g(this,te).properties[0]=(g(this,te)._posStateBits*5+g(this,te)._numLiteralPosStateBits)*9+g(this,te)._numLiteralContextBits&255;for(let i=0;i<4;i++)g(this,te).properties[1+i]=g(this,te)._dictionarySize>>8*i&255;Z(this,I,Md).call(this,g(this,D).output,g(this,te).properties,0,5)}GetPosSlot2(r){return r<131072?tr[r>>6]+12:r<134217728?tr[r>>16]+32:tr[r>>26]+52}ReverseEncode(r,i,a){let c,d=1;for(let m=0;m<i;++m)c=a&1,g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._posEncoders,r+d,c),d=d<<1|c,a>>=1}encodeString(r){let i,a=[],c=0,d=r.length;Z(this,I,jd).call(this,r,0,d,a,0);for(let p=0;p<d;++p)i=a[p],i>=1&&i<=127?++c:!i||i>=128&&i<=2047?c+=2:c+=3;const m=[];c=0;for(let p=0;p<d;++p)i=a[p],i>=1&&i<=127?m[c++]=i<<24>>24:!i||i>=128&&i<=2047?(m[c++]=(192|i>>6&31)<<24>>24,m[c++]=(128|i&63)<<24>>24):(m[c++]=(224|i>>12&15)<<24>>24,m[c++]=(128|i>>6&63)<<24>>24,m[c++]=(128|i&63)<<24>>24);return m}compress(r,i=5){const a=R0[i];for(Z(this,I,Ud).call(this,r,a);g(this,D).chunker.processChunk(););const c=Z(this,I,oo).call(this,g(this,D).output);return new Int8Array(c)}compressString(r,i=5){const a=this.encodeString(r);return this.compress(new Uint8Array(a),i)}decompress(r){for(Z(this,I,da).call(this,r);g(this,ln).chunker.processChunk(););return Z(this,I,oo).call(this,g(this,ln).output)}decompressString(r){for(Z(this,I,da).call(this,r);g(this,ln).chunker.processChunk(););const i=Z(this,I,oo).call(this,g(this,ln).output),a=Z(this,I,lh).call(this,i);return typeof a=="string"?a:String.fromCharCode(...a)}codeOneBlock(){Z(this,I,Zd).call(this)}releaseStreams(){Z(this,I,rh).call(this)}}te=new WeakMap,it=new WeakMap,Me=new WeakMap,D=new WeakMap,ln=new WeakMap,I=new WeakSet,Ld=function(){return{chunker:new w0(this),output:{buf:Pe(32),count:0,write:()=>{}}}},bd=function(){return{chunker:new yd(g(this,it)),output:{buf:Pe(32),count:0,write:()=>{}}}},ca=function(r){if(r.pos>=r.count)return-1;let i;return r.buf instanceof ArrayBuffer?i=new Uint8Array(r.buf)[r.pos++]:(r.buf instanceof Uint8Array,i=r.buf[r.pos++]),i&255},oo=function(r){return r.buf.slice(0,r.count)},Id=function(r,i){if(r){if(r.count>=r.buf.length){const a=Math.max(r.buf.length*2,r.count+1),c=new Array(a);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}},Md=function(r,i,a,c){const d=r.count+c;if(d>r.buf.length){const m=Math.max(r.buf.length*2,d),p=new Array(m);for(let x=0;x<r.count;x++)p[x]=r.buf[x];r.buf=p}Pd(i,a,r.buf,r.count,c),r.count+=c},jd=function(r,i,a,c,d){for(let m=i;m<a;++m)c[d++]=r.charCodeAt(m)},Rd=function(r){g(this,te).initialize(),g(this,te).configure(r)},Od=function(r,i,a){if(Dn(i,oa)<0)throw new Error("invalid length "+i);g(this,D).length_0=i,Z(this,I,qd).call(this),Z(this,I,Rd).call(this,a),this.writeHeaderProperties();for(let c=0;c<64;c+=8)Z(this,I,Id).call(this,g(this,D).output,St(y0(i,c))&255);g(this,te)._needReleaseMFStream=0,g(this,te)._inStream=r,g(this,te)._finished=0,Z(this,I,Jd).call(this),g(this,te)._rangeEncoder.stream=g(this,D).output,g(this,te).init(),g(this,te).fillDistancesPrices(),g(this,te).fillAlignPrices(),g(this,te)._lenEncoder.setTableSize(g(this,te)._numFastBytes+1-2),g(this,te)._lenEncoder.updateTables(1<<g(this,te)._posStateBits),g(this,te)._repMatchLenEncoder.setTableSize(g(this,te)._numFastBytes+1-2),g(this,te)._repMatchLenEncoder.updateTables(1<<g(this,te)._posStateBits),g(this,te).nowPos64=Xr,g(this,D).chunker.encoder=g(this,te),g(this,D).chunker.alive=1},Ud=function(r,i){const a=r instanceof ArrayBuffer?r.byteLength:r.length,c=Math.max(32,Math.ceil(a*1.2));g(this,D).output={buf:Pe(c),count:0,write:()=>{}};const d={pos:0,buf:r instanceof ArrayBuffer?new Uint8Array(r):r,count:r instanceof ArrayBuffer?new Uint8Array(r).length:r.length};Z(this,I,Od).call(this,d,wr(r instanceof ArrayBuffer?r.byteLength:r.length),i)},zd=function(r){let i="",a=[],c,d;for(let p=0;p<5;++p){if(c=Z(this,I,ca).call(this,r),c==-1)throw new Error("truncated input");a[p]=c<<24>>24}if(g(this,it).setDecoderProperties(a)?0:1)throw new Error("corrupted input");for(let p=0;p<64;p+=8){if(c=Z(this,I,ca).call(this,r),c==-1)throw new Error("truncated input");c=c.toString(16),c.length==1&&(c="0"+c),i=c+""+i}/^0+$|^f+$/i.test(i)?g(this,D).length_0=oa:(d=parseInt(i,16),d>h0?g(this,D).length_0=oa:g(this,D).length_0=wr(d)),g(this,ln).chunker=Z(this,I,Kd).call(this,r,g(this,D).length_0)},da=function(r){const i=r instanceof ArrayBuffer?r.byteLength:r.length,a=32,c=i*2,d=Math.max(a,c);g(this,ln).output={buf:Pe(d),count:0,write:()=>{}};const m={buf:r,pos:0,count:r instanceof ArrayBuffer?r.byteLength:r.length};Z(this,I,zd).call(this,m)},Hd=function(r,i,a){let c;g(this,te)._matchFinder._keepSizeBefore=r,g(this,te)._matchFinder._keepSizeAfter=i,c=r+i+a,(g(this,te)._matchFinder._bufferBase==null||g(this,te)._matchFinder._blockSize!=c)&&(g(this,te)._matchFinder._bufferBase=Pe(c),g(this,te)._matchFinder._blockSize=c),g(this,te)._matchFinder._pointerToLastSafePosition=g(this,te)._matchFinder._blockSize-i},Wd=function(){const r=g(this,D).chunker.encoder._matchFinder;let i;r._pos+=1,r._pos>r._posLimit&&(i=r._bufferOffset+r._pos,i>r._pointerToLastSafePosition&&g(this,Me).moveBlock(),g(this,Me).readBlock())},Gd=function(r,i){const a=g(this,te)._dictionarySize,c=g(this,te)._numFastBytes;if(j0(a)){g(this,te)._matchFinder._cutValue=M0(c);const d=L0(a,r,c,i);Z(this,I,Hd).call(this,a+r,c+i,d),g(this,te)._matchFinder._matchMaxLen=c,b0(g(this,te)._matchFinder,a);const{hashMask:m,hashSizeSum:p}=I0(a,g(this,te)._matchFinder.HASH_ARRAY);if(g(this,te)._matchFinder.HASH_ARRAY){g(this,te)._matchFinder._hashMask=m;const x=p+g(this,te)._matchFinder.kFixHashSize;x!==g(this,te)._matchFinder._hashSizeSum&&(g(this,te)._matchFinder._hashSizeSum=x,g(this,te)._matchFinder._hash=Pe(x))}else p!==g(this,te)._matchFinder._hashSizeSum&&(g(this,te)._matchFinder._hashSizeSum=p,g(this,te)._matchFinder._hash=Pe(p))}},Vd=function(){let r,i,a,c,d,m,p,x,S,A,k,P,j,H,G,Y,ee,he,ke,le,Ee;const M=g(this,D).chunker.encoder._matchFinder,Te=g(this,D).chunker.encoder._matchDistances;if(M._pos+M._matchMaxLen<=M._streamPos)H=M._matchMaxLen;else if(H=M._streamPos-M._pos,H<M.kMinMatchCheck)return Z(this,I,Hi).call(this),0;for(ee=0,G=M._pos>M._cyclicBufferSize?M._pos-M._cyclicBufferSize:0,i=M._bufferOffset+M._pos,Y=1,x=0,S=0,M.HASH_ARRAY?(Ee=ro[M._bufferBase[i]&255]^M._bufferBase[i+1]&255,x=Ee&1023,Ee^=(M._bufferBase[i+2]&255)<<8,S=Ee&65535,A=(Ee^ro[M._bufferBase[i+3]&255]<<5)&M._hashMask):A=M._bufferBase[i]&255^(M._bufferBase[i+1]&255)<<8,a=M._hash[M.kFixHashSize+A]||0,M.HASH_ARRAY&&(c=M._hash[x]||0,d=M._hash[1024+S]||0,M._hash[x]=M._pos,M._hash[1024+S]=M._pos,c>G&&M._bufferBase[M._bufferOffset+c]==M._bufferBase[i]&&(Te[ee++]=Y=2,Te[ee++]=M._pos-c-1),d>G&&M._bufferBase[M._bufferOffset+d]==M._bufferBase[i]&&(d==c&&(ee-=2),Te[ee++]=Y=3,Te[ee++]=M._pos-d-1,c=d),ee!=0&&c==a&&(ee-=2,Y=1)),M._hash[M.kFixHashSize+A]=M._pos,ke=(M._cyclicBufferPos<<1)+1,le=M._cyclicBufferPos<<1,P=j=M.kNumHashDirectBytes,M.kNumHashDirectBytes!=0&&a>G&&M._bufferBase[M._bufferOffset+a+M.kNumHashDirectBytes]!=M._bufferBase[i+M.kNumHashDirectBytes]&&(Te[ee++]=Y=M.kNumHashDirectBytes,Te[ee++]=M._pos-a-1),r=M._cutValue;;){if(a<=G||r==0){r-=1,M._son[ke]=M._son[le]=0;break}if(p=M._pos-a,m=(p<=M._cyclicBufferPos?M._cyclicBufferPos-p:M._cyclicBufferPos-p+M._cyclicBufferSize)<<1,he=M._bufferOffset+a,k=P<j?P:j,M._bufferBase[he+k]==M._bufferBase[i+k]){for(;(k+=1)!=H&&M._bufferBase[he+k]==M._bufferBase[i+k];);if(Y<k&&(Te[ee++]=Y=k,Te[ee++]=p-1,k==H)){M._son[le]=M._son[m],M._son[ke]=M._son[m+1];break}}(M._bufferBase[he+k]&255)<(M._bufferBase[i+k]&255)?(M._son[le]=a,le=m+1,a=M._son[le],j=k):(M._son[ke]=a,ke=m,a=M._son[ke],P=k)}return Z(this,I,Hi).call(this),ee},$d=function(){g(this,D).chunker.encoder._matchFinder._bufferOffset=0,g(this,D).chunker.encoder._matchFinder._pos=0,g(this,D).chunker.encoder._matchFinder._streamPos=0,g(this,D).chunker.encoder._matchFinder._streamEndWasReached=0,g(this,Me).readBlock(),g(this,D).chunker.encoder._matchFinder._cyclicBufferPos=0,g(this,Me).reduceOffsets(-1)},Hi=function(){let r;const i=g(this,D).chunker.encoder._matchFinder;(i._cyclicBufferPos+=1)>=i._cyclicBufferSize&&(i._cyclicBufferPos=0),Z(this,I,Wd).call(this),i._pos==Fd&&(r=i._pos-i._cyclicBufferSize,Z(this,I,ha).call(this,i._cyclicBufferSize*2,r),Z(this,I,ha).call(this,i._hashSizeSum,r),g(this,Me).reduceOffsets(r))},ha=function(r,i){const a=g(this,D).chunker.encoder._matchFinder._son;for(let c=0,d;c<r;++c)d=a[c]||0,d<=i?d=0:d-=i,a[c]=d},Yd=function(r,i){r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0)},Qd=function(r){const i=g(this,D).chunker.encoder._matchFinder;let a,c,d,m,p,x,S,A,k,P,j,H,G,Y,ee,he,ke;do{if(i._pos+i._matchMaxLen<=i._streamPos)H=i._matchMaxLen;else if(H=i._streamPos-i._pos,H<i.kMinMatchCheck){Z(this,I,Hi).call(this);continue}for(G=i._pos>i._cyclicBufferSize?i._pos-i._cyclicBufferSize:0,c=i._bufferOffset+i._pos,i.HASH_ARRAY?(ke=ro[i._bufferBase[c]&255]^i._bufferBase[c+1]&255,x=ke&1023,i._hash[x]=i._pos,ke^=(i._bufferBase[c+2]&255)<<8,S=ke&65535,i._hash[1024+S]=i._pos,A=(ke^ro[i._bufferBase[c+3]&255]<<5)&i._hashMask):A=i._bufferBase[c]&255^(i._bufferBase[c+1]&255)<<8,d=i._hash[i.kFixHashSize+A],i._hash[i.kFixHashSize+A]=i._pos,ee=(i._cyclicBufferPos<<1)+1,he=i._cyclicBufferPos<<1,P=j=i.kNumHashDirectBytes,a=i._cutValue;;){if(d<=G||a==0){a-=1,i._son[ee]=i._son[he]=0;break}if(p=i._pos-d,m=(p<=i._cyclicBufferPos?i._cyclicBufferPos-p:i._cyclicBufferPos-p+i._cyclicBufferSize)<<1,Y=i._bufferOffset+d,k=P<j?P:j,i._bufferBase[Y+k]==i._bufferBase[c+k]){for(;(k+=1)!=H&&i._bufferBase[Y+k]==i._bufferBase[c+k];);if(k==H){i._son[he]=i._son[m],i._son[ee]=i._son[m+1];break}}(i._bufferBase[Y+k]&255)<(i._bufferBase[c+k]&255)?(i._son[he]=d,he=m+1,d=i._son[he],j=k):(i._son[ee]=d,ee=m,d=i._son[ee],P=k)}Z(this,I,Hi).call(this)}while((r-=1)!=0)},Kd=function(r,i){g(this,it).rangeDecoder.stream=r,g(this,it).flush(),g(this,it).outWindow.stream=null,g(this,it).outWindow.stream=g(this,ln).output,Z(this,I,Xd).call(this),g(this,it).state=0,g(this,it).rep0=0,g(this,it).rep1=0,g(this,it).rep2=0,g(this,it).rep3=0,g(this,it).outSize=i,g(this,it).nowPos64=Xr,g(this,it).prevByte=0;const a=new yd(g(this,it));return a.alive=1,a},Xd=function(){g(this,it).init()},fa=function(r){const i=g(this,D).chunker.encoder;let a,c,d,m;i._optimumEndIndex=r,d=i._optimum[r].posPrev,c=i._optimum[r].backPrev;do i._optimum[r].prev1IsChar&&(Z(this,I,xa).call(this,i._optimum[d]),i._optimum[d].posPrev=d-1,i._optimum[r].prev2&&(i._optimum[d-1].prev1IsChar=0,i._optimum[d-1].posPrev=i._optimum[r].posPrev2,i._optimum[d-1].backPrev=i._optimum[r].backPrev2)),m=d,a=c,c=i._optimum[m].backPrev,d=i._optimum[m].posPrev,i._optimum[m].backPrev=a,i._optimum[m].posPrev=r,r=m;while(r>0);return i.backRes=i._optimum[0].backPrev,i._optimumCurrentIndex=i._optimum[0].posPrev,i._optimumCurrentIndex},Zd=function(){let r,i,a,c,d,m,p,x,S,A,k,P,j,H;if(g(this,D).chunker.encoder.processedInSize[0]=Xr,g(this,D).chunker.encoder.processedOutSize[0]=Xr,g(this,D).chunker.encoder.finished[0]=1,j=g(this,D).chunker.encoder.nowPos64,g(this,D).chunker.encoder._inStream&&(g(this,D).chunker.encoder._matchFinder._stream=g(this,D).chunker.encoder._inStream,Z(this,I,$d).call(this),g(this,D).chunker.encoder._needReleaseMFStream=1,g(this,D).chunker.encoder._inStream=null),!g(this,D).chunker.encoder._finished){if(g(this,D).chunker.encoder._finished=1,Dn(g(this,D).chunker.encoder.nowPos64,Xr)===0){if(!g(this,Me).getNumAvailableBytes()){Z(this,I,lo).call(this,St(g(this,D).chunker.encoder.nowPos64));return}Z(this,I,ao).call(this),P=St(g(this,D).chunker.encoder.nowPos64)&g(this,D).chunker.encoder._posStateMask,g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isMatch,(g(this,D).chunker.encoder._state<<4)+P,0),g(this,D).chunker.encoder._state=er(g(this,D).chunker.encoder._state),a=g(this,Me).getIndexByte(-g(this,D).chunker.encoder._additionalOffset),g(this,D).chunker.encoder.encodeLiteral(Z(this,I,vr).call(this,St(g(this,D).chunker.encoder.nowPos64),g(this,D).chunker.encoder._previousByte),a),g(this,D).chunker.encoder._previousByte=a,g(this,D).chunker.encoder._additionalOffset-=1,g(this,D).chunker.encoder.nowPos64=yn(g(this,D).chunker.encoder.nowPos64,x0)}if(!g(this,Me).getNumAvailableBytes()){Z(this,I,lo).call(this,St(g(this,D).chunker.encoder.nowPos64));return}for(;;){if(m=Z(this,I,th).call(this,St(g(this,D).chunker.encoder.nowPos64)),S=g(this,D).chunker.encoder.backRes,P=St(g(this,D).chunker.encoder.nowPos64)&g(this,D).chunker.encoder._posStateMask,i=(g(this,D).chunker.encoder._state<<4)+P,m==1&&S==-1)g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isMatch,i,0),a=g(this,Me).getIndexByte(-g(this,D).chunker.encoder._additionalOffset),H=Z(this,I,vr).call(this,St(g(this,D).chunker.encoder.nowPos64),g(this,D).chunker.encoder._previousByte),g(this,D).chunker.encoder._state<7?g(this,D).chunker.encoder.encodeLiteral(H,a):(x=g(this,Me).getIndexByte(-g(this,D).chunker.encoder._repDistances[0]-1-g(this,D).chunker.encoder._additionalOffset),g(this,D).chunker.encoder.encodeMatched(H,x,a)),g(this,D).chunker.encoder._previousByte=a,g(this,D).chunker.encoder._state=er(g(this,D).chunker.encoder._state);else{if(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isMatch,i,1),S<4){if(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep,g(this,D).chunker.encoder._state,1),S?(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG0,g(this,D).chunker.encoder._state,1),S==1?g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG1,g(this,D).chunker.encoder._state,0):(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG1,g(this,D).chunker.encoder._state,1),g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG2,g(this,D).chunker.encoder._state,S-2))):(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG0,g(this,D).chunker.encoder._state,0),m==1?g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep0Long,i,0):g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep0Long,i,1)),m==1?g(this,D).chunker.encoder._state=g(this,D).chunker.encoder._state<7?9:11:(g(this,D).chunker.encoder.encodeLength(g(this,D).chunker.encoder._repMatchLenEncoder,m-2,P),g(this,D).chunker.encoder._state=g(this,D).chunker.encoder._state<7?8:11),c=g(this,D).chunker.encoder._repDistances[S],S!=0){const G=g(this,D).chunker.encoder;for(let Y=S;Y>=1;--Y)G._repDistances[Y]=G._repDistances[Y-1];G._repDistances[0]=c}}else{g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep,g(this,D).chunker.encoder._state,0),g(this,D).chunker.encoder._state=g(this,D).chunker.encoder._state<7?7:10,g(this,D).chunker.encoder.encodeLength(g(this,D).chunker.encoder._lenEncoder,m-2,P),S-=4,k=g(this,D).chunker.encoder.getPosSlot(S),p=fo(m),g(this,D).chunker.encoder.encodeBitTree(g(this,D).chunker.encoder._posSlotEncoder[p],k),k>=4&&(d=(k>>1)-1,r=(2|k&1)<<d,A=S-r,k<14?g(this,D).chunker.encoder.reverseEncodeRange(r-k-1,d,A):(g(this,D).chunker.encoder.encodeDirectBits(A>>4,d-4),g(this,D).chunker.encoder.reverseEncode(A&15),g(this,D).chunker.encoder._alignPriceCount+=1)),c=S;const G=g(this,D).chunker.encoder;for(let Y=3;Y>=1;--Y)G._repDistances[Y]=G._repDistances[Y-1];G._repDistances[0]=c,G._matchPriceCount+=1}g(this,D).chunker.encoder._previousByte=g(this,Me).getIndexByte(m-1-g(this,D).chunker.encoder._additionalOffset)}if(g(this,D).chunker.encoder._additionalOffset-=m,g(this,D).chunker.encoder.nowPos64=yn(g(this,D).chunker.encoder.nowPos64,wr(m)),!g(this,D).chunker.encoder._additionalOffset){if(g(this,D).chunker.encoder._matchPriceCount>=128&&g(this,D).chunker.encoder.fillDistancesPrices(),g(this,D).chunker.encoder._alignPriceCount>=16&&Z(this,I,eh).call(this,g(this,D).chunker.encoder),g(this,D).chunker.encoder.processedInSize[0]=g(this,D).chunker.encoder.nowPos64,g(this,D).chunker.encoder.processedOutSize[0]=Z(this,I,oh).call(this),!g(this,Me).getNumAvailableBytes()){Z(this,I,lo).call(this,St(g(this,D).chunker.encoder.nowPos64));return}if(Dn(Td(g(this,D).chunker.encoder.nowPos64,j),[4096,0])>=0){g(this,D).chunker.encoder._finished=0,g(this,D).chunker.encoder.finished[0]=0;return}}}}},Jd=function(){let r,i;g(this,te)._matchFinder||(r={},i=4,g(this,te)._matchFinderType||(i=2),Z(this,I,Yd).call(this,r,i),g(this,te)._matchFinder=r,Yr(this,Me,new N0(r))),g(this,te).createLiteralEncoder(),!(g(this,te)._dictionarySize==g(this,te)._dictionarySizePrev&&g(this,te)._numFastBytesPrev==g(this,te)._numFastBytes)&&(Z(this,I,Gd).call(this,4096,274),g(this,te)._dictionarySizePrev=g(this,te)._dictionarySize,g(this,te)._numFastBytesPrev=g(this,te)._numFastBytes)},qd=function(){for(let r=0;r<4096;++r)g(this,te)._optimum[r]={};for(let r=0;r<4;++r)g(this,te)._posSlotEncoder[r]=kt(6)},eh=function(r){for(let i=0;i<16;++i)r._alignPrices[i]=Z(this,I,sh).call(this,r._posAlignEncoder,i);r._alignPriceCount=0},lo=function(r){Z(this,I,ga).call(this),g(this,D).chunker.encoder.writeEndMarker(r&g(this,D).chunker.encoder._posStateMask);for(let i=0;i<5;++i)g(this,D).chunker.encoder.shiftLow()},th=function(r){let i,a,c,d,m,p,x,S,A,k,P,j,H,G,Y,ee,he,ke,le,Ee,M,Te,X,Ne,we,_e,ye,Ce,N,fe,ve,re,O,ie,$,C,b,de,pe,Be,K,Se,Le,_,Je,Ot,un,Kt,Nt;const E=g(this,D).chunker.encoder;if(E._optimumEndIndex!=E._optimumCurrentIndex)return Nt=E._optimum[E._optimumCurrentIndex].posPrev-E._optimumCurrentIndex,E.backRes=E._optimum[E._optimumCurrentIndex].backPrev,E._optimumCurrentIndex=E._optimum[E._optimumCurrentIndex].posPrev,Nt;if(E._optimumCurrentIndex=E._optimumEndIndex=0,E._longestMatchWasFound?(P=E._longestMatchLength,E._longestMatchWasFound=0):P=Z(this,I,ao).call(this),we=E._numDistancePairs,X=g(this,Me).getNumAvailableBytes()+1,X<2)return E.backRes=-1,1;X>273&&(X=273),de=0;for(let st=0;st<4;++st)E.reps[st]=E._repDistances[st],E.repLens[st]=g(this,Me).getMatchLen(-1,E.reps[st],273),E.repLens[st]>E.repLens[de]&&(de=st);if(E.repLens[de]>=E._numFastBytes)return E.backRes=de,Nt=E.repLens[de],Z(this,I,ma).call(this,Nt-1),Nt;if(P>=E._numFastBytes)return E.backRes=g(this,D).chunker.encoder._matchDistances[we-1]+4,Z(this,I,ma).call(this,P-1),P;if(x=g(this,Me).getIndexByte(-1),Y=g(this,Me).getIndexByte(-E._repDistances[0]-1-1),P<2&&x!=Y&&E.repLens[de]<2)return E.backRes=-1,1;if(E._optimum[0].state=E._state,re=r&E._posStateMask,E._optimum[1].price=We[E._isMatch[(E._state<<4)+re]>>>2]+Z(this,I,Wi).call(this,Z(this,I,vr).call(this,r,E._previousByte),E._state>=7,Y,x),Z(this,I,xa).call(this,E._optimum[1]),ee=We[2048-E._isMatch[(E._state<<4)+re]>>>2],b=ee+We[2048-E._isRep[E._state]>>>2],Y==x&&(pe=b+Z(this,I,nh).call(this,re),pe<E._optimum[1].price&&(E._optimum[1].price=pe,Z(this,I,ih).call(this,E._optimum[1]))),k=P>=E.repLens[de]?P:E.repLens[de],k<2)return E.backRes=E._optimum[1].backPrev,1;E._optimum[1].posPrev=0,E._optimum[0].backs0=E.reps[0],E._optimum[0].backs1=E.reps[1],E._optimum[0].backs2=E.reps[2],E._optimum[0].backs3=E.reps[3],A=k;do E._optimum[A].price=Qr,A-=1;while(A>=2);for(let st=0;st<4;++st)if(C=E.repLens[st],!(C<2)){ie=b+Z(this,I,yr).call(this,st,E._state,re);do d=ie+E._repMatchLenEncoder.getPrice(C-2,re),N=E._optimum[C],d<N.price&&(N.price=d,N.posPrev=0,N.backPrev=st,N.prev1IsChar=0);while((C-=1)>=2)}if(Te=ee+We[E._isRep[E._state]>>>2],A=E.repLens[0]>=2?E.repLens[0]+1:2,A<=P){for(_e=0;A>E._matchDistances[_e];)_e+=2;for(;S=E._matchDistances[_e+1],d=Te+Z(this,I,pa).call(this,S,A,re),N=E._optimum[A],d<N.price&&(N.price=d,N.posPrev=0,N.backPrev=S+4,N.prev1IsChar=0),!(A==E._matchDistances[_e]&&(_e+=2,_e==we));A+=1);}for(i=0;;){if(++i,i==k)return Z(this,I,fa).call(this,i);if(he=Z(this,I,ao).call(this),we=E._numDistancePairs,he>=E._numFastBytes)return E._longestMatchLength=he,E._longestMatchWasFound=1,Z(this,I,fa).call(this,i);if(r+=1,ve=E._optimum[i].posPrev,E._optimum[i].prev1IsChar?(ve-=1,E._optimum[i].prev2?(K=E._optimum[E._optimum[i].posPrev2].state,E._optimum[i].backPrev2<4?K=K<7?8:11:K=K<7?7:10):K=E._optimum[ve].state,K=er(K)):K=E._optimum[ve].state,ve==i-1?E._optimum[i].backPrev?K=er(K):K=K<7?9:11:(E._optimum[i].prev1IsChar&&E._optimum[i].prev2?(ve=E._optimum[i].posPrev2,fe=E._optimum[i].backPrev2,K=K<7?8:11):(fe=E._optimum[i].backPrev,fe<4?K=K<7?8:11:K=K<7?7:10),Ce=E._optimum[ve],fe<4?fe?fe==1?(E.reps[0]=Ce.backs1,E.reps[1]=Ce.backs0,E.reps[2]=Ce.backs2,E.reps[3]=Ce.backs3):fe==2?(E.reps[0]=Ce.backs2,E.reps[1]=Ce.backs0,E.reps[2]=Ce.backs1,E.reps[3]=Ce.backs3):(E.reps[0]=Ce.backs3,E.reps[1]=Ce.backs0,E.reps[2]=Ce.backs1,E.reps[3]=Ce.backs2):(E.reps[0]=Ce.backs0,E.reps[1]=Ce.backs1,E.reps[2]=Ce.backs2,E.reps[3]=Ce.backs3):(E.reps[0]=fe-4,E.reps[1]=Ce.backs0,E.reps[2]=Ce.backs1,E.reps[3]=Ce.backs2)),E._optimum[i].state=K,E._optimum[i].backs0=E.reps[0],E._optimum[i].backs1=E.reps[1],E._optimum[i].backs2=E.reps[2],E._optimum[i].backs3=E.reps[3],p=E._optimum[i].price,x=g(this,Me).getIndexByte(-1),Y=g(this,Me).getIndexByte(-E.reps[0]-1-1),re=r&E._posStateMask,a=p+We[E._isMatch[(K<<4)+re]>>>2]+Z(this,I,Wi).call(this,Z(this,I,vr).call(this,r,g(this,Me).getIndexByte(-2)),K>=7,Y,x),Ee=E._optimum[i+1],ke=0,a<Ee.price&&(Ee.price=a,Ee.posPrev=i,Ee.backPrev=-1,Ee.prev1IsChar=0,ke=1),ee=p+We[2048-E._isMatch[(K<<4)+re]>>>2],b=ee+We[2048-E._isRep[K]>>>2],Y==x&&!(Ee.posPrev<i&&!Ee.backPrev)&&(pe=b+(We[E._isRepG0[K]>>>2]+We[E._isRep0Long[(K<<4)+re]>>>2]),pe<=Ee.price&&(Ee.price=pe,Ee.posPrev=i,Ee.backPrev=0,Ee.prev1IsChar=0,ke=1)),Ne=g(this,Me).getNumAvailableBytes()+1,Ne=4095-i<Ne?4095-i:Ne,X=Ne,!(X<2)){if(X>E._numFastBytes&&(X=E._numFastBytes),!ke&&Y!=x&&(Le=Math.min(Ne-1,E._numFastBytes),H=g(this,Me).getMatchLen(0,E.reps[0],Le),H>=2)){for(Se=er(K),O=r+1&E._posStateMask,M=a+We[2048-E._isMatch[(Se<<4)+O]>>>2]+We[2048-E._isRep[Se]>>>2],ye=i+1+H;k<ye;)E._optimum[k+=1].price=Qr;d=M+(_=E._repMatchLenEncoder.getPrice(H-2,O),_+Z(this,I,yr).call(this,0,Se,O)),N=E._optimum[ye],d<N.price&&(N.price=d,N.posPrev=i+1,N.backPrev=0,N.prev1IsChar=1,N.prev2=0)}for(Be=2,$=0;$<4;++$)if(j=g(this,Me).getMatchLen(-1,E.reps[$],X),!(j<2)){G=j;do{for(;k<i+j;)E._optimum[k+=1].price=Qr;d=b+(Je=E._repMatchLenEncoder.getPrice(j-2,re),Je+Z(this,I,yr).call(this,$,K,re)),N=E._optimum[i+j],d<N.price&&(N.price=d,N.posPrev=i,N.backPrev=$,N.prev1IsChar=0)}while((j-=1)>=2);if(j=G,$||(Be=j+1),j<Ne&&(Le=Math.min(Ne-1-j,E._numFastBytes),H=g(this,Me).getMatchLen(j,E.reps[$],Le),H>=2)){for(Se=K<7?8:11,O=r+j&E._posStateMask,c=b+(Ot=E._repMatchLenEncoder.getPrice(j-2,re),Ot+Z(this,I,yr).call(this,$,K,re))+We[E._isMatch[(Se<<4)+O]>>>2]+Z(this,I,Wi).call(this,Z(this,I,vr).call(this,r+j,g(this,Me).getIndexByte(j-1-1)),!0,g(this,Me).getIndexByte(j-1-(E.reps[$]+1)),g(this,Me).getIndexByte(j-1)),Se=er(Se),O=r+j+1&E._posStateMask,le=c+We[2048-E._isMatch[(Se<<4)+O]>>>2],M=le+We[2048-E._isRep[Se]>>>2],ye=j+1+H;k<i+ye;)E._optimum[k+=1].price=Qr;d=M+(un=E._repMatchLenEncoder.getPrice(H-2,O),un+Z(this,I,yr).call(this,0,Se,O)),N=E._optimum[i+ye],d<N.price&&(N.price=d,N.posPrev=i+j+1,N.backPrev=0,N.prev1IsChar=1,N.prev2=1,N.posPrev2=i,N.backPrev2=$)}}if(he>X){for(he=X,we=0;he>E._matchDistances[we];we+=2);E._matchDistances[we]=he,we+=2}if(he>=Be){for(Te=ee+We[E._isRep[K]>>>2];k<i+he;)E._optimum[k+=1].price=Qr;for(_e=0;Be>E._matchDistances[_e];)_e+=2;for(j=Be;;j+=1)if(m=E._matchDistances[_e+1],d=Te+Z(this,I,pa).call(this,m,j,re),N=E._optimum[i+j],d<N.price&&(N.price=d,N.posPrev=i,N.backPrev=m+4,N.prev1IsChar=0),j==E._matchDistances[_e]){if(j<Ne&&(Le=Math.min(Ne-1-j,E._numFastBytes),H=g(this,Me).getMatchLen(j,m,Le),H>=2)){for(Se=K<7?7:10,O=r+j&E._posStateMask,c=d+We[E._isMatch[(Se<<4)+O]>>>2]+Z(this,I,Wi).call(this,Z(this,I,vr).call(this,r+j,g(this,Me).getIndexByte(j-1-1)),!0,g(this,Me).getIndexByte(j-(m+1)-1),g(this,Me).getIndexByte(j-1)),Se=er(Se),O=r+j+1&E._posStateMask,le=c+We[2048-E._isMatch[(Se<<4)+O]>>>2],M=le+We[2048-E._isRep[Se]>>>2],ye=j+1+H;k<i+ye;)E._optimum[k+=1].price=Qr;d=M+(Kt=E._repMatchLenEncoder.getPrice(H-2,O),Kt+Z(this,I,yr).call(this,0,Se,O)),N=E._optimum[i+ye],d<N.price&&(N.price=d,N.posPrev=i+j+1,N.backPrev=0,N.prev1IsChar=1,N.prev2=1,N.posPrev2=i,N.backPrev2=m+4)}if(_e+=2,_e==we)break}}}}return 1},pa=function(r,i,a){const c=g(this,D).chunker.encoder;let d,m=fo(i);if(r<128)d=c._distancesPrices[m*128+r];else{const p=(m<<6)+this.GetPosSlot2(r);d=c._posSlotPrices[p]+c._alignPrices[r&15]}return d+c._lenEncoder.getPrice(i-2,a)},yr=function(r,i,a){const c=g(this,D).chunker.encoder;let d;return r?(d=We[2048-g(this,D).chunker.encoder._isRepG0[i]>>>2],r==1?d+=We[g(this,D).chunker.encoder._isRepG1[i]>>>2]:(d+=We[2048-g(this,D).chunker.encoder._isRepG1[i]>>>2],d+=xn(g(this,D).chunker.encoder._isRepG2[i],r-2))):(d=We[c._isRepG0[i]>>>2],d+=We[2048-g(this,D).chunker.encoder._isRep0Long[(i<<4)+a]>>>2]),d},nh=function(r){const i=g(this,D).chunker.encoder,a=We[i._isRepG0[i._state]>>>2],c=We[i._isRep0Long[(i._state<<4)+r]>>>2];return a+c},ma=function(r){r>0&&(Z(this,I,Qd).call(this,r),g(this,D).chunker.encoder._additionalOffset+=r)},ao=function(){let r=0;const i=g(this,D).chunker.encoder;return i._numDistancePairs=Z(this,I,Vd).call(this),i._numDistancePairs>0&&(r=i._matchDistances[i._numDistancePairs-2],r==i._numFastBytes&&(r+=g(this,Me).getMatchLen(r-1,i._matchDistances[i._numDistancePairs-1],273-r))),i._additionalOffset+=1,r},ga=function(){const r=g(this,D).chunker.encoder;r._matchFinder&&r._needReleaseMFStream&&(r._matchFinder._stream=null,r._needReleaseMFStream=0)},rh=function(){Z(this,I,ga).call(this),g(this,D).chunker.encoder._rangeEncoder.stream=null},vr=function(r,i){return{decoders:g(this,D).chunker.encoder._literalEncoder.getSubCoder(r,i).decoders}},Wi=function(r,i,a,c){let d,m=1,p=7,x,S=0;if(i){for(;p>=0;--p)if(x=a>>p&1,d=c>>p&1,S+=xn(r.decoders[(1+x<<8)+m],d),m=m<<1|d,x!=d){--p;break}}for(;p>=0;--p)d=c>>p&1,S+=xn(r.decoders[m],d),m=m<<1|d;return S},xa=function(r){r.backPrev=-1,r.prev1IsChar=0},ih=function(r){r.backPrev=0,r.prev1IsChar=0},sh=function(r,i){let a,c=1,d=0;for(let m=r.numBitLevels;m!=0;m-=1)a=i&1,i>>>=1,d+=xn(r.models[c],a),c=c<<1|a;return d},oh=function(){const r=yn(wr(g(this,D).chunker.encoder._rangeEncoder.cacheSize),g(this,D).chunker.encoder._rangeEncoder.position);return yn(r,[4,0])},lh=function(r){let i=0,a,c,d,m=r.length,p=[],x=[];for(let S=0;S<m;++S,++i){if(a=r[S]&255,a&128)if((a&224)==192){if(S+1>=m)return String.fromCharCode(...r);if(c=r[++S]&255,(c&192)!=128)return String.fromCharCode(...r);x[i]=(a&31)<<6|c&63}else if((a&240)==224){if(S+2>=m||(c=r[++S]&255,(c&192)!=128)||(d=r[++S]&255,(d&192)!=128))return r;x[i]=(a&15)<<12|(c&63)<<6|d&63}else return r;else{if(!a)return r;x[i]=a}i==16383&&(p.push(String.fromCharCode.apply(String,x)),i=-1)}return i>0&&(x.length=i,p.push(String.fromCharCode.apply(String,x))),p.join("")};/**
 * @license
 * Copyright Filip Seman
 * SPDX-License-Identifier: MIT
 */function O0(u,r=5){const i=u instanceof ArrayBuffer?new Uint8Array(u):u,a=new Nd().compress(i,r);return new Uint8Array(a)}function U0(u){const r=u instanceof ArrayBuffer?new Uint8Array(u):u,i=new Nd().decompress(r);return new Uint8Array(i)}const z0=300,ah=255,po=4096,H0={item:1,outfit:2,effect:3,distance:4},W0={1:"item",2:"outfit",3:"effect",4:"distance"},Q={GROUND:0,GROUND_BORDER:1,ON_BOTTOM:2,ON_TOP:3,CONTAINER:4,STACKABLE:5,FORCE_USE:6,MULTI_USE:7,WRITABLE:8,WRITABLE_ONCE:9,FLUID_CONTAINER:10,FLUID:11,UNPASSABLE:12,UNMOVEABLE:13,BLOCK_MISSILE:14,BLOCK_PATHFIND:15,NO_MOVE_ANIMATION:16,PICKUPABLE:17,HANGABLE:18,HOOK_SOUTH:19,HOOK_EAST:20,ROTATABLE:21,HAS_LIGHT:22,DONT_HIDE:23,TRANSLUCENT:24,HAS_OFFSET:25,HAS_ELEVATION:26,LYING_OBJECT:27,ANIMATE_ALWAYS:28,MINI_MAP:29,LENS_HELP:30,FULL_GROUND:31,IGNORE_LOOK:32,CLOTH:33,MARKET_ITEM:34,DEFAULT_ACTION:35,WRAPPABLE:36,UNWRAPPABLE:37,TOP_EFFECT:38,HAS_CHARGES:252,FLOOR_CHANGE:253,USABLE:254};function G0(u){const r=new Uint8Array(u.length);for(let i=0;i<u.length;i+=4)r[i]=u[i+3],r[i+1]=u[i],r[i+2]=u[i+1],r[i+3]=u[i+2];return r}function V0(u){const r=new Uint8ClampedArray(u.length);for(let i=0;i<u.length;i+=4)r[i]=u[i+1],r[i+1]=u[i+2],r[i+2]=u[i+3],r[i+3]=u[i];return r}class $0{constructor(r=65536){L(this,"buf");L(this,"view");L(this,"pos",0);this.buf=new Uint8Array(r),this.view=new DataView(this.buf.buffer)}grow(r){for(;this.pos+r>this.buf.length;){const i=new Uint8Array(this.buf.length*2);i.set(this.buf),this.buf=i,this.view=new DataView(this.buf.buffer)}}u8(r){this.grow(1),this.view.setUint8(this.pos,r),this.pos+=1}u16(r){this.grow(2),this.view.setUint16(this.pos,r,!0),this.pos+=2}i16(r){this.grow(2),this.view.setInt16(this.pos,r,!0),this.pos+=2}u32(r){this.grow(4),this.view.setUint32(this.pos,r,!0),this.pos+=4}i32(r){this.grow(4),this.view.setInt32(this.pos,r,!0),this.pos+=4}bytes(r){this.grow(r.length),this.buf.set(r,this.pos),this.pos+=r.length}result(){return this.buf.slice(0,this.pos)}patchU32(r,i){this.view.setUint32(r,i,!0)}}class Y0{constructor(r){L(this,"view");L(this,"pos",0);this.data=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength)}u8(){const r=this.view.getUint8(this.pos);return this.pos+=1,r}u16(){const r=this.view.getUint16(this.pos,!0);return this.pos+=2,r}i16(){const r=this.view.getInt16(this.pos,!0);return this.pos+=2,r}u32(){const r=this.view.getUint32(this.pos,!0);return this.pos+=4,r}i32(){const r=this.view.getInt32(this.pos,!0);return this.pos+=4,r}bytes(r){const i=this.data.slice(this.pos,this.pos+r);return this.pos+=r,i}str(r){return new TextDecoder("latin1").decode(this.bytes(r))}}function Q0(u,r){if(r.ground?(u.u8(Q.GROUND),u.u16(r.groundSpeed??0)):r.groundBorder?u.u8(Q.GROUND_BORDER):r.onBottom?u.u8(Q.ON_BOTTOM):r.onTop&&u.u8(Q.ON_TOP),r.container&&u.u8(Q.CONTAINER),r.stackable&&u.u8(Q.STACKABLE),r.forceUse&&u.u8(Q.FORCE_USE),r.multiUse&&u.u8(Q.MULTI_USE),r.writable&&(u.u8(Q.WRITABLE),u.u16(r.writableMaxLen??0)),r.writableOnce&&(u.u8(Q.WRITABLE_ONCE),u.u16(r.writableOnceMaxLen??0)),r.fluidContainer&&u.u8(Q.FLUID_CONTAINER),r.splash&&u.u8(Q.FLUID),r.notWalkable&&u.u8(Q.UNPASSABLE),r.notMoveable&&u.u8(Q.UNMOVEABLE),r.blockProjectile&&u.u8(Q.BLOCK_MISSILE),r.notPathable&&u.u8(Q.BLOCK_PATHFIND),r.noMoveAnimation&&u.u8(Q.NO_MOVE_ANIMATION),r.pickupable&&u.u8(Q.PICKUPABLE),r.hangable&&u.u8(Q.HANGABLE),r.hookSouth&&u.u8(Q.HOOK_SOUTH),r.hookEast&&u.u8(Q.HOOK_EAST),r.rotateable&&u.u8(Q.ROTATABLE),r.hasLight&&(u.u8(Q.HAS_LIGHT),u.u16(r.lightLevel??0),u.u16(r.lightColor??0)),r.dontHide&&u.u8(Q.DONT_HIDE),r.translucent&&u.u8(Q.TRANSLUCENT),r.hasDisplacement&&(u.u8(Q.HAS_OFFSET),u.i16(r.displacementX??0),u.i16(r.displacementY??0)),r.hasElevation&&(u.u8(Q.HAS_ELEVATION),u.u16(r.elevation??0)),r.lyingCorpse&&u.u8(Q.LYING_OBJECT),r.animateAlways&&u.u8(Q.ANIMATE_ALWAYS),r.hasMinimapColor&&(u.u8(Q.MINI_MAP),u.u16(r.minimapColor??0)),r.lensHelp!=null&&(u.u8(Q.LENS_HELP),u.u16(r.lensHelp)),r.fullGround&&u.u8(Q.FULL_GROUND),r.look&&u.u8(Q.IGNORE_LOOK),r.cloth&&(u.u8(Q.CLOTH),u.u16(r.clothSlot??0)),r.hasMarket){u.u8(Q.MARKET_ITEM),u.u16(r.marketCategory??0),u.u16(r.marketTradeAs??0),u.u16(r.marketShowAs??0);const i=r.marketName??"";u.u16(i.length);for(let a=0;a<i.length;a++)u.u8(i.charCodeAt(a)&255);u.u16(r.marketRestrictVocation??0),u.u16(r.marketRequiredLevel??0)}r.usable&&(u.u8(Q.DEFAULT_ACTION),u.u16(r.usableActionId??0)),r.wrapable&&u.u8(Q.WRAPPABLE),r.unwrapable&&u.u8(Q.UNWRAPPABLE),r.topEffect&&u.u8(Q.TOP_EFFECT),r.chargeable&&u.u8(Q.HAS_CHARGES),u.u8(ah)}function K0(u){const r={ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1};for(;;){const i=u.u8();if(i===ah)break;switch(i){case Q.GROUND:r.ground=!0,r.groundSpeed=u.u16();break;case Q.GROUND_BORDER:r.groundBorder=!0;break;case Q.ON_BOTTOM:r.onBottom=!0;break;case Q.ON_TOP:r.onTop=!0;break;case Q.CONTAINER:r.container=!0;break;case Q.STACKABLE:r.stackable=!0;break;case Q.FORCE_USE:r.forceUse=!0;break;case Q.MULTI_USE:r.multiUse=!0;break;case Q.WRITABLE:r.writable=!0,r.writableMaxLen=u.u16();break;case Q.WRITABLE_ONCE:r.writableOnce=!0,r.writableOnceMaxLen=u.u16();break;case Q.FLUID_CONTAINER:r.fluidContainer=!0;break;case Q.FLUID:r.splash=!0;break;case Q.UNPASSABLE:r.notWalkable=!0;break;case Q.UNMOVEABLE:r.notMoveable=!0;break;case Q.BLOCK_MISSILE:r.blockProjectile=!0;break;case Q.BLOCK_PATHFIND:r.notPathable=!0;break;case Q.NO_MOVE_ANIMATION:r.noMoveAnimation=!0;break;case Q.PICKUPABLE:r.pickupable=!0;break;case Q.HANGABLE:r.hangable=!0;break;case Q.HOOK_SOUTH:r.hookSouth=!0;break;case Q.HOOK_EAST:r.hookEast=!0;break;case Q.ROTATABLE:r.rotateable=!0;break;case Q.HAS_LIGHT:r.hasLight=!0,r.lightLevel=u.u16(),r.lightColor=u.u16();break;case Q.DONT_HIDE:r.dontHide=!0;break;case Q.TRANSLUCENT:r.translucent=!0;break;case Q.HAS_OFFSET:r.hasDisplacement=!0,r.displacementX=u.i16(),r.displacementY=u.i16();break;case Q.HAS_ELEVATION:r.hasElevation=!0,r.elevation=u.u16();break;case Q.LYING_OBJECT:r.lyingCorpse=!0;break;case Q.ANIMATE_ALWAYS:r.animateAlways=!0;break;case Q.MINI_MAP:r.hasMinimapColor=!0,r.minimapColor=u.u16();break;case Q.LENS_HELP:r.lensHelp=u.u16();break;case Q.FULL_GROUND:r.fullGround=!0;break;case Q.IGNORE_LOOK:r.look=!0;break;case Q.CLOTH:r.cloth=!0,r.clothSlot=u.u16();break;case Q.MARKET_ITEM:{r.hasMarket=!0,r.marketCategory=u.u16(),r.marketTradeAs=u.u16(),r.marketShowAs=u.u16();const a=u.u16();r.marketName=u.str(a),r.marketRestrictVocation=u.u16(),r.marketRequiredLevel=u.u16();break}case Q.DEFAULT_ACTION:r.usable=!0,r.usableActionId=u.u16();break;case Q.HAS_CHARGES:r.chargeable=!0;break;case Q.FLOOR_CHANGE:break;case Q.WRAPPABLE:r.wrapable=!0;break;case Q.UNWRAPPABLE:r.unwrapable=!0;break;case Q.TOP_EFFECT:r.topEffect=!0;break;case Q.USABLE:r.usable=!0;break;default:throw new Error(`Unknown OBD flag 0x${i.toString(16)}`)}}return r}function X0(u){const{thing:r,clientVersion:i,spriteData:a,spriteOverrides:c}=u,d=new $0;d.u16(z0),d.u16(i),d.u8(H0[r.category]??1);const m=d.pos;d.u32(0),Q0(d,r.flags),d.patchU32(m,d.pos);const p=r.category==="outfit",x=r.frameGroups.length;p&&d.u8(x);for(let S=0;S<x;S++){p&&d.u8(x<2?1:S);const A=r.frameGroups[S];if(d.u8(A.width),d.u8(A.height),(A.width>1||A.height>1)&&d.u8(32),d.u8(A.layers),d.u8(A.patternX),d.u8(A.patternY),d.u8(A.patternZ||1),d.u8(A.animationLength),A.animationLength>1){d.u8(A.asynchronous),d.i32(A.nLoop),d.u8(A.start);for(let k=0;k<A.animationLength;k++){const P=A.animationLengths[k]??{min:100,max:100};d.u32(P.min),d.u32(P.max)}}for(let k=0;k<A.sprites.length;k++){const P=A.sprites[k];d.u32(P);let j;if(P===0)j=new Uint8Array(po);else{const G=c.get(P)??co(a,P);G?j=G0(new Uint8Array(G.data.buffer,G.data.byteOffset,G.data.byteLength)):j=new Uint8Array(po)}d.u32(j.length),d.bytes(j)}}return O0(d.result(),5)}function Z0(u){let r;try{r=U0(u)}catch(j){throw new Error(`Failed to decompress OBD file. Ensure this is a valid .obd file.
${j instanceof Error?j.message:j}`)}if(r.length<9)throw new Error("OBD file too small.");const i=new Y0(r),a=i.u16();let c,d;if(a===300)c=3,d=i.u16();else if(a===200)c=2,d=i.u16();else throw a>=710?new Error(`This is an OBD Version 1 file (client ${a}). V1 is not supported  please re-export from the Object Builder as V2 or V3.`):new Error(`Unrecognised OBD header: 0x${a.toString(16)} (${a}). Not a valid .obd file.`);const m=i.u8(),p=W0[m];if(!p)throw new Error(`Invalid category byte: ${m}`);i.u32();const x=K0(i),S=p==="outfit";let A=1;S&&c===3&&(A=i.u8());const k=[],P=new Map;for(let j=0;j<A;j++){S&&c===3&&i.u8();const H=i.u8(),G=i.u8();(H>1||G>1)&&i.u8();const Y=i.u8(),ee=i.u8(),he=i.u8(),ke=i.u8()||1,le=i.u8();let Ee=0,M=0,Te=0;const X=[];if(le>1){Ee=i.u8(),M=i.i32(),Te=i.u8();for(let _e=0;_e<le;_e++)X.push({min:i.u32(),max:i.u32()})}else X.push({min:0,max:0});const Ne=H*G*Y*ee*he*ke*le,we=[];for(let _e=0;_e<Ne;_e++){const ye=i.u32();we.push(ye);let Ce;if(c===3){const N=i.u32();Ce=i.bytes(N)}else Ce=i.bytes(po);if(ye>0&&Ce.length===po&&!P.has(ye)){const N=V0(Ce),fe=new ImageData(N,32,32);P.set(ye,fe)}}k.push({type:j,width:H,height:G,layers:Y,patternX:ee,patternY:he,patternZ:ke,animationLength:le,asynchronous:Ee,nLoop:M,start:Te,animationLengths:X,sprites:we})}return{category:p,clientVersion:d,flags:x,frameGroups:k,spritePixels:P}}const J0=["North","East","South","West"],q0=["","","",""];function em(){const u=oe(R=>R.selectedThingId),r=oe(R=>R.objectData),i=oe(R=>R.spriteData),a=oe(R=>R.spriteOverrides),c=oe(R=>R.replaceSprite);oe(R=>R.editVersion);const d=u!=null?(r==null?void 0:r.things.get(u))??null:null,[m,p]=J.useState(0),[x,S]=J.useState(0),[A,k]=J.useState(!1),[P,j]=J.useState(4),[H,G]=J.useState(!1),[Y,ee]=J.useState(!1),[he,ke]=J.useState(!1),[le,Ee]=J.useState(null),[M,Te]=J.useState(0),[X,Ne]=J.useState(0),[we,_e]=J.useState(!1),[ye,Ce]=J.useState({head:0,body:0,legs:0,feet:0}),[N,fe]=J.useState(!1),[ve,re]=J.useState(2),[O,ie]=J.useState(0),[$,C]=J.useState(null),b=J.useRef(null),de=J.useRef(0),pe=J.useRef(null),Be=oe(R=>R.activeCategory),K=Be==="outfit",Se=Be==="effect",Le=Be==="distance";J.useEffect(()=>{p(0),S(0),k(!1),Te(0),Ne(0),re(2),ie(0),fe(K||Se||Le),_e(K)},[u,K,Se,Le]);const _=(d==null?void 0:d.frameGroups[m])??null,Je=J.useCallback(R=>{const me=b.current;if(!me||!_||!i)return;const De=_.width*32,ze=_.height*32,Oe=N?[ve<_.patternX?ve:0]:Array.from({length:_.patternX},(Xt,ut)=>ut),He=N?[O<_.patternY?O:0]:Array.from({length:_.patternY},(Xt,ut)=>ut),tt=Oe.length,Lt=He.length,at=tt*De,nt=Lt*ze;me.width=at,me.height=nt;const Ct=me.getContext("2d");Ct.clearRect(0,0,at,nt);const cn=K&&we&&_.layers>=2,Pn=cn?[0]:we?Array.from({length:_.layers},(Xt,ut)=>ut):[M];for(const Xt of Pn)for(let ut=0;ut<He.length;ut++){const Ut=He[ut];for(let Zt=0;Zt<Oe.length;Zt++){const Tn=Oe[Zt],ti=Zt*De,Nn=ut*ze;for(let zt=0;zt<_.height;zt++)for(let Ln=0;Ln<_.width;Ln++){const ni=Ui(_,R,Tn,Ut,X,Xt,Ln,zt);if(ni>=_.sprites.length)continue;const _r=_.sprites[ni];if(_r<=0)continue;const ri=a.get(_r)??co(i,_r);if(!ri)continue;const Sr=new ImageData(new Uint8ClampedArray(ri.data),32,32);if(cn){const bt=Ui(_,R,Tn,Ut,X,1,Ln,zt);if(bt<_.sprites.length){const nr=_.sprites[bt];if(nr>0){const bn=a.get(nr)??co(i,nr);bn&&d0(Sr,bn,ye)}}}const Cr=ti+(_.width-1-Ln)*32,ii=Nn+(_.height-1-zt)*32;if(we&&!cn&&Xt>0){const bt=document.createElement("canvas");bt.width=32,bt.height=32,bt.getContext("2d").putImageData(Sr,0,0),Ct.drawImage(bt,Cr,ii)}else Ct.putImageData(Sr,Cr,ii)}}}},[_,i,a,M,X,we,N,ve,O,K,ye]);J.useEffect(()=>{Je(x)},[x,Je]),J.useEffect(()=>{var ze;if(!A||!_||_.animationLength<=1)return;let R=x;const me=()=>{var He;R=(R+1)%_.animationLength,S(R),Je(R);const Oe=((He=_.animationLengths[R])==null?void 0:He.min)??200;de.current=window.setTimeout(me,Oe)},De=((ze=_.animationLengths[R])==null?void 0:ze.min)??200;return de.current=window.setTimeout(me,De),()=>{clearTimeout(de.current)}},[A,_,Je]);const Ot=_?N?1:_.patternX:1,un=_?N?1:_.patternY:1,Kt=J.useCallback((R,me)=>{if(!_||!b.current)return 0;const De=b.current.getBoundingClientRect(),ze=(R-De.left)/P,Oe=(me-De.top)/P,He=Math.floor(ze/32),tt=Math.floor(Oe/32),Lt=Ot*_.width,at=un*_.height;if(He<0||He>=Lt||tt<0||tt>=at)return 0;const nt=Math.floor(He/_.width),Ct=Math.floor(tt/_.height),cn=N?ve<_.patternX?ve:0:nt,Pn=N?O<_.patternY?O:0:Ct,Xt=_.width-1-He%_.width,ut=_.height-1-tt%_.height,Ut=Ui(_,x,cn,Pn,X,M,Xt,ut);return Ut<_.sprites.length?_.sprites[Ut]:0},[_,P,x,M,X,N,ve,O,Ot,un]),Nt=J.useCallback((R,me,De)=>{if(!_||!i)return;const ze=R[0];if(!ze||!ze.type.startsWith("image/"))return;const Oe=new Image;Oe.onload=()=>{const He=document.createElement("canvas");He.width=32,He.height=32;const tt=He.getContext("2d");if(Oe.width<=32&&Oe.height<=32){tt.clearRect(0,0,32,32),tt.drawImage(Oe,0,0,32,32);const Lt=tt.getImageData(0,0,32,32);let at=0;if(me!=null&&De!=null&&(at=Kt(me,De)),at===0){const nt=Ui(_,x,0,0,0,0,0,0);at=nt<_.sprites.length?_.sprites[nt]:0}at>0&&c(at,Lt)}else{const Lt=_.patternX*_.width,at=_.patternY*_.height;for(let nt=0;nt<at&&nt*32<Oe.height;nt++)for(let Ct=0;Ct<Lt&&Ct*32<Oe.width;Ct++){const cn=Math.floor(Ct/_.width),Pn=Math.floor(nt/_.height),Xt=_.width-1-Ct%_.width,ut=_.height-1-nt%_.height,Ut=Ui(_,x,cn,Pn,0,0,Xt,ut);if(Ut>=_.sprites.length)continue;const Zt=_.sprites[Ut];if(Zt===0)continue;tt.clearRect(0,0,32,32),tt.drawImage(Oe,Ct*32,nt*32,32,32,0,0,32,32);const Tn=tt.getImageData(0,0,32,32);c(Zt,Tn)}}},Oe.src=URL.createObjectURL(ze)},[_,i,x,c,Kt]),E=J.useCallback(R=>{R.preventDefault(),ke(!1),R.dataTransfer.files.length>0&&Nt(R.dataTransfer.files,R.clientX,R.clientY)},[Nt]),st=()=>{const R=b.current;if(!R)return;const me=R.toDataURL("image/png"),De=document.createElement("a");De.href=me,De.download=`sprite_${(d==null?void 0:d.id)??0}_frame${x}.png`,De.click()},Jr=()=>{if(!(!d||!i))try{const R=X0({thing:d,clientVersion:1098,spriteData:i,spriteOverrides:a}),me=new Blob([new Uint8Array(R)],{type:"application/octet-stream"}),De=URL.createObjectURL(me),ze=document.createElement("a");ze.href=De,ze.download=`${Be}_${d.id}.obd`,ze.click(),URL.revokeObjectURL(De)}catch(R){alert(`Export failed: ${R instanceof Error?R.message:R}`)}},qr=J.useRef(null),ei=R=>{var ze;const me=(ze=R.target.files)==null?void 0:ze[0];if(!me)return;const De=new FileReader;De.onload=()=>{try{const Oe=new Uint8Array(De.result),He=Z0(Oe),tt=oe.getState().importThing,Lt=tt(He.category,He.flags,He.frameGroups,He.spritePixels);Lt!=null&&alert(`Imported ${He.category} as ID ${Lt} with ${He.spritePixels.size} sprites.`)}catch(Oe){alert(`Import failed: ${Oe instanceof Error?Oe.message:Oe}`)}},De.readAsArrayBuffer(me),R.target.value=""},mt=J.useCallback((R,me)=>{if(!d||!_)return;_[R]=me;const De=_.width*_.height*_.layers*_.patternX*_.patternY*_.patternZ*_.animationLength;if(_.sprites.length<De)for(;_.sprites.length<De;)_.sprites.push(0);else _.sprites.length>De&&(_.sprites.length=De);for(;_.animationLengths.length<_.animationLength;)_.animationLengths.push({min:100,max:100});_.animationLengths.length>_.animationLength&&(_.animationLengths.length=_.animationLength),d.rawBytes=void 0,Gi();const ze=oe.getState(),Oe=new Set(ze.dirtyIds);Oe.add(d.id),oe.setState({dirty:!0,dirtyIds:Oe,editVersion:ze.editVersion+1})},[d,_]);if(!d)return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm",children:"Select an object to preview"});const Fn=_?_.animationLength>1:!1;return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-emperia-border gap-3",children:[f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Zoom:"}),f.jsx("input",{type:"range",min:1,max:8,value:P,onChange:R=>j(Number(R.target.value)),className:"flex-1 h-1 accent-emperia-accent"}),f.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-right",children:[P,"x"]})]}),f.jsx("div",{className:"flex-1 flex items-center justify-center overflow-auto min-h-0",children:f.jsxs("div",{className:`checkerboard rounded-lg border relative transition-colors
            ${he?"border-emperia-accent border-2":"border-emperia-border"}`,style:{padding:8},onDragOver:R=>{if(R.preventDefault(),ke(!0),b.current&&_){const me=b.current.getBoundingClientRect(),De=Math.floor((R.clientX-me.left)/(32*P)),ze=Math.floor((R.clientY-me.top)/(32*P)),Oe=Ot*_.width,He=un*_.height;De>=0&&De<Oe&&ze>=0&&ze<He?Ee({col:De,row:ze}):Ee(null)}},onDragLeave:()=>{ke(!1),Ee(null)},onDrop:R=>{Ee(null),E(R)},children:[f.jsx("canvas",{ref:b,className:"cursor-pointer",onClick:R=>{const me=Kt(R.clientX,R.clientY);me>0&&oe.setState({focusSpriteId:me})},style:{width:(_?Ot*_.width:1)*32*P,height:(_?un*_.height:1)*32*P,imageRendering:"pixelated"}}),H&&_&&f.jsx("div",{className:"absolute inset-2 pointer-events-none",style:{backgroundImage:`
                  repeating-linear-gradient(0deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*P}px),
                  repeating-linear-gradient(90deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*P}px)
                `,backgroundSize:`${32*P}px ${32*P}px`}}),Y&&_&&f.jsx("div",{className:"absolute pointer-events-none border border-yellow-400/60",style:{bottom:8,left:8,width:_.width*32*P,height:_.height*32*P}}),he&&!le&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emperia-accent/10 rounded-lg pointer-events-none",children:f.jsx("span",{className:"text-emperia-accent text-xs font-medium",children:"Drop PNG to replace"})}),le&&f.jsx("div",{className:"absolute pointer-events-none border-2 border-emperia-accent bg-emperia-accent/15 rounded-sm",style:{left:8+le.col*32*P,top:8+le.row*32*P,width:32*P,height:32*P}})]})}),f.jsxs("div",{className:"flex items-center justify-center px-4 py-2 gap-2 border-t border-emperia-border",children:[f.jsx("button",{onClick:()=>j(Math.max(1,P-1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom out",children:f.jsx(Xp,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-center",children:[P,"x"]}),f.jsx("button",{onClick:()=>j(Math.min(8,P+1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom in",children:f.jsx(Kp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:()=>G(!H),className:`p-1 rounded transition-colors ${H?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:"Show Grid",children:f.jsx(Mp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("input",{ref:pe,type:"file",accept:"image/png,image/gif,image/bmp",className:"hidden",onChange:R=>R.target.files&&Nt(R.target.files)}),f.jsx("button",{onClick:()=>{var R;return(R=pe.current)==null?void 0:R.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import PNG",children:f.jsx(Bd,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:st,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export PNG",children:f.jsx(jp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:Jr,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export OBD",children:f.jsx(Sd,{className:"w-3.5 h-3.5"})}),f.jsx("input",{ref:qr,type:"file",accept:".obd",className:"hidden",onChange:ei}),f.jsx("button",{onClick:()=>{var R;return(R=qr.current)==null?void 0:R.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import OBD",children:f.jsx(Cd,{className:"w-3.5 h-3.5"})}),Fn&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:()=>{S((x-1+((_==null?void 0:_.animationLength)??1))%((_==null?void 0:_.animationLength)??1)),k(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:f.jsx(Np,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>k(!A),className:`p-1 rounded transition-colors ${A?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,children:A?f.jsx(Hp,{className:"w-3.5 h-3.5"}):f.jsx(Wp,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>{S((x+1)%((_==null?void 0:_.animationLength)??1)),k(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:f.jsx(Lp,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[x+1,"/",_==null?void 0:_.animationLength]})]})]}),f.jsxs("div",{className:"flex items-center px-4 py-1.5 gap-4 border-t border-emperia-border flex-wrap",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:Y,onChange:()=>ee(!Y),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Crop"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:H,onChange:()=>G(!H),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Grid"})]}),_&&(_.patternX>1||_.patternY>1)&&f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:N,onChange:()=>fe(!N),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Preview"})]})]}),_&&d.flags.hasDisplacement&&f.jsxs("div",{className:"flex items-center justify-end px-4 py-1.5 gap-4 border-t border-emperia-border",children:[f.jsx(gn,{label:"Offset X",value:d.flags.displacementX??0,readOnly:!0}),f.jsx(gn,{label:"Offset Y",value:d.flags.displacementY??0,readOnly:!0})]}),d.frameGroups.length>1&&f.jsx("div",{className:"flex items-center justify-center px-4 py-1.5 gap-1 border-t border-emperia-border",children:d.frameGroups.map((R,me)=>f.jsx("button",{onClick:()=>{p(me),S(0),k(!1),Te(0),Ne(0)},className:`px-2 py-0.5 rounded text-[10px] transition-colors
                ${m===me?"bg-emperia-accent text-white":"bg-emperia-surface text-emperia-muted hover:bg-emperia-hover"}
              `,children:me===0?"Idle":me===1?"Moving":`Group ${me}`},me))}),_&&(_.animationLength>1||_.layers>1||_.patternZ>1||N&&(_.patternX>1||_.patternY>1)||K)&&f.jsxs("div",{className:"border-t border-emperia-border",children:[f.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:K?"Outfit":Se?"Effect":Le?"Distance":"Animation"})}),f.jsx("div",{className:"px-4 py-2",children:f.jsx("table",{className:"w-full text-[10px]",style:{borderSpacing:"0 3px",borderCollapse:"separate"},children:f.jsxs("tbody",{children:[N&&_.patternX>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Direction:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(_.patternX,4)},(R,me)=>f.jsx("button",{onClick:()=>re(me),className:`w-6 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${ve===me?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,title:J0[me]??`Dir ${me}`,children:q0[me]??me},me)),_.patternX>4&&f.jsxs(f.Fragment,{children:[f.jsx(Qt,{onClick:()=>re(Math.max(0,ve-1)),children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[ve+1,"/",_.patternX]}),f.jsx(Qt,{onClick:()=>re(Math.min(_.patternX-1,ve+1)),children:""})]})]})})]}),N&&_.patternY>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:K?"Addon:":"Pattern Y:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Qt,{onClick:()=>ie(Math.max(0,O-1)),children:""}),f.jsx("span",{className:"text-emperia-text font-mono w-10 text-center",children:K?O===0?"None":`#${O}`:`${O+1}/${_.patternY}`}),f.jsx(Qt,{onClick:()=>ie(Math.min(_.patternY-1,O+1)),children:""})]})})]}),_.animationLength>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Frame:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Qt,{onClick:()=>{S((x-1+_.animationLength)%_.animationLength),k(!1)},children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[x+1,"/",_.animationLength]}),f.jsx(Qt,{onClick:()=>{S((x+1)%_.animationLength),k(!1)},children:""}),f.jsx("button",{onClick:()=>k(!A),className:`ml-1 px-2 py-0.5 rounded text-[10px] transition-colors ${A?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,children:A?"Stop":"Play"})]})})]}),_.layers>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Layer:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Qt,{onClick:()=>Te(Math.max(0,M-1)),disabled:we,children:""}),f.jsx("span",{className:`font-mono w-10 text-center ${we?"text-emperia-muted":"text-emperia-text"}`,children:we?"All":`${M+1}/${_.layers}`}),f.jsx(Qt,{onClick:()=>Te(Math.min(_.layers-1,M+1)),disabled:we,children:""}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer ml-1",children:[f.jsx("input",{type:"checkbox",checked:we,onChange:()=>_e(!we),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-emperia-muted",children:"Blend"})]})]})})]}),_.patternZ>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Pattern Z:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Qt,{onClick:()=>Ne(Math.max(0,X-1)),children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[X+1,"/",_.patternZ]}),f.jsx(Qt,{onClick:()=>Ne(Math.min(_.patternZ-1,X+1)),children:""})]})})]}),K&&we&&_.layers>=2&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),["head","body","legs","feet"].map(R=>f.jsxs("tr",{children:[f.jsxs("td",{className:"text-emperia-muted text-right pr-2 capitalize",children:[R,":"]}),f.jsxs("td",{children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>C($===R?null:R),className:"w-5 h-5 rounded border border-emperia-border",style:{backgroundColor:pd(ye[R])},title:`Color ${ye[R]}`}),f.jsx("span",{className:"text-emperia-text font-mono w-8 text-center",children:ye[R]}),f.jsx(Qt,{onClick:()=>Ce({...ye,[R]:Math.max(0,ye[R]-1)}),children:""}),f.jsx(Qt,{onClick:()=>Ce({...ye,[R]:Math.min(Zr-1,ye[R]+1)}),children:""})]}),$===R&&f.jsx("div",{className:"mt-1 p-1 bg-emperia-surface border border-emperia-border rounded grid gap-px",style:{gridTemplateColumns:"repeat(19, 14px)"},children:kr.map((me,De)=>f.jsx("button",{onClick:()=>{Ce({...ye,[R]:De}),C(null)},className:`w-3.5 h-3.5 rounded-sm border ${ye[R]===De?"border-white":"border-transparent"}`,style:{backgroundColor:pd(De)},title:`${De}`},De))})]})]},R))]}),_.animationLength>1&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Anim mode:"}),f.jsx("td",{children:f.jsxs("select",{value:_.asynchronous,onChange:R=>mt("asynchronous",Number(R.target.value)),className:"w-full px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text outline-none focus:border-emperia-accent",children:[f.jsx("option",{value:0,children:"Synchronous"}),f.jsx("option",{value:1,children:"Asynchronous"})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Loop count:"}),f.jsx("td",{children:f.jsx(so,{value:_.nLoop,min:0,max:255,onChange:R=>mt("nLoop",R)})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Start frame:"}),f.jsx("td",{children:f.jsx(so,{value:_.start,min:0,max:_.animationLength-1,onChange:R=>mt("start",R)})})]}),_.animationLengths[x]&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Min (ms):"}),f.jsx("td",{children:f.jsx(so,{value:_.animationLengths[x].min,min:0,max:65535,onChange:R=>{_.animationLengths[x].min=R,d.rawBytes=void 0;const me=oe.getState(),De=new Set(me.dirtyIds);De.add(d.id),oe.setState({dirty:!0,dirtyIds:De,editVersion:me.editVersion+1})}})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Max (ms):"}),f.jsx("td",{children:f.jsx(so,{value:_.animationLengths[x].max,min:0,max:65535,onChange:R=>{_.animationLengths[x].max=R,d.rawBytes=void 0;const me=oe.getState(),De=new Set(me.dirtyIds);De.add(d.id),oe.setState({dirty:!0,dirtyIds:De,editVersion:me.editVersion+1})}})})]}),f.jsx("tr",{children:f.jsxs("td",{colSpan:2,className:"text-emperia-muted/60 text-right pt-0.5",children:["Frame ",x+1," of ",_.animationLength]})})]})]})]})})})]}),_&&f.jsxs("div",{className:"border-t border-emperia-border",children:[f.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Patterns"})}),f.jsxs("div",{className:"px-4 py-2 grid grid-cols-2 gap-x-6 gap-y-1",children:[f.jsx(gn,{label:"Width",value:_.width,onChange:R=>mt("width",R),min:1,max:4}),f.jsx(gn,{label:"Height",value:_.height,onChange:R=>mt("height",R),min:1,max:4}),f.jsx(gn,{label:"Crop Size",value:32,readOnly:!0}),f.jsx(gn,{label:"Layers",value:_.layers,onChange:R=>mt("layers",R),min:1,max:4}),f.jsx(gn,{label:"Pattern X",value:_.patternX,onChange:R=>mt("patternX",R),min:1,max:8}),f.jsx(gn,{label:"Pattern Y",value:_.patternY,onChange:R=>mt("patternY",R),min:1,max:8}),f.jsx(gn,{label:"Pattern Z",value:_.patternZ,onChange:R=>mt("patternZ",R),min:1,max:8}),f.jsx(gn,{label:"Animations",value:_.animationLength,onChange:R=>mt("animationLength",R),min:1,max:255})]})]})]})}function gn({label:u,value:r,onChange:i,min:a,max:c,readOnly:d}){return f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[u,":"]}),d?f.jsx("span",{className:"text-[10px] text-emperia-text font-mono w-14 text-right",children:r}):f.jsxs("div",{className:"flex items-center gap-0.5",children:[f.jsx("button",{onClick:()=>i==null?void 0:i(Math.max(a??0,r-1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"-"}),f.jsx("input",{type:"number",value:r,min:a,max:c,onChange:m=>{const p=parseInt(m.target.value,10);isNaN(p)||i==null||i(Math.max(a??0,Math.min(c??9999,p)))},className:"w-10 px-1 py-0 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-center outline-none focus:border-emperia-accent"}),f.jsx("button",{onClick:()=>i==null?void 0:i(Math.min(c??9999,r+1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"+"})]})]})}function Qt({onClick:u,disabled:r,children:i}){return f.jsx("button",{onClick:u,disabled:r,className:"w-5 h-5 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px] disabled:opacity-30",children:i})}function so({value:u,min:r,max:i,onChange:a}){return f.jsx("input",{type:"number",value:u,min:r,max:i,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||a(Math.max(r,Math.min(i,d)))},className:"w-16 px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-right outline-none focus:border-emperia-accent"})}function Ui(u,r,i,a,c,d,m,p){return(((((r*u.patternZ+c)*u.patternY+a)*u.patternX+i)*u.layers+d)*u.height+p)*u.width+m}const la=[{key:"ground",label:"Ground"},{key:"groundBorder",label:"Ground Border"},{key:"onBottom",label:"On Bottom"},{key:"onTop",label:"On Top"},{key:"container",label:"Container"},{key:"stackable",label:"Stackable"},{key:"forceUse",label:"Force Use"},{key:"multiUse",label:"Multi Use"},{key:"writable",label:"Writable"},{key:"writableOnce",label:"Writable Once"},{key:"fluidContainer",label:"Fluid Container"},{key:"splash",label:"Splash"},{key:"notWalkable",label:"Not Walkable"},{key:"notMoveable",label:"Not Moveable"},{key:"blockProjectile",label:"Block Projectile"},{key:"notPathable",label:"Not Pathable"},{key:"pickupable",label:"Pickupable"},{key:"hangable",label:"Hangable"},{key:"hookSouth",label:"Hook South"},{key:"hookEast",label:"Hook East"},{key:"rotateable",label:"Rotateable"},{key:"hasLight",label:"Light"},{key:"dontHide",label:"Don't Hide"},{key:"translucent",label:"Translucent"},{key:"hasDisplacement",label:"Displacement"},{key:"hasElevation",label:"Elevation"},{key:"lyingCorpse",label:"Lying Corpse"},{key:"animateAlways",label:"Animate Always"},{key:"hasMinimapColor",label:"Minimap Color"},{key:"fullGround",label:"Full Ground"},{key:"look",label:"Look"},{key:"cloth",label:"Cloth"},{key:"hasMarket",label:"Market"},{key:"usable",label:"Usable"},{key:"wrapable",label:"Wrapable"},{key:"unwrapable",label:"Unwrapable"},{key:"topEffect",label:"Top Effect"},{key:"noMoveAnimation",label:"No Move Animation"},{key:"chargeable",label:"Chargeable"}],tm=[{key:"groundSpeed",label:"Ground Speed",parentFlag:"ground",min:0,max:65535},{key:"lightLevel",label:"Light Level",parentFlag:"hasLight",min:0,max:65535},{key:"lightColor",label:"Light Color",parentFlag:"hasLight",min:0,max:65535},{key:"displacementX",label:"Displacement X",parentFlag:"hasDisplacement",min:0,max:65535},{key:"displacementY",label:"Displacement Y",parentFlag:"hasDisplacement",min:0,max:65535},{key:"elevation",label:"Elevation",parentFlag:"hasElevation",min:0,max:65535},{key:"minimapColor",label:"Minimap Color",parentFlag:"hasMinimapColor",min:0,max:65535},{key:"clothSlot",label:"Cloth Slot",parentFlag:"cloth",min:0,max:65535}];function vd({showAttributesOnly:u}={}){const r=oe(p=>p.selectedThingId),i=oe(p=>p.objectData),a=oe(p=>p.updateThingFlags);oe(p=>p.editVersion);const c=r!=null?(i==null?void 0:i.things.get(r))??null:null,d=J.useCallback(p=>{if(!c)return;const x={...c.flags};x[p]=!x[p],x[p]||(p==="ground"&&(x.groundSpeed=void 0),p==="hasLight"&&(x.lightLevel=void 0,x.lightColor=void 0),p==="hasDisplacement"&&(x.displacementX=void 0,x.displacementY=void 0),p==="hasElevation"&&(x.elevation=void 0),p==="hasMinimapColor"&&(x.minimapColor=void 0),p==="cloth"&&(x.clothSlot=void 0)),x[p]&&(p==="ground"&&x.groundSpeed==null&&(x.groundSpeed=100),p==="hasLight"&&(x.lightLevel==null&&(x.lightLevel=7),x.lightColor==null&&(x.lightColor=215)),p==="hasDisplacement"&&(x.displacementX==null&&(x.displacementX=8),x.displacementY==null&&(x.displacementY=8)),p==="hasElevation"&&x.elevation==null&&(x.elevation=8),p==="hasMinimapColor"&&x.minimapColor==null&&(x.minimapColor=0),p==="cloth"&&x.clothSlot==null&&(x.clothSlot=0)),a(c.id,x)},[c,a]),m=J.useCallback((p,x)=>{if(!c)return;const S={...c.flags,[p]:x};a(c.id,S)},[c,a]);return c?u?f.jsxs("div",{className:"p-3 text-xs space-y-4",children:[f.jsxs(Kr,{title:"Identity",children:[f.jsx(Tt,{label:"ID",value:c.id}),f.jsx(Tt,{label:"Category",value:c.category})]}),c.frameGroups.map((p,x)=>f.jsxs(Kr,{title:`Frame Group ${x}${c.category==="outfit"?x===0?" (Idle)":" (Moving)":""}`,children:[f.jsx(Tt,{label:"Size",value:`${p.width}x${p.height}`}),f.jsx(Tt,{label:"Layers",value:p.layers}),f.jsx(Tt,{label:"Pattern X",value:p.patternX}),f.jsx(Tt,{label:"Pattern Y",value:p.patternY}),f.jsx(Tt,{label:"Pattern Z",value:p.patternZ}),f.jsx(Tt,{label:"Animations",value:p.animationLength}),f.jsx(Tt,{label:"Sprites",value:p.sprites.length}),p.animationLength>1&&f.jsxs(f.Fragment,{children:[f.jsx(Tt,{label:"Async",value:p.asynchronous?"Yes":"No"}),f.jsx(Tt,{label:"Loop Count",value:p.nLoop===0?"Infinite":p.nLoop}),f.jsx(Tt,{label:"Start Frame",value:p.start})]})]},x)),f.jsx(Kr,{title:"Active Flags",children:f.jsxs("div",{className:"space-y-0.5",children:[la.filter(({key:p})=>!!c.flags[p]).map(({key:p,label:x})=>f.jsx("div",{className:"text-emperia-text text-xs",children:x},p)),la.every(({key:p})=>!c.flags[p])&&f.jsx("span",{className:"text-emperia-muted italic",children:"None"})]})})]}):f.jsxs("div",{className:"p-3 text-xs space-y-4",children:[f.jsxs(Kr,{title:"Identity",children:[f.jsx(Tt,{label:"ID",value:c.id}),f.jsx(Tt,{label:"Category",value:c.category})]}),f.jsx(Kr,{title:"Flags",children:f.jsx("div",{className:"grid grid-cols-1 gap-0",children:la.map(({key:p,label:x})=>f.jsxs("label",{className:"flex items-center gap-2 py-[3px] px-1 rounded hover:bg-emperia-hover cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:!!c.flags[p],onChange:()=>d(p),className:"w-3 h-3 rounded border-emperia-border bg-emperia-surface accent-emperia-accent cursor-pointer"}),f.jsx("span",{className:c.flags[p]?"text-emperia-text":"text-emperia-muted",children:x})]},p))})}),f.jsx(Kr,{title:"Properties",children:f.jsx(nm,{flags:c.flags,onChange:m})})]}):f.jsx("div",{className:"p-4 text-emperia-muted text-sm",children:"No object selected"})}function Kr({title:u,children:r}){return f.jsxs("div",{children:[f.jsx("h3",{className:"text-emperia-accent font-semibold text-[11px] uppercase tracking-wider mb-1.5 pb-1 border-b border-emperia-border",children:u}),f.jsx("div",{className:"space-y-0.5",children:r})]})}function Tt({label:u,value:r}){return f.jsxs("div",{className:"flex justify-between py-0.5",children:[f.jsx("span",{className:"text-emperia-muted",children:u}),f.jsx("span",{className:"text-emperia-text font-mono",children:String(r)})]})}function nm({flags:u,onChange:r}){const i=tm.filter(a=>a.parentFlag?!!u[a.parentFlag]:!0);return i.length===0?f.jsx("span",{className:"text-emperia-muted italic",children:"No active properties"}):f.jsx("div",{className:"space-y-1",children:i.map(a=>f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:"text-emperia-muted shrink-0",children:a.label}),f.jsx("input",{type:"number",value:u[a.key]??0,min:a.min,max:a.max,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||r(a.key,Math.max(a.min??0,Math.min(a.max??65535,d)))},className:`w-20 px-1.5 py-0.5 rounded bg-emperia-surface border border-emperia-border
                       text-emperia-text font-mono text-right text-xs outline-none
                       focus:border-emperia-accent transition-colors`})]},a.key))})}const on=40,xr=6;function rm(){const u=oe(N=>N.selectedThingId),r=oe(N=>N.objectData),i=oe(N=>N.spriteData),a=oe(N=>N.spriteOverrides),c=oe(N=>N.focusSpriteId),[d,m]=J.useState(null),[p,x]=J.useState(""),[S,A]=J.useState(0),[k,P]=J.useState(0),[j,H]=J.useState(null),G=J.useRef(null),Y=J.useRef(null),ee=u!=null?(r==null?void 0:r.things.get(u))??null:null,he=J.useCallback(N=>{const fe=oe.getState().addSprite;Array.from(N).forEach(ve=>{const re=new Image;re.onload=()=>{const O=document.createElement("canvas"),ie=O.getContext("2d"),$=Math.max(1,Math.floor(re.width/32)),C=Math.max(1,Math.floor(re.height/32));O.width=32,O.height=32;const b=[];for(let de=0;de<C;de++)for(let pe=0;pe<$;pe++){ie.clearRect(0,0,32,32),ie.drawImage(re,pe*32,de*32,32,32,0,0,32,32);const Be=ie.getImageData(0,0,32,32),K=fe(Be);K!=null&&b.push(K)}if(b.length>0&&(x(""),H(b[0]),setTimeout(()=>H(null),2e3),G.current&&i)){const de=b[0]-1,pe=Math.floor(de/xr);G.current.scrollTop=pe*on}},re.src=URL.createObjectURL(ve)})},[i]),ke=J.useCallback(N=>{N<=0||confirm(`Delete sprite #${N}? It will be replaced with a blank sprite.`)&&oe.getState().deleteSprite(N)},[]);J.useEffect(()=>{m(null)},[u]),J.useEffect(()=>{if(c!=null&&c>0&&G.current&&i){x("");const N=c-1,fe=Math.floor(N/xr);G.current.scrollTop=fe*on,H(c),oe.setState({focusSpriteId:null}),setTimeout(()=>H(null),2e3)}},[c,i]);const le=oe(N=>N.editVersion),Ee=J.useMemo(()=>{if(!ee)return[];const N=[];return ee.frameGroups.forEach((fe,ve)=>{fe.sprites.forEach((re,O)=>{N.push({spriteId:re,group:ve,index:O})})}),N},[ee,le]),M=J.useMemo(()=>{if(!i)return[];if(p){const fe=parseInt(p,10);if(!isNaN(fe)){const ve=[];for(let re=Math.max(1,fe-50);re<=Math.min(i.spriteCount,fe+200);re++)ve.push(re);return ve}}const N=[];for(let fe=1;fe<=i.spriteCount;fe++)N.push(fe);return N},[i,p,le]),Te=Math.ceil(M.length/xr),X=Te*on,Ne=J.useCallback(()=>{G.current&&(A(G.current.scrollTop),P(G.current.clientHeight))},[]);J.useEffect(()=>{Ne();const N=G.current;if(N){const fe=new ResizeObserver(Ne);return fe.observe(N),()=>fe.disconnect()}},[Ne]),J.useEffect(()=>{if(p&&G.current){const N=parseInt(p,10);if(!isNaN(N)){const fe=M.indexOf(N);if(fe>=0){const ve=Math.floor(fe/xr);G.current.scrollTop=ve*on}}}},[p,M]);const we=Math.max(0,Math.floor(S/on)-2),_e=Math.min(Te,Math.ceil((S+k)/on)+2),ye=M.slice(we*xr,_e*xr),Ce=J.useCallback(N=>{if(!d||!ee)return;const fe=ee.frameGroups[d.group];if(!fe)return;fe.sprites[d.index]=N,ee.rawBytes=void 0,Gi();const ve=oe.getState(),re=new Set(ve.dirtyIds);re.add(ee.id),oe.setState({dirty:!0,dirtyIds:re,editVersion:ve.editVersion+1})},[d,ee]);return i?f.jsxs("div",{className:"flex flex-col h-full",children:[ee&&f.jsxs("div",{className:"shrink-0 border-b border-emperia-border",children:[f.jsxs("div",{className:"px-2 py-1.5 flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Object Sprites"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:Ee.length})]}),f.jsx("div",{className:"overflow-y-auto max-h-40 px-1.5 pb-1.5",children:f.jsx("div",{className:"grid grid-cols-6 gap-0.5",children:Ee.map(({spriteId:N,group:fe,index:ve},re)=>{const O=N>0?aa(i,N,a):null,ie=(d==null?void 0:d.group)===fe&&(d==null?void 0:d.index)===ve,$=a.has(N);return f.jsxs("button",{onClick:()=>m(ie?null:{group:fe,index:ve}),className:`relative flex items-center justify-center rounded border transition-colors
                      ${ie?"border-emperia-accent bg-emperia-accent/20":$?"border-amber-500/50 bg-amber-500/10":"border-emperia-border/40 hover:border-emperia-muted"}
                    `,style:{width:on,height:on},title:`Slot ${re}  Sprite #${N}${ie?" (selected  click atlas sprite to assign)":""}`,children:[O?f.jsx("img",{src:O,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-8 h-8 bg-emperia-border/20 rounded-sm"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/50 leading-none",children:N})]},`${fe}-${ve}`)})})}),d&&f.jsx("div",{className:"px-2 pb-1.5 text-[10px] text-emperia-accent",children:"Click a sprite below to assign it to the selected slot"})]}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider shrink-0",children:"Sprite Atlas"}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(Ad,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted"}),f.jsx("input",{type:"text",value:p,onChange:N=>x(N.target.value),placeholder:"Go to ID...",className:"w-full pl-6 pr-2 py-0.5 bg-emperia-bg border border-emperia-border rounded text-[10px] text-emperia-text placeholder:text-emperia-muted/50 focus:outline-none focus:border-emperia-accent"})]}),f.jsx("input",{ref:Y,type:"file",accept:"image/png,image/gif,image/bmp",multiple:!0,className:"hidden",onChange:N=>{N.target.files&&he(N.target.files),N.target.value=""}}),f.jsx("button",{onClick:()=>{var N;return(N=Y.current)==null?void 0:N.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-green-400 transition-colors shrink-0",title:"Add new sprites from PNG (auto-splits into 3232 tiles)",children:f.jsx(Ed,{className:"w-3.5 h-3.5"})})]}),f.jsx("div",{ref:G,onScroll:Ne,className:"flex-1 overflow-y-auto",children:f.jsx("div",{style:{height:X,position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:we*on,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${xr}, 1fr)`},children:ye.map(N=>{const fe=aa(i,N,a),ve=N===j;return f.jsxs("div",{className:`group relative flex items-center justify-center border transition-colors
                      ${ve?"border-green-400 bg-green-400/20":d?"border-transparent hover:bg-emperia-accent/10 hover:border-emperia-accent/30 cursor-pointer":"border-transparent hover:bg-emperia-hover"}
                    `,style:{width:on,height:on},title:`#${N}`,onClick:()=>Ce(N),onContextMenu:re=>{re.preventDefault(),ke(N)},children:[fe?f.jsx("img",{src:fe,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-6 h-6"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/40 leading-none",children:N}),f.jsx("button",{className:"absolute top-0 right-0 p-0.5 rounded-bl bg-red-500/80 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:re=>{re.stopPropagation(),ke(N)},title:`Delete sprite #${N}`,children:f.jsx(Yp,{className:"w-2.5 h-2.5"})})]},N)})})})})]})]}):f.jsx("div",{className:"p-3 text-emperia-muted text-xs",children:"Load files to browse sprites"})}const im={texture:"Texture",properties:"Properties",attributes:"Attributes"};function sm(){const u=oe(a=>a.loaded),[r,i]=J.useState("texture");return u?f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsx(r0,{}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"w-64 flex flex-col border-r border-emperia-border bg-emperia-bg",children:[f.jsx(s0,{}),f.jsx(o0,{})]}),f.jsxs("div",{className:"flex-1 flex flex-col bg-emperia-bg overflow-hidden",children:[f.jsx("div",{className:"flex border-b border-emperia-border shrink-0",children:["texture","properties","attributes"].map(a=>f.jsx("button",{onClick:()=>i(a),className:`px-4 py-2 text-xs font-medium transition-colors
                  ${r===a?"text-emperia-accent border-b-2 border-emperia-accent":"text-emperia-muted hover:text-emperia-text"}
                `,children:im[a]},a))}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="texture"&&f.jsx(em,{}),r==="properties"&&f.jsx(vd,{}),r==="attributes"&&f.jsx(vd,{showAttributesOnly:!0})]})]}),f.jsx("div",{className:"w-72 border-l border-emperia-border bg-emperia-bg overflow-hidden flex flex-col",children:f.jsx(rm,{})})]})]}):f.jsx(Zp,{})}mp.createRoot(document.getElementById("root")).render(f.jsx(zi.StrictMode,{children:f.jsx(sm,{})}));
