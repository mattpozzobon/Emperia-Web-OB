var Ip=Object.defineProperty;var dd=o=>{throw TypeError(o)};var jp=(o,r,i)=>r in o?Ip(o,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[r]=i;var R=(o,r,i)=>jp(o,typeof r!="symbol"?r+"":r,i),ca=(o,r,i)=>r.has(o)||dd("Cannot "+i);var y=(o,r,i)=>(ca(o,r,"read from private field"),i?i.call(o):r.get(o)),Cr=(o,r,i)=>r.has(o)?dd("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(o):r.set(o,i),ni=(o,r,i,a)=>(ca(o,r,"write to private field"),a?a.call(o,i):r.set(o,i),i),ae=(o,r,i)=>(ca(o,r,"access private method"),i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function Wd(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var ua={exports:{}},$i={},da={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd;function Lp(){if(fd)return Ue;fd=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function S(v){return v===null||typeof v!="object"?null:(v=x&&v[x]||v["@@iterator"],typeof v=="function"?v:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function W(v,B,Q){this.props=v,this.context=B,this.refs=P,this.updater=Q||_}W.prototype.isReactComponent={},W.prototype.setState=function(v,B){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,B,"setState")},W.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function z(){}z.prototype=W.prototype;function U(v,B,Q){this.props=v,this.context=B,this.refs=P,this.updater=Q||_}var V=U.prototype=new z;V.constructor=U,N(V,W.prototype),V.isPureReactComponent=!0;var j=Array.isArray,se=Object.prototype.hasOwnProperty,O={current:null},ge={key:!0,ref:!0,__self:!0,__source:!0};function be(v,B,Q){var ne,le={},J=null,Se=null;if(B!=null)for(ne in B.ref!==void 0&&(Se=B.ref),B.key!==void 0&&(J=""+B.key),B)se.call(B,ne)&&!ge.hasOwnProperty(ne)&&(le[ne]=B[ne]);var Ae=arguments.length-2;if(Ae===1)le.children=Q;else if(1<Ae){for(var ve=Array(Ae),Oe=0;Oe<Ae;Oe++)ve[Oe]=arguments[Oe+2];le.children=ve}if(v&&v.defaultProps)for(ne in Ae=v.defaultProps,Ae)le[ne]===void 0&&(le[ne]=Ae[ne]);return{$$typeof:o,type:v,key:J,ref:Se,props:le,_owner:O.current}}function pe(v,B){return{$$typeof:o,type:v.type,key:B,ref:v.ref,props:v.props,_owner:v._owner}}function Ce(v){return typeof v=="object"&&v!==null&&v.$$typeof===o}function Ee(v){var B={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(Q){return B[Q]})}var Ie=/\/+/g;function K(v,B){return typeof v=="object"&&v!==null&&v.key!=null?Ee(""+v.key):B.toString(36)}function ie(v,B,Q,ne,le){var J=typeof v;(J==="undefined"||J==="boolean")&&(v=null);var Se=!1;if(v===null)Se=!0;else switch(J){case"string":case"number":Se=!0;break;case"object":switch(v.$$typeof){case o:case r:Se=!0}}if(Se)return Se=v,le=le(Se),v=ne===""?"."+K(Se,0):ne,j(le)?(Q="",v!=null&&(Q=v.replace(Ie,"$&/")+"/"),ie(le,B,Q,"",function(Oe){return Oe})):le!=null&&(Ce(le)&&(le=pe(le,Q+(!le.key||Se&&Se.key===le.key?"":(""+le.key).replace(Ie,"$&/")+"/")+v)),B.push(le)),1;if(Se=0,ne=ne===""?".":ne+":",j(v))for(var Ae=0;Ae<v.length;Ae++){J=v[Ae];var ve=ne+K(J,Ae);Se+=ie(J,B,Q,ve,le)}else if(ve=S(v),typeof ve=="function")for(v=ve.call(v),Ae=0;!(J=v.next()).done;)J=J.value,ve=ne+K(J,Ae++),Se+=ie(J,B,Q,ve,le);else if(J==="object")throw B=String(v),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Se}function ye(v,B,Q){if(v==null)return v;var ne=[],le=0;return ie(v,ne,"","",function(J){return B.call(Q,J,le++)}),ne}function Be(v){if(v._status===-1){var B=v._result;B=B(),B.then(function(Q){(v._status===0||v._status===-1)&&(v._status=1,v._result=Q)},function(Q){(v._status===0||v._status===-1)&&(v._status=2,v._result=Q)}),v._status===-1&&(v._status=0,v._result=B)}if(v._status===1)return v._result.default;throw v._result}var ue={current:null},T={transition:null},te={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:T,ReactCurrentOwner:O};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:ye,forEach:function(v,B,Q){ye(v,function(){B.apply(this,arguments)},Q)},count:function(v){var B=0;return ye(v,function(){B++}),B},toArray:function(v){return ye(v,function(B){return B})||[]},only:function(v){if(!Ce(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},Ue.Component=W,Ue.Fragment=i,Ue.Profiler=c,Ue.PureComponent=U,Ue.StrictMode=a,Ue.Suspense=g,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ue.act=Z,Ue.cloneElement=function(v,B,Q){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var ne=N({},v.props),le=v.key,J=v.ref,Se=v._owner;if(B!=null){if(B.ref!==void 0&&(J=B.ref,Se=O.current),B.key!==void 0&&(le=""+B.key),v.type&&v.type.defaultProps)var Ae=v.type.defaultProps;for(ve in B)se.call(B,ve)&&!ge.hasOwnProperty(ve)&&(ne[ve]=B[ve]===void 0&&Ae!==void 0?Ae[ve]:B[ve])}var ve=arguments.length-2;if(ve===1)ne.children=Q;else if(1<ve){Ae=Array(ve);for(var Oe=0;Oe<ve;Oe++)Ae[Oe]=arguments[Oe+2];ne.children=Ae}return{$$typeof:o,type:v.type,key:le,ref:J,props:ne,_owner:Se}},Ue.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:d,_context:v},v.Consumer=v},Ue.createElement=be,Ue.createFactory=function(v){var B=be.bind(null,v);return B.type=v,B},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(v){return{$$typeof:m,render:v}},Ue.isValidElement=Ce,Ue.lazy=function(v){return{$$typeof:b,_payload:{_status:-1,_result:v},_init:Be}},Ue.memo=function(v,B){return{$$typeof:w,type:v,compare:B===void 0?null:B}},Ue.startTransition=function(v){var B=T.transition;T.transition={};try{v()}finally{T.transition=B}},Ue.unstable_act=Z,Ue.useCallback=function(v,B){return ue.current.useCallback(v,B)},Ue.useContext=function(v){return ue.current.useContext(v)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(v){return ue.current.useDeferredValue(v)},Ue.useEffect=function(v,B){return ue.current.useEffect(v,B)},Ue.useId=function(){return ue.current.useId()},Ue.useImperativeHandle=function(v,B,Q){return ue.current.useImperativeHandle(v,B,Q)},Ue.useInsertionEffect=function(v,B){return ue.current.useInsertionEffect(v,B)},Ue.useLayoutEffect=function(v,B){return ue.current.useLayoutEffect(v,B)},Ue.useMemo=function(v,B){return ue.current.useMemo(v,B)},Ue.useReducer=function(v,B,Q){return ue.current.useReducer(v,B,Q)},Ue.useRef=function(v){return ue.current.useRef(v)},Ue.useState=function(v){return ue.current.useState(v)},Ue.useSyncExternalStore=function(v,B,Q){return ue.current.useSyncExternalStore(v,B,Q)},Ue.useTransition=function(){return ue.current.useTransition()},Ue.version="18.3.1",Ue}var hd;function Na(){return hd||(hd=1,da.exports=Lp()),da.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function Pp(){if(pd)return $i;pd=1;var o=Na(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,w){var b,x={},S=null,_=null;w!==void 0&&(S=""+w),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(_=g.ref);for(b in g)a.call(g,b)&&!d.hasOwnProperty(b)&&(x[b]=g[b]);if(m&&m.defaultProps)for(b in g=m.defaultProps,g)x[b]===void 0&&(x[b]=g[b]);return{$$typeof:r,type:m,key:S,ref:_,props:x,_owner:c.current}}return $i.Fragment=i,$i.jsx=h,$i.jsxs=h,$i}var md;function Mp(){return md||(md=1,ua.exports=Pp()),ua.exports}var f=Mp(),Y=Na();const Yi=Wd(Y);var ao={},fa={exports:{}},Pt={},ha={exports:{}},pa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd;function Rp(){return gd||(gd=1,(function(o){function r(T,te){var Z=T.length;T.push(te);e:for(;0<Z;){var v=Z-1>>>1,B=T[v];if(0<c(B,te))T[v]=te,T[Z]=B,Z=v;else break e}}function i(T){return T.length===0?null:T[0]}function a(T){if(T.length===0)return null;var te=T[0],Z=T.pop();if(Z!==te){T[0]=Z;e:for(var v=0,B=T.length,Q=B>>>1;v<Q;){var ne=2*(v+1)-1,le=T[ne],J=ne+1,Se=T[J];if(0>c(le,Z))J<B&&0>c(Se,le)?(T[v]=Se,T[J]=Z,v=J):(T[v]=le,T[ne]=Z,v=ne);else if(J<B&&0>c(Se,Z))T[v]=Se,T[J]=Z,v=J;else break e}}return te}function c(T,te){var Z=T.sortIndex-te.sortIndex;return Z!==0?Z:T.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;o.unstable_now=function(){return d.now()}}else{var h=Date,m=h.now();o.unstable_now=function(){return h.now()-m}}var g=[],w=[],b=1,x=null,S=3,_=!1,N=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(T){for(var te=i(w);te!==null;){if(te.callback===null)a(w);else if(te.startTime<=T)a(w),te.sortIndex=te.expirationTime,r(g,te);else break;te=i(w)}}function j(T){if(P=!1,V(T),!N)if(i(g)!==null)N=!0,Be(se);else{var te=i(w);te!==null&&ue(j,te.startTime-T)}}function se(T,te){N=!1,P&&(P=!1,z(be),be=-1),_=!0;var Z=S;try{for(V(te),x=i(g);x!==null&&(!(x.expirationTime>te)||T&&!Ee());){var v=x.callback;if(typeof v=="function"){x.callback=null,S=x.priorityLevel;var B=v(x.expirationTime<=te);te=o.unstable_now(),typeof B=="function"?x.callback=B:x===i(g)&&a(g),V(te)}else a(g);x=i(g)}if(x!==null)var Q=!0;else{var ne=i(w);ne!==null&&ue(j,ne.startTime-te),Q=!1}return Q}finally{x=null,S=Z,_=!1}}var O=!1,ge=null,be=-1,pe=5,Ce=-1;function Ee(){return!(o.unstable_now()-Ce<pe)}function Ie(){if(ge!==null){var T=o.unstable_now();Ce=T;var te=!0;try{te=ge(!0,T)}finally{te?K():(O=!1,ge=null)}}else O=!1}var K;if(typeof U=="function")K=function(){U(Ie)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ye=ie.port2;ie.port1.onmessage=Ie,K=function(){ye.postMessage(null)}}else K=function(){W(Ie,0)};function Be(T){ge=T,O||(O=!0,K())}function ue(T,te){be=W(function(){T(o.unstable_now())},te)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(T){T.callback=null},o.unstable_continueExecution=function(){N||_||(N=!0,Be(se))},o.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<T?Math.floor(1e3/T):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_getFirstCallbackNode=function(){return i(g)},o.unstable_next=function(T){switch(S){case 1:case 2:case 3:var te=3;break;default:te=S}var Z=S;S=te;try{return T()}finally{S=Z}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(T,te){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var Z=S;S=T;try{return te()}finally{S=Z}},o.unstable_scheduleCallback=function(T,te,Z){var v=o.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?v+Z:v):Z=v,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Z+B,T={id:b++,callback:te,priorityLevel:T,startTime:Z,expirationTime:B,sortIndex:-1},Z>v?(T.sortIndex=Z,r(w,T),i(g)===null&&T===i(w)&&(P?(z(be),be=-1):P=!0,ue(j,Z-v))):(T.sortIndex=B,r(g,T),N||_||(N=!0,Be(se))),T},o.unstable_shouldYield=Ee,o.unstable_wrapCallback=function(T){var te=S;return function(){var Z=S;S=te;try{return T.apply(this,arguments)}finally{S=Z}}}})(pa)),pa}var xd;function Op(){return xd||(xd=1,ha.exports=Rp()),ha.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function Up(){if(yd)return Pt;yd=1;var o=Na(),r=Op();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},x={};function S(e){return g.call(x,e)?!0:g.call(b,e)?!1:w.test(e)?x[e]=!0:(b[e]=!0,!1)}function _(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,n,s){if(t===null||typeof t>"u"||_(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,n,s,l,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){W[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];W[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){W[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){W[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){W[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){W[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){W[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){W[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){W[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,U);W[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,U);W[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,U);W[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){W[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),W.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){W[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function V(e,t,n,s){var l=W.hasOwnProperty(t)?W[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,n,l,s)&&(n=null),s||l===null?S(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var j=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),O=Symbol.for("react.portal"),ge=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),T=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=T&&e[T]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,v;function B(e){if(v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var Q=!1;function ne(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(M){var s=M}Reflect.construct(e,[],t)}else{try{t.call()}catch(M){s=M}e.call(t.prototype)}else{try{throw Error()}catch(M){s=M}e()}}catch(M){if(M&&s&&typeof M.stack=="string"){for(var l=M.stack.split(`
`),u=s.stack.split(`
`),p=l.length-1,k=u.length-1;1<=p&&0<=k&&l[p]!==u[k];)k--;for(;1<=p&&0<=k;p--,k--)if(l[p]!==u[k]){if(p!==1||k!==1)do if(p--,k--,0>k||l[p]!==u[k]){var C=`
`+l[p].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=p&&0<=k);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function le(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=ne(e.type,!1),e;case 11:return e=ne(e.type.render,!1),e;case 1:return e=ne(e.type,!0),e;default:return""}}function J(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ge:return"Fragment";case O:return"Portal";case pe:return"Profiler";case be:return"StrictMode";case K:return"Suspense";case ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ee:return(e.displayName||"Context")+".Consumer";case Ce:return(e._context.displayName||"Context")+".Provider";case Ie:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:J(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return J(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(t);case 8:return t===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Oe(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(p){s=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ot(e){e._valueTracker||(e._valueTracker=Oe(e))}function Mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ve(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function D(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wt(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function A(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ae(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tt(e,t){t=t.checked,t!=null&&V(e,"checked",t,!1)}function sr(e,t){tt(e,t);var n=Ae(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?or(e,t.type,n):t.hasOwnProperty("defaultValue")&&or(e,t.type,Ae(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ci(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function or(e,t,n){(t!=="number"||D(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var lr=Array.isArray;function Bn(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ae(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function ui(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function di(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(lr(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ae(n)}}function qi(e,t){var n=Ae(t.value),s=Ae(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Rt(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ji(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ir(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ji(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var H,ce=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(H=H||document.createElement("div"),H.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=H.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function we(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","ms","Moz","O"];Object.keys(je).forEach(function(e){Re.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),je[t]=je[e]})});function Le(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||je.hasOwnProperty(e)&&je[e]?(""+t).trim():t+"px"}function Pe(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Le(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var ft=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xe(e,t){if(t){if(ft[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function qe(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $e=null;function Ke(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mt=null,gt=null,rt=null;function Ot(e){if(e=Bi(e)){if(typeof mt!="function")throw Error(i(280));var t=e.stateNode;t&&(t=_s(t),mt(e.stateNode,e.type,t))}}function un(e){gt?rt?rt.push(e):rt=[e]:gt=e}function ar(){if(gt){var e=gt,t=rt;if(rt=gt=null,Ot(e),t)for(e=0;e<t.length;e++)Ot(t[e])}}function es(e,t){return e(t)}function ts(){}var wn=!1;function Fn(e,t,n){if(wn)return e(t,n);wn=!0;try{return es(e,t,n)}finally{wn=!1,(gt!==null||rt!==null)&&(ts(),ar())}}function In(e,t){var n=e.stateNode;if(n===null)return null;var s=_s(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var cr=!1;if(m)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){cr=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{cr=!1}function fi(e,t,n,s,l,u,p,k,C){var M=Array.prototype.slice.call(arguments,3);try{t.apply(n,M)}catch(q){this.onError(q)}}var Ln=!1,ur=null,Vt=!1,dr=null,ns={onError:function(e){Ln=!0,ur=e}};function zf(e,t,n,s,l,u,p,k,C){Ln=!1,ur=null,fi.apply(ns,arguments)}function Hf(e,t,n,s,l,u,p,k,C){if(zf.apply(this,arguments),Ln){if(Ln){var M=ur;Ln=!1,ur=null}else throw Error(i(198));Vt||(Vt=!0,dr=M)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ja(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function La(e){if(fr(e)!==e)throw Error(i(188))}function Gf(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var u=l.alternate;if(u===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===u.child){for(u=l.child;u;){if(u===n)return La(l),e;if(u===s)return La(l),t;u=u.sibling}throw Error(i(188))}if(n.return!==s.return)n=l,s=u;else{for(var p=!1,k=l.child;k;){if(k===n){p=!0,n=l,s=u;break}if(k===s){p=!0,s=l,n=u;break}k=k.sibling}if(!p){for(k=u.child;k;){if(k===n){p=!0,n=u,s=l;break}if(k===s){p=!0,s=u,n=l;break}k=k.sibling}if(!p)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Pa(e){return e=Gf(e),e!==null?Ma(e):null}function Ma(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ma(e);if(t!==null)return t;e=e.sibling}return null}var Ra=r.unstable_scheduleCallback,Oa=r.unstable_cancelCallback,Wf=r.unstable_shouldYield,Vf=r.unstable_requestPaint,at=r.unstable_now,$f=r.unstable_getCurrentPriorityLevel,No=r.unstable_ImmediatePriority,Ua=r.unstable_UserBlockingPriority,rs=r.unstable_NormalPriority,Yf=r.unstable_LowPriority,za=r.unstable_IdlePriority,is=null,dn=null;function Kf(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Zf,Qf=Math.log,Xf=Math.LN2;function Zf(e){return e>>>=0,e===0?32:31-(Qf(e)/Xf|0)|0}var ss=64,os=4194304;function hi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,u=e.pingedLanes,p=n&268435455;if(p!==0){var k=p&~l;k!==0?s=hi(k):(u&=p,u!==0&&(s=hi(u)))}else p=n&~l,p!==0?s=hi(p):u!==0&&(s=hi(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&l)===0&&(l=s&-s,u=t&-t,l>=u||l===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Jt(t),l=1<<n,s|=e[n],t&=~l;return s}function qf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-Jt(u),k=1<<p,C=l[p];C===-1?((k&n)===0||(k&s)!==0)&&(l[p]=qf(k,t)):C<=t&&(e.expiredLanes|=k),u&=~k}}function To(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ha(){var e=ss;return ss<<=1,(ss&4194240)===0&&(ss=64),e}function Bo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function eh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Jt(n),u=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~u}}function Fo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Jt(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var Ye=0;function Ga(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Wa,Io,Va,$a,Ya,jo=!1,as=[],Pn=null,Mn=null,Rn=null,mi=new Map,gi=new Map,On=[],th="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(e,t){switch(e){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gi.delete(t.pointerId)}}function xi(e,t,n,s,l,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[l]},t!==null&&(t=Bi(t),t!==null&&Io(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function nh(e,t,n,s,l){switch(t){case"focusin":return Pn=xi(Pn,e,t,n,s,l),!0;case"dragenter":return Mn=xi(Mn,e,t,n,s,l),!0;case"mouseover":return Rn=xi(Rn,e,t,n,s,l),!0;case"pointerover":var u=l.pointerId;return mi.set(u,xi(mi.get(u)||null,e,t,n,s,l)),!0;case"gotpointercapture":return u=l.pointerId,gi.set(u,xi(gi.get(u)||null,e,t,n,s,l)),!0}return!1}function Qa(e){var t=hr(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=ja(n),t!==null){e.blockedOn=t,Ya(e.priority,function(){Va(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);$e=s,n.target.dispatchEvent(s),$e=null}else return t=Bi(n),t!==null&&Io(t),e.blockedOn=n,!1;t.shift()}return!0}function Xa(e,t,n){cs(e)&&n.delete(t)}function rh(){jo=!1,Pn!==null&&cs(Pn)&&(Pn=null),Mn!==null&&cs(Mn)&&(Mn=null),Rn!==null&&cs(Rn)&&(Rn=null),mi.forEach(Xa),gi.forEach(Xa)}function yi(e,t){e.blockedOn===t&&(e.blockedOn=null,jo||(jo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rh)))}function vi(e){function t(l){return yi(l,e)}if(0<as.length){yi(as[0],e);for(var n=1;n<as.length;n++){var s=as[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Pn!==null&&yi(Pn,e),Mn!==null&&yi(Mn,e),Rn!==null&&yi(Rn,e),mi.forEach(t),gi.forEach(t),n=0;n<On.length;n++)s=On[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)Qa(n),n.blockedOn===null&&On.shift()}var jr=j.ReactCurrentBatchConfig,us=!0;function ih(e,t,n,s){var l=Ye,u=jr.transition;jr.transition=null;try{Ye=1,Lo(e,t,n,s)}finally{Ye=l,jr.transition=u}}function sh(e,t,n,s){var l=Ye,u=jr.transition;jr.transition=null;try{Ye=4,Lo(e,t,n,s)}finally{Ye=l,jr.transition=u}}function Lo(e,t,n,s){if(us){var l=Po(e,t,n,s);if(l===null)Jo(e,t,s,ds,n),Ka(e,s);else if(nh(l,e,t,n,s))s.stopPropagation();else if(Ka(e,s),t&4&&-1<th.indexOf(e)){for(;l!==null;){var u=Bi(l);if(u!==null&&Wa(u),u=Po(e,t,n,s),u===null&&Jo(e,t,s,ds,n),u===l)break;l=u}l!==null&&s.stopPropagation()}else Jo(e,t,s,null,n)}}var ds=null;function Po(e,t,n,s){if(ds=null,e=Ke(s),e=hr(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ja(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ds=e,null}function Za(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($f()){case No:return 1;case Ua:return 4;case rs:case Yf:return 16;case za:return 536870912;default:return 16}default:return 16}}var Un=null,Mo=null,fs=null;function qa(){if(fs)return fs;var e,t=Mo,n=t.length,s,l="value"in Un?Un.value:Un.textContent,u=l.length;for(e=0;e<n&&t[e]===l[e];e++);var p=n-e;for(s=1;s<=p&&t[n-s]===l[u-s];s++);return fs=l.slice(e,1<s?1-s:void 0)}function hs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function Ja(){return!1}function Ut(e){function t(n,s,l,u,p){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(n=e[k],this[k]=n?n(u):u[k]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ps:Ja,this.isPropagationStopped=Ja,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=Ut(Lr),wi=Z({},Lr,{view:0,detail:0}),oh=Ut(wi),Oo,Uo,ki,ms=Z({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ho,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Oo=e.screenX-ki.screenX,Uo=e.screenY-ki.screenY):Uo=Oo=0,ki=e),Oo)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),ec=Ut(ms),lh=Z({},ms,{dataTransfer:0}),ah=Ut(lh),ch=Z({},wi,{relatedTarget:0}),zo=Ut(ch),uh=Z({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),dh=Ut(uh),fh=Z({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hh=Ut(fh),ph=Z({},Lr,{data:0}),tc=Ut(ph),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xh[e])?!!t[e]:!1}function Ho(){return yh}var vh=Z({},wi,{key:function(e){if(e.key){var t=mh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ho,charCode:function(e){return e.type==="keypress"?hs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wh=Ut(vh),kh=Z({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=Ut(kh),Sh=Z({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ho}),_h=Ut(Sh),bh=Z({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ch=Ut(bh),Eh=Z({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ah=Ut(Eh),Dh=[9,13,27,32],Go=m&&"CompositionEvent"in window,Si=null;m&&"documentMode"in document&&(Si=document.documentMode);var Nh=m&&"TextEvent"in window&&!Si,rc=m&&(!Go||Si&&8<Si&&11>=Si),ic=" ",sc=!1;function oc(e,t){switch(e){case"keyup":return Dh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function Th(e,t){switch(e){case"compositionend":return lc(t);case"keypress":return t.which!==32?null:(sc=!0,ic);case"textInput":return e=t.data,e===ic&&sc?null:e;default:return null}}function Bh(e,t){if(Pr)return e==="compositionend"||!Go&&oc(e,t)?(e=qa(),fs=Mo=Un=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rc&&t.locale!=="ko"?null:t.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fh[e.type]:t==="textarea"}function cc(e,t,n,s){un(s),t=ws(t,"onChange"),0<t.length&&(n=new Ro("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var _i=null,bi=null;function Ih(e){Ac(e,0)}function gs(e){var t=zr(e);if(Mt(t))return e}function jh(e,t){if(e==="change")return t}var uc=!1;if(m){var Wo;if(m){var Vo="oninput"in document;if(!Vo){var dc=document.createElement("div");dc.setAttribute("oninput","return;"),Vo=typeof dc.oninput=="function"}Wo=Vo}else Wo=!1;uc=Wo&&(!document.documentMode||9<document.documentMode)}function fc(){_i&&(_i.detachEvent("onpropertychange",hc),bi=_i=null)}function hc(e){if(e.propertyName==="value"&&gs(bi)){var t=[];cc(t,bi,e,Ke(e)),Fn(Ih,t)}}function Lh(e,t,n){e==="focusin"?(fc(),_i=t,bi=n,_i.attachEvent("onpropertychange",hc)):e==="focusout"&&fc()}function Ph(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gs(bi)}function Mh(e,t){if(e==="click")return gs(t)}function Rh(e,t){if(e==="input"||e==="change")return gs(t)}function Oh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var en=typeof Object.is=="function"?Object.is:Oh;function Ci(e,t){if(en(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!g.call(t,l)||!en(e[l],t[l]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var n=pc(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pc(n)}}function gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xc(){for(var e=window,t=D();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=D(e.document)}return t}function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uh(e){var t=xc(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gc(n.ownerDocument.documentElement,n)){if(s!==null&&$o(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,u=Math.min(s.start,l);s=s.end===void 0?u:Math.min(s.end,l),!e.extend&&u>s&&(l=s,s=u,u=l),l=mc(n,u);var p=mc(n,s);l&&p&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zh=m&&"documentMode"in document&&11>=document.documentMode,Mr=null,Yo=null,Ei=null,Ko=!1;function yc(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ko||Mr==null||Mr!==D(s)||(s=Mr,"selectionStart"in s&&$o(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ei&&Ci(Ei,s)||(Ei=s,s=ws(Yo,"onSelect"),0<s.length&&(t=new Ro("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Mr)))}function xs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Rr={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Qo={},vc={};m&&(vc=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function ys(e){if(Qo[e])return Qo[e];if(!Rr[e])return e;var t=Rr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vc)return Qo[e]=t[n];return e}var wc=ys("animationend"),kc=ys("animationiteration"),Sc=ys("animationstart"),_c=ys("transitionend"),bc=new Map,Cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){bc.set(e,t),d(t,[e])}for(var Xo=0;Xo<Cc.length;Xo++){var Zo=Cc[Xo],Hh=Zo.toLowerCase(),Gh=Zo[0].toUpperCase()+Zo.slice(1);zn(Hh,"on"+Gh)}zn(wc,"onAnimationEnd"),zn(kc,"onAnimationIteration"),zn(Sc,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(_c,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Ec(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,Hf(s,t,void 0,e),e.currentTarget=null}function Ac(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var p=s.length-1;0<=p;p--){var k=s[p],C=k.instance,M=k.currentTarget;if(k=k.listener,C!==u&&l.isPropagationStopped())break e;Ec(l,k,M),u=C}else for(p=0;p<s.length;p++){if(k=s[p],C=k.instance,M=k.currentTarget,k=k.listener,C!==u&&l.isPropagationStopped())break e;Ec(l,k,M),u=C}}}if(Vt)throw e=dr,Vt=!1,dr=null,e}function Je(e,t){var n=t[sl];n===void 0&&(n=t[sl]=new Set);var s=e+"__bubble";n.has(s)||(Dc(t,e,2,!1),n.add(s))}function qo(e,t,n){var s=0;t&&(s|=4),Dc(n,e,s,t)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Di(e){if(!e[vs]){e[vs]=!0,a.forEach(function(n){n!=="selectionchange"&&(Wh.has(n)||qo(n,!1,e),qo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vs]||(t[vs]=!0,qo("selectionchange",!1,t))}}function Dc(e,t,n,s){switch(Za(t)){case 1:var l=ih;break;case 4:l=sh;break;default:l=Lo}n=l.bind(null,t,n,e),l=void 0,!cr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Jo(e,t,n,s,l){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var k=s.stateNode.containerInfo;if(k===l||k.nodeType===8&&k.parentNode===l)break;if(p===4)for(p=s.return;p!==null;){var C=p.tag;if((C===3||C===4)&&(C=p.stateNode.containerInfo,C===l||C.nodeType===8&&C.parentNode===l))return;p=p.return}for(;k!==null;){if(p=hr(k),p===null)return;if(C=p.tag,C===5||C===6){s=u=p;continue e}k=k.parentNode}}s=s.return}Fn(function(){var M=u,q=Ke(n),ee=[];e:{var X=bc.get(e);if(X!==void 0){var de=Ro,me=e;switch(e){case"keypress":if(hs(n)===0)break e;case"keydown":case"keyup":de=wh;break;case"focusin":me="focus",de=zo;break;case"focusout":me="blur",de=zo;break;case"beforeblur":case"afterblur":de=zo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=_h;break;case wc:case kc:case Sc:de=dh;break;case _c:de=Ch;break;case"scroll":de=oh;break;case"wheel":de=Ah;break;case"copy":case"cut":case"paste":de=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=nc}var xe=(t&4)!==0,ct=!xe&&e==="scroll",F=xe?X!==null?X+"Capture":null:X;xe=[];for(var E=M,L;E!==null;){L=E;var re=L.stateNode;if(L.tag===5&&re!==null&&(L=re,F!==null&&(re=In(E,F),re!=null&&xe.push(Ni(E,re,L)))),ct)break;E=E.return}0<xe.length&&(X=new de(X,me,null,n,q),ee.push({event:X,listeners:xe}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",X&&n!==$e&&(me=n.relatedTarget||n.fromElement)&&(hr(me)||me[kn]))break e;if((de||X)&&(X=q.window===q?q:(X=q.ownerDocument)?X.defaultView||X.parentWindow:window,de?(me=n.relatedTarget||n.toElement,de=M,me=me?hr(me):null,me!==null&&(ct=fr(me),me!==ct||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=M),de!==me)){if(xe=ec,re="onMouseLeave",F="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(xe=nc,re="onPointerLeave",F="onPointerEnter",E="pointer"),ct=de==null?X:zr(de),L=me==null?X:zr(me),X=new xe(re,E+"leave",de,n,q),X.target=ct,X.relatedTarget=L,re=null,hr(q)===M&&(xe=new xe(F,E+"enter",me,n,q),xe.target=L,xe.relatedTarget=ct,re=xe),ct=re,de&&me)t:{for(xe=de,F=me,E=0,L=xe;L;L=Or(L))E++;for(L=0,re=F;re;re=Or(re))L++;for(;0<E-L;)xe=Or(xe),E--;for(;0<L-E;)F=Or(F),L--;for(;E--;){if(xe===F||F!==null&&xe===F.alternate)break t;xe=Or(xe),F=Or(F)}xe=null}else xe=null;de!==null&&Nc(ee,X,de,xe,!1),me!==null&&ct!==null&&Nc(ee,ct,me,xe,!0)}}e:{if(X=M?zr(M):window,de=X.nodeName&&X.nodeName.toLowerCase(),de==="select"||de==="input"&&X.type==="file")var _e=jh;else if(ac(X))if(uc)_e=Rh;else{_e=Ph;var De=Lh}else(de=X.nodeName)&&de.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(_e=Mh);if(_e&&(_e=_e(e,M))){cc(ee,_e,n,q);break e}De&&De(e,X,M),e==="focusout"&&(De=X._wrapperState)&&De.controlled&&X.type==="number"&&or(X,"number",X.value)}switch(De=M?zr(M):window,e){case"focusin":(ac(De)||De.contentEditable==="true")&&(Mr=De,Yo=M,Ei=null);break;case"focusout":Ei=Yo=Mr=null;break;case"mousedown":Ko=!0;break;case"contextmenu":case"mouseup":case"dragend":Ko=!1,yc(ee,n,q);break;case"selectionchange":if(zh)break;case"keydown":case"keyup":yc(ee,n,q)}var Ne;if(Go)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Pr?oc(e,n)&&(Te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Te="onCompositionStart");Te&&(rc&&n.locale!=="ko"&&(Pr||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Pr&&(Ne=qa()):(Un=q,Mo="value"in Un?Un.value:Un.textContent,Pr=!0)),De=ws(M,Te),0<De.length&&(Te=new tc(Te,e,null,n,q),ee.push({event:Te,listeners:De}),Ne?Te.data=Ne:(Ne=lc(n),Ne!==null&&(Te.data=Ne)))),(Ne=Nh?Th(e,n):Bh(e,n))&&(M=ws(M,"onBeforeInput"),0<M.length&&(q=new tc("onBeforeInput","beforeinput",null,n,q),ee.push({event:q,listeners:M}),q.data=Ne))}Ac(ee,t)})}function Ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ws(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,u=l.stateNode;l.tag===5&&u!==null&&(l=u,u=In(e,n),u!=null&&s.unshift(Ni(e,u,l)),u=In(e,t),u!=null&&s.push(Ni(e,u,l))),e=e.return}return s}function Or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nc(e,t,n,s,l){for(var u=t._reactName,p=[];n!==null&&n!==s;){var k=n,C=k.alternate,M=k.stateNode;if(C!==null&&C===s)break;k.tag===5&&M!==null&&(k=M,l?(C=In(n,u),C!=null&&p.unshift(Ni(n,C,k))):l||(C=In(n,u),C!=null&&p.push(Ni(n,C,k)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Vh=/\r\n?/g,$h=/\u0000|\uFFFD/g;function Tc(e){return(typeof e=="string"?e:""+e).replace(Vh,`
`).replace($h,"")}function ks(e,t,n){if(t=Tc(t),Tc(e)!==t&&n)throw Error(i(425))}function Ss(){}var el=null,tl=null;function nl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rl=typeof setTimeout=="function"?setTimeout:void 0,Yh=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,Kh=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(Qh)}:rl;function Qh(e){setTimeout(function(){throw e})}function il(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),vi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);vi(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ur=Math.random().toString(36).slice(2),fn="__reactFiber$"+Ur,Ti="__reactProps$"+Ur,kn="__reactContainer$"+Ur,sl="__reactEvents$"+Ur,Xh="__reactListeners$"+Ur,Zh="__reactHandles$"+Ur;function hr(e){var t=e[fn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kn]||n[fn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fc(e);e!==null;){if(n=e[fn])return n;e=Fc(e)}return t}e=n,n=e.parentNode}return null}function Bi(e){return e=e[fn]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function _s(e){return e[Ti]||null}var ol=[],Hr=-1;function Gn(e){return{current:e}}function et(e){0>Hr||(e.current=ol[Hr],ol[Hr]=null,Hr--)}function Ze(e,t){Hr++,ol[Hr]=e.current,e.current=t}var Wn={},_t=Gn(Wn),Bt=Gn(!1),pr=Wn;function Gr(e,t){var n=e.type.contextTypes;if(!n)return Wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},u;for(u in n)l[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ft(e){return e=e.childContextTypes,e!=null}function bs(){et(Bt),et(_t)}function Ic(e,t,n){if(_t.current!==Wn)throw Error(i(168));Ze(_t,t),Ze(Bt,n)}function jc(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(i(108,Se(e)||"Unknown",l));return Z({},n,s)}function Cs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,pr=_t.current,Ze(_t,e),Ze(Bt,Bt.current),!0}function Lc(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=jc(e,t,pr),s.__reactInternalMemoizedMergedChildContext=e,et(Bt),et(_t),Ze(_t,e)):et(Bt),Ze(Bt,n)}var Sn=null,Es=!1,ll=!1;function Pc(e){Sn===null?Sn=[e]:Sn.push(e)}function qh(e){Es=!0,Pc(e)}function Vn(){if(!ll&&Sn!==null){ll=!0;var e=0,t=Ye;try{var n=Sn;for(Ye=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Sn=null,Es=!1}catch(l){throw Sn!==null&&(Sn=Sn.slice(e+1)),Ra(No,Vn),l}finally{Ye=t,ll=!1}}return null}var Wr=[],Vr=0,As=null,Ds=0,$t=[],Yt=0,mr=null,_n=1,bn="";function gr(e,t){Wr[Vr++]=Ds,Wr[Vr++]=As,As=e,Ds=t}function Mc(e,t,n){$t[Yt++]=_n,$t[Yt++]=bn,$t[Yt++]=mr,mr=e;var s=_n;e=bn;var l=32-Jt(s)-1;s&=~(1<<l),n+=1;var u=32-Jt(t)+l;if(30<u){var p=l-l%5;u=(s&(1<<p)-1).toString(32),s>>=p,l-=p,_n=1<<32-Jt(t)+l|n<<l|s,bn=u+e}else _n=1<<u|n<<l|s,bn=e}function al(e){e.return!==null&&(gr(e,1),Mc(e,1,0))}function cl(e){for(;e===As;)As=Wr[--Vr],Wr[Vr]=null,Ds=Wr[--Vr],Wr[Vr]=null;for(;e===mr;)mr=$t[--Yt],$t[Yt]=null,bn=$t[--Yt],$t[Yt]=null,_n=$t[--Yt],$t[Yt]=null}var zt=null,Ht=null,nt=!1,tn=null;function Rc(e,t){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Oc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zt=e,Ht=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zt=e,Ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:_n,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zt=e,Ht=null,!0):!1;default:return!1}}function ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dl(e){if(nt){var t=Ht;if(t){var n=t;if(!Oc(e,t)){if(ul(e))throw Error(i(418));t=Hn(n.nextSibling);var s=zt;t&&Oc(e,t)?Rc(s,n):(e.flags=e.flags&-4097|2,nt=!1,zt=e)}}else{if(ul(e))throw Error(i(418));e.flags=e.flags&-4097|2,nt=!1,zt=e}}}function Uc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zt=e}function Ns(e){if(e!==zt)return!1;if(!nt)return Uc(e),nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nl(e.type,e.memoizedProps)),t&&(t=Ht)){if(ul(e))throw zc(),Error(i(418));for(;t;)Rc(e,t),t=Hn(t.nextSibling)}if(Uc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ht=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ht=null}}else Ht=zt?Hn(e.stateNode.nextSibling):null;return!0}function zc(){for(var e=Ht;e;)e=Hn(e.nextSibling)}function $r(){Ht=zt=null,nt=!1}function fl(e){tn===null?tn=[e]:tn.push(e)}var Jh=j.ReactCurrentBatchConfig;function Fi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var l=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var k=l.refs;p===null?delete k[u]:k[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Ts(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hc(e){var t=e._init;return t(e._payload)}function Gc(e){function t(F,E){if(e){var L=F.deletions;L===null?(F.deletions=[E],F.flags|=16):L.push(E)}}function n(F,E){if(!e)return null;for(;E!==null;)t(F,E),E=E.sibling;return null}function s(F,E){for(F=new Map;E!==null;)E.key!==null?F.set(E.key,E):F.set(E.index,E),E=E.sibling;return F}function l(F,E){return F=Jn(F,E),F.index=0,F.sibling=null,F}function u(F,E,L){return F.index=L,e?(L=F.alternate,L!==null?(L=L.index,L<E?(F.flags|=2,E):L):(F.flags|=2,E)):(F.flags|=1048576,E)}function p(F){return e&&F.alternate===null&&(F.flags|=2),F}function k(F,E,L,re){return E===null||E.tag!==6?(E=ra(L,F.mode,re),E.return=F,E):(E=l(E,L),E.return=F,E)}function C(F,E,L,re){var _e=L.type;return _e===ge?q(F,E,L.props.children,re,L.key):E!==null&&(E.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Be&&Hc(_e)===E.type)?(re=l(E,L.props),re.ref=Fi(F,E,L),re.return=F,re):(re=eo(L.type,L.key,L.props,null,F.mode,re),re.ref=Fi(F,E,L),re.return=F,re)}function M(F,E,L,re){return E===null||E.tag!==4||E.stateNode.containerInfo!==L.containerInfo||E.stateNode.implementation!==L.implementation?(E=ia(L,F.mode,re),E.return=F,E):(E=l(E,L.children||[]),E.return=F,E)}function q(F,E,L,re,_e){return E===null||E.tag!==7?(E=br(L,F.mode,re,_e),E.return=F,E):(E=l(E,L),E.return=F,E)}function ee(F,E,L){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ra(""+E,F.mode,L),E.return=F,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case se:return L=eo(E.type,E.key,E.props,null,F.mode,L),L.ref=Fi(F,null,E),L.return=F,L;case O:return E=ia(E,F.mode,L),E.return=F,E;case Be:var re=E._init;return ee(F,re(E._payload),L)}if(lr(E)||te(E))return E=br(E,F.mode,L,null),E.return=F,E;Ts(F,E)}return null}function X(F,E,L,re){var _e=E!==null?E.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return _e!==null?null:k(F,E,""+L,re);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case se:return L.key===_e?C(F,E,L,re):null;case O:return L.key===_e?M(F,E,L,re):null;case Be:return _e=L._init,X(F,E,_e(L._payload),re)}if(lr(L)||te(L))return _e!==null?null:q(F,E,L,re,null);Ts(F,L)}return null}function de(F,E,L,re,_e){if(typeof re=="string"&&re!==""||typeof re=="number")return F=F.get(L)||null,k(E,F,""+re,_e);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case se:return F=F.get(re.key===null?L:re.key)||null,C(E,F,re,_e);case O:return F=F.get(re.key===null?L:re.key)||null,M(E,F,re,_e);case Be:var De=re._init;return de(F,E,L,De(re._payload),_e)}if(lr(re)||te(re))return F=F.get(L)||null,q(E,F,re,_e,null);Ts(E,re)}return null}function me(F,E,L,re){for(var _e=null,De=null,Ne=E,Te=E=0,vt=null;Ne!==null&&Te<L.length;Te++){Ne.index>Te?(vt=Ne,Ne=null):vt=Ne.sibling;var Ve=X(F,Ne,L[Te],re);if(Ve===null){Ne===null&&(Ne=vt);break}e&&Ne&&Ve.alternate===null&&t(F,Ne),E=u(Ve,E,Te),De===null?_e=Ve:De.sibling=Ve,De=Ve,Ne=vt}if(Te===L.length)return n(F,Ne),nt&&gr(F,Te),_e;if(Ne===null){for(;Te<L.length;Te++)Ne=ee(F,L[Te],re),Ne!==null&&(E=u(Ne,E,Te),De===null?_e=Ne:De.sibling=Ne,De=Ne);return nt&&gr(F,Te),_e}for(Ne=s(F,Ne);Te<L.length;Te++)vt=de(Ne,F,Te,L[Te],re),vt!==null&&(e&&vt.alternate!==null&&Ne.delete(vt.key===null?Te:vt.key),E=u(vt,E,Te),De===null?_e=vt:De.sibling=vt,De=vt);return e&&Ne.forEach(function(er){return t(F,er)}),nt&&gr(F,Te),_e}function xe(F,E,L,re){var _e=te(L);if(typeof _e!="function")throw Error(i(150));if(L=_e.call(L),L==null)throw Error(i(151));for(var De=_e=null,Ne=E,Te=E=0,vt=null,Ve=L.next();Ne!==null&&!Ve.done;Te++,Ve=L.next()){Ne.index>Te?(vt=Ne,Ne=null):vt=Ne.sibling;var er=X(F,Ne,Ve.value,re);if(er===null){Ne===null&&(Ne=vt);break}e&&Ne&&er.alternate===null&&t(F,Ne),E=u(er,E,Te),De===null?_e=er:De.sibling=er,De=er,Ne=vt}if(Ve.done)return n(F,Ne),nt&&gr(F,Te),_e;if(Ne===null){for(;!Ve.done;Te++,Ve=L.next())Ve=ee(F,Ve.value,re),Ve!==null&&(E=u(Ve,E,Te),De===null?_e=Ve:De.sibling=Ve,De=Ve);return nt&&gr(F,Te),_e}for(Ne=s(F,Ne);!Ve.done;Te++,Ve=L.next())Ve=de(Ne,F,Te,Ve.value,re),Ve!==null&&(e&&Ve.alternate!==null&&Ne.delete(Ve.key===null?Te:Ve.key),E=u(Ve,E,Te),De===null?_e=Ve:De.sibling=Ve,De=Ve);return e&&Ne.forEach(function(Fp){return t(F,Fp)}),nt&&gr(F,Te),_e}function ct(F,E,L,re){if(typeof L=="object"&&L!==null&&L.type===ge&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case se:e:{for(var _e=L.key,De=E;De!==null;){if(De.key===_e){if(_e=L.type,_e===ge){if(De.tag===7){n(F,De.sibling),E=l(De,L.props.children),E.return=F,F=E;break e}}else if(De.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Be&&Hc(_e)===De.type){n(F,De.sibling),E=l(De,L.props),E.ref=Fi(F,De,L),E.return=F,F=E;break e}n(F,De);break}else t(F,De);De=De.sibling}L.type===ge?(E=br(L.props.children,F.mode,re,L.key),E.return=F,F=E):(re=eo(L.type,L.key,L.props,null,F.mode,re),re.ref=Fi(F,E,L),re.return=F,F=re)}return p(F);case O:e:{for(De=L.key;E!==null;){if(E.key===De)if(E.tag===4&&E.stateNode.containerInfo===L.containerInfo&&E.stateNode.implementation===L.implementation){n(F,E.sibling),E=l(E,L.children||[]),E.return=F,F=E;break e}else{n(F,E);break}else t(F,E);E=E.sibling}E=ia(L,F.mode,re),E.return=F,F=E}return p(F);case Be:return De=L._init,ct(F,E,De(L._payload),re)}if(lr(L))return me(F,E,L,re);if(te(L))return xe(F,E,L,re);Ts(F,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,E!==null&&E.tag===6?(n(F,E.sibling),E=l(E,L),E.return=F,F=E):(n(F,E),E=ra(L,F.mode,re),E.return=F,F=E),p(F)):n(F,E)}return ct}var Yr=Gc(!0),Wc=Gc(!1),Bs=Gn(null),Fs=null,Kr=null,hl=null;function pl(){hl=Kr=Fs=null}function ml(e){var t=Bs.current;et(Bs),e._currentValue=t}function gl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Qr(e,t){Fs=e,hl=Kr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(It=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(hl!==e)if(e={context:e,memoizedValue:t,next:null},Kr===null){if(Fs===null)throw Error(i(308));Kr=e,Fs.dependencies={lanes:0,firstContext:e}}else Kr=Kr.next=e;return t}var xr=null;function xl(e){xr===null?xr=[e]:xr.push(e)}function Vc(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,xl(t)):(n.next=l.next,l.next=n),t.interleaved=n,Cn(e,s)}function Cn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,Cn(e,n)}return l=s.interleaved,l===null?(t.next=t,xl(s)):(t.next=l.next,l.next=t),s.interleaved=t,Cn(e,n)}function Is(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fo(e,n)}}function Yc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?l=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?l=u=t:u=u.next=t}else l=u=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,s){var l=e.updateQueue;$n=!1;var u=l.firstBaseUpdate,p=l.lastBaseUpdate,k=l.shared.pending;if(k!==null){l.shared.pending=null;var C=k,M=C.next;C.next=null,p===null?u=M:p.next=M,p=C;var q=e.alternate;q!==null&&(q=q.updateQueue,k=q.lastBaseUpdate,k!==p&&(k===null?q.firstBaseUpdate=M:k.next=M,q.lastBaseUpdate=C))}if(u!==null){var ee=l.baseState;p=0,q=M=C=null,k=u;do{var X=k.lane,de=k.eventTime;if((s&X)===X){q!==null&&(q=q.next={eventTime:de,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var me=e,xe=k;switch(X=t,de=n,xe.tag){case 1:if(me=xe.payload,typeof me=="function"){ee=me.call(de,ee,X);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,X=typeof me=="function"?me.call(de,ee,X):me,X==null)break e;ee=Z({},ee,X);break e;case 2:$n=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,X=l.effects,X===null?l.effects=[k]:X.push(k))}else de={eventTime:de,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},q===null?(M=q=de,C=ee):q=q.next=de,p|=X;if(k=k.next,k===null){if(k=l.shared.pending,k===null)break;X=k,k=X.next,X.next=null,l.lastBaseUpdate=X,l.shared.pending=null}}while(!0);if(q===null&&(C=ee),l.baseState=C,l.firstBaseUpdate=M,l.lastBaseUpdate=q,t=l.shared.interleaved,t!==null){l=t;do p|=l.lane,l=l.next;while(l!==t)}else u===null&&(l.shared.lanes=0);wr|=p,e.lanes=p,e.memoizedState=ee}}function Kc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(i(191,l));l.call(s)}}}var Ii={},hn=Gn(Ii),ji=Gn(Ii),Li=Gn(Ii);function yr(e){if(e===Ii)throw Error(i(174));return e}function vl(e,t){switch(Ze(Li,t),Ze(ji,e),Ze(hn,Ii),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ir(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ir(t,e)}et(hn),Ze(hn,t)}function Xr(){et(hn),et(ji),et(Li)}function Qc(e){yr(Li.current);var t=yr(hn.current),n=Ir(t,e.type);t!==n&&(Ze(ji,e),Ze(hn,n))}function wl(e){ji.current===e&&(et(hn),et(ji))}var it=Gn(0);function Ls(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function Sl(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var Ps=j.ReactCurrentDispatcher,_l=j.ReactCurrentBatchConfig,vr=0,st=null,ht=null,xt=null,Ms=!1,Pi=!1,Mi=0,ep=0;function bt(){throw Error(i(321))}function bl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!en(e[n],t[n]))return!1;return!0}function Cl(e,t,n,s,l,u){if(vr=u,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ps.current=e===null||e.memoizedState===null?ip:sp,e=n(s,l),Pi){u=0;do{if(Pi=!1,Mi=0,25<=u)throw Error(i(301));u+=1,xt=ht=null,t.updateQueue=null,Ps.current=op,e=n(s,l)}while(Pi)}if(Ps.current=Us,t=ht!==null&&ht.next!==null,vr=0,xt=ht=st=null,Ms=!1,t)throw Error(i(300));return e}function El(){var e=Mi!==0;return Mi=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?st.memoizedState=xt=e:xt=xt.next=e,xt}function Qt(){if(ht===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=xt===null?st.memoizedState:xt.next;if(t!==null)xt=t,ht=e;else{if(e===null)throw Error(i(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},xt===null?st.memoizedState=xt=e:xt=xt.next=e}return xt}function Ri(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=ht,l=s.baseQueue,u=n.pending;if(u!==null){if(l!==null){var p=l.next;l.next=u.next,u.next=p}s.baseQueue=l=u,n.pending=null}if(l!==null){u=l.next,s=s.baseState;var k=p=null,C=null,M=u;do{var q=M.lane;if((vr&q)===q)C!==null&&(C=C.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),s=M.hasEagerState?M.eagerState:e(s,M.action);else{var ee={lane:q,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};C===null?(k=C=ee,p=s):C=C.next=ee,st.lanes|=q,wr|=q}M=M.next}while(M!==null&&M!==u);C===null?p=s:C.next=k,en(s,t.memoizedState)||(It=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=C,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do u=l.lane,st.lanes|=u,wr|=u,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Dl(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,u=t.memoizedState;if(l!==null){n.pending=null;var p=l=l.next;do u=e(u,p.action),p=p.next;while(p!==l);en(u,t.memoizedState)||(It=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function Xc(){}function Zc(e,t){var n=st,s=Qt(),l=t(),u=!en(s.memoizedState,l);if(u&&(s.memoizedState=l,It=!0),s=s.queue,Nl(eu.bind(null,n,s,e),[e]),s.getSnapshot!==t||u||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,Oi(9,Jc.bind(null,n,s,l,t),void 0,null),yt===null)throw Error(i(349));(vr&30)!==0||qc(n,t,l)}return l}function qc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jc(e,t,n,s){t.value=n,t.getSnapshot=s,tu(t)&&nu(e)}function eu(e,t,n){return n(function(){tu(t)&&nu(e)})}function tu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!en(e,n)}catch{return!0}}function nu(e){var t=Cn(e,1);t!==null&&on(t,e,1,-1)}function ru(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:e},t.queue=e,e=e.dispatch=rp.bind(null,st,e),[t.memoizedState,e]}function Oi(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function iu(){return Qt().memoizedState}function Rs(e,t,n,s){var l=pn();st.flags|=e,l.memoizedState=Oi(1|t,n,void 0,s===void 0?null:s)}function Os(e,t,n,s){var l=Qt();s=s===void 0?null:s;var u=void 0;if(ht!==null){var p=ht.memoizedState;if(u=p.destroy,s!==null&&bl(s,p.deps)){l.memoizedState=Oi(t,n,u,s);return}}st.flags|=e,l.memoizedState=Oi(1|t,n,u,s)}function su(e,t){return Rs(8390656,8,e,t)}function Nl(e,t){return Os(2048,8,e,t)}function ou(e,t){return Os(4,2,e,t)}function lu(e,t){return Os(4,4,e,t)}function au(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cu(e,t,n){return n=n!=null?n.concat([e]):null,Os(4,4,au.bind(null,t,e),n)}function Tl(){}function uu(e,t){var n=Qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function du(e,t){var n=Qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&bl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function fu(e,t,n){return(vr&21)===0?(e.baseState&&(e.baseState=!1,It=!0),e.memoizedState=n):(en(n,t)||(n=Ha(),st.lanes|=n,wr|=n,e.baseState=!0),t)}function tp(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var s=_l.transition;_l.transition={};try{e(!1),t()}finally{Ye=n,_l.transition=s}}function hu(){return Qt().memoizedState}function np(e,t,n){var s=Zn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},pu(e))mu(t,n);else if(n=Vc(e,t,n,s),n!==null){var l=Nt();on(n,e,s,l),gu(n,t,s)}}function rp(e,t,n){var s=Zn(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(pu(e))mu(t,l);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,k=u(p,n);if(l.hasEagerState=!0,l.eagerState=k,en(k,p)){var C=t.interleaved;C===null?(l.next=l,xl(t)):(l.next=C.next,C.next=l),t.interleaved=l;return}}catch{}finally{}n=Vc(e,t,l,s),n!==null&&(l=Nt(),on(n,e,s,l),gu(n,t,s))}}function pu(e){var t=e.alternate;return e===st||t!==null&&t===st}function mu(e,t){Pi=Ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gu(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Fo(e,n)}}var Us={readContext:Kt,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},ip={readContext:Kt,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:su,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Rs(4194308,4,au.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=pn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=pn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=np.bind(null,st,e),[s.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:ru,useDebugValue:Tl,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=ru(!1),t=e[0];return e=tp.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=st,l=pn();if(nt){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),yt===null)throw Error(i(349));(vr&30)!==0||qc(s,t,n)}l.memoizedState=n;var u={value:n,getSnapshot:t};return l.queue=u,su(eu.bind(null,s,u,e),[e]),s.flags|=2048,Oi(9,Jc.bind(null,s,u,n,t),void 0,null),n},useId:function(){var e=pn(),t=yt.identifierPrefix;if(nt){var n=bn,s=_n;n=(s&~(1<<32-Jt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ep++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sp={readContext:Kt,useCallback:uu,useContext:Kt,useEffect:Nl,useImperativeHandle:cu,useInsertionEffect:ou,useLayoutEffect:lu,useMemo:du,useReducer:Al,useRef:iu,useState:function(){return Al(Ri)},useDebugValue:Tl,useDeferredValue:function(e){var t=Qt();return fu(t,ht.memoizedState,e)},useTransition:function(){var e=Al(Ri)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Xc,useSyncExternalStore:Zc,useId:hu,unstable_isNewReconciler:!1},op={readContext:Kt,useCallback:uu,useContext:Kt,useEffect:Nl,useImperativeHandle:cu,useInsertionEffect:ou,useLayoutEffect:lu,useMemo:du,useReducer:Dl,useRef:iu,useState:function(){return Dl(Ri)},useDebugValue:Tl,useDeferredValue:function(e){var t=Qt();return ht===null?t.memoizedState=e:fu(t,ht.memoizedState,e)},useTransition:function(){var e=Dl(Ri)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Xc,useSyncExternalStore:Zc,useId:hu,unstable_isNewReconciler:!1};function nn(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Nt(),l=Zn(e),u=En(s,l);u.payload=t,n!=null&&(u.callback=n),t=Yn(e,u,l),t!==null&&(on(t,e,l,s),Is(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Nt(),l=Zn(e),u=En(s,l);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Yn(e,u,l),t!==null&&(on(t,e,l,s),Is(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),s=Zn(e),l=En(n,s);l.tag=2,t!=null&&(l.callback=t),t=Yn(e,l,s),t!==null&&(on(t,e,s,n),Is(t,e,s))}};function xu(e,t,n,s,l,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,p):t.prototype&&t.prototype.isPureReactComponent?!Ci(n,s)||!Ci(l,u):!0}function yu(e,t,n){var s=!1,l=Wn,u=t.contextType;return typeof u=="object"&&u!==null?u=Kt(u):(l=Ft(t)?pr:_t.current,s=t.contextTypes,u=(s=s!=null)?Gr(e,l):Wn),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=u),t}function vu(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Fl(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},yl(e);var u=t.contextType;typeof u=="object"&&u!==null?l.context=Kt(u):(u=Ft(t)?pr:_t.current,l.context=Gr(e,u)),l.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(Bl(e,t,u,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&zs.enqueueReplaceState(l,l.state,null),js(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var n="",s=t;do n+=le(s),s=s.return;while(s);var l=n}catch(u){l=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:l,digest:null}}function Il(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lp=typeof WeakMap=="function"?WeakMap:Map;function wu(e,t,n){n=En(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ks||(Ks=!0,Ql=s),jl(e,t)},n}function ku(e,t,n){n=En(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){jl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){jl(e,t),typeof s!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Su(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new lp;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=kp.bind(null,e,t,n),t.then(e,e))}function _u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bu(e,t,n,s,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=En(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var ap=j.ReactCurrentOwner,It=!1;function Dt(e,t,n,s){t.child=e===null?Wc(t,null,n,s):Yr(t,e.child,n,s)}function Cu(e,t,n,s,l){n=n.render;var u=t.ref;return Qr(t,l),s=Cl(e,t,n,s,u,l),n=El(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,An(e,t,l)):(nt&&n&&al(t),t.flags|=1,Dt(e,t,s,l),t.child)}function Eu(e,t,n,s,l){if(e===null){var u=n.type;return typeof u=="function"&&!na(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,Au(e,t,u,s,l)):(e=eo(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&l)===0){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ci,n(p,s)&&e.ref===t.ref)return An(e,t,l)}return t.flags|=1,e=Jn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Au(e,t,n,s,l){if(e!==null){var u=e.memoizedProps;if(Ci(u,s)&&e.ref===t.ref)if(It=!1,t.pendingProps=s=u,(e.lanes&l)!==0)(e.flags&131072)!==0&&(It=!0);else return t.lanes=e.lanes,An(e,t,l)}return Ll(e,t,n,s,l)}function Du(e,t,n){var s=t.pendingProps,l=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Jr,Gt),Gt|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Jr,Gt),Gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:n,Ze(Jr,Gt),Gt|=s}else u!==null?(s=u.baseLanes|n,t.memoizedState=null):s=n,Ze(Jr,Gt),Gt|=s;return Dt(e,t,l,n),t.child}function Nu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,s,l){var u=Ft(n)?pr:_t.current;return u=Gr(t,u),Qr(t,l),n=Cl(e,t,n,s,u,l),s=El(),e!==null&&!It?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,An(e,t,l)):(nt&&s&&al(t),t.flags|=1,Dt(e,t,n,l),t.child)}function Tu(e,t,n,s,l){if(Ft(n)){var u=!0;Cs(t)}else u=!1;if(Qr(t,l),t.stateNode===null)Gs(e,t),yu(t,n,s),Fl(t,n,s,l),s=!0;else if(e===null){var p=t.stateNode,k=t.memoizedProps;p.props=k;var C=p.context,M=n.contextType;typeof M=="object"&&M!==null?M=Kt(M):(M=Ft(n)?pr:_t.current,M=Gr(t,M));var q=n.getDerivedStateFromProps,ee=typeof q=="function"||typeof p.getSnapshotBeforeUpdate=="function";ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(k!==s||C!==M)&&vu(t,p,s,M),$n=!1;var X=t.memoizedState;p.state=X,js(t,s,p,l),C=t.memoizedState,k!==s||X!==C||Bt.current||$n?(typeof q=="function"&&(Bl(t,n,q,s),C=t.memoizedState),(k=$n||xu(t,n,k,s,X,C,M))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),p.props=s,p.state=C,p.context=M,s=k):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,$c(e,t),k=t.memoizedProps,M=t.type===t.elementType?k:nn(t.type,k),p.props=M,ee=t.pendingProps,X=p.context,C=n.contextType,typeof C=="object"&&C!==null?C=Kt(C):(C=Ft(n)?pr:_t.current,C=Gr(t,C));var de=n.getDerivedStateFromProps;(q=typeof de=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(k!==ee||X!==C)&&vu(t,p,s,C),$n=!1,X=t.memoizedState,p.state=X,js(t,s,p,l);var me=t.memoizedState;k!==ee||X!==me||Bt.current||$n?(typeof de=="function"&&(Bl(t,n,de,s),me=t.memoizedState),(M=$n||xu(t,n,M,s,X,me,C)||!1)?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,me,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,me,C)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=me),p.props=s,p.state=me,p.context=C,s=M):(typeof p.componentDidUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),s=!1)}return Pl(e,t,n,s,u,l)}function Pl(e,t,n,s,l,u){Nu(e,t);var p=(t.flags&128)!==0;if(!s&&!p)return l&&Lc(t,n,!1),An(e,t,u);s=t.stateNode,ap.current=t;var k=p&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&p?(t.child=Yr(t,e.child,null,u),t.child=Yr(t,null,k,u)):Dt(e,t,k,u),t.memoizedState=s.state,l&&Lc(t,n,!0),t.child}function Bu(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),vl(e,t.containerInfo)}function Fu(e,t,n,s,l){return $r(),fl(l),t.flags|=256,Dt(e,t,n,s),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Iu(e,t,n){var s=t.pendingProps,l=it.current,u=!1,p=(t.flags&128)!==0,k;if((k=p)||(k=e!==null&&e.memoizedState===null?!1:(l&2)!==0),k?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Ze(it,l&1),e===null)return dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=s.children,e=s.fallback,u?(s=t.mode,u=t.child,p={mode:"hidden",children:p},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=p):u=to(p,s,0,null),e=br(e,s,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Rl(n),t.memoizedState=Ml,e):Ol(t,p));if(l=e.memoizedState,l!==null&&(k=l.dehydrated,k!==null))return cp(e,t,p,s,k,l,n);if(u){u=s.fallback,p=t.mode,l=e.child,k=l.sibling;var C={mode:"hidden",children:s.children};return(p&1)===0&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=C,t.deletions=null):(s=Jn(l,C),s.subtreeFlags=l.subtreeFlags&14680064),k!==null?u=Jn(k,u):(u=br(u,p,n,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,p=e.child.memoizedState,p=p===null?Rl(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~n,t.memoizedState=Ml,s}return u=e.child,e=u.sibling,s=Jn(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Ol(e,t){return t=to({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hs(e,t,n,s){return s!==null&&fl(s),Yr(t,e.child,null,n),e=Ol(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cp(e,t,n,s,l,u,p){if(n)return t.flags&256?(t.flags&=-257,s=Il(Error(i(422))),Hs(e,t,p,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,l=t.mode,s=to({mode:"visible",children:s.children},l,0,null),u=br(u,l,p,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&Yr(t,e.child,null,p),t.child.memoizedState=Rl(p),t.memoizedState=Ml,u);if((t.mode&1)===0)return Hs(e,t,p,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var k=s.dgst;return s=k,u=Error(i(419)),s=Il(u,s,void 0),Hs(e,t,p,s)}if(k=(p&e.childLanes)!==0,It||k){if(s=yt,s!==null){switch(p&-p){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(s.suspendedLanes|p))!==0?0:l,l!==0&&l!==u.retryLane&&(u.retryLane=l,Cn(e,l),on(s,e,l,-1))}return ta(),s=Il(Error(i(421))),Hs(e,t,p,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Sp.bind(null,e),l._reactRetry=t,null):(e=u.treeContext,Ht=Hn(l.nextSibling),zt=t,nt=!0,tn=null,e!==null&&($t[Yt++]=_n,$t[Yt++]=bn,$t[Yt++]=mr,_n=e.id,bn=e.overflow,mr=t),t=Ol(t,s.children),t.flags|=4096,t)}function ju(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),gl(e.return,t,n)}function Ul(e,t,n,s,l){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=n,u.tailMode=l)}function Lu(e,t,n){var s=t.pendingProps,l=s.revealOrder,u=s.tail;if(Dt(e,t,s.children,n),s=it.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ju(e,n,t);else if(e.tag===19)ju(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ze(it,s),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ls(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ul(t,!1,l,n,u);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ls(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ul(t,!0,n,null,u);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function up(e,t,n){switch(t.tag){case 3:Bu(t),$r();break;case 5:Qc(t);break;case 1:Ft(t.type)&&Cs(t);break;case 4:vl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Ze(Bs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ze(it,it.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Iu(e,t,n):(Ze(it,it.current&1),e=An(e,t,n),e!==null?e.sibling:null);Ze(it,it.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Lu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Ze(it,it.current),s)break;return null;case 22:case 23:return t.lanes=0,Du(e,t,n)}return An(e,t,n)}var Pu,zl,Mu,Ru;Pu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},zl=function(){},Mu=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,yr(hn.current);var u=null;switch(n){case"input":l=wt(e,l),s=wt(e,s),u=[];break;case"select":l=Z({},l,{value:void 0}),s=Z({},s,{value:void 0}),u=[];break;case"textarea":l=ui(e,l),s=ui(e,s),u=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ss)}Xe(n,s);var p;n=null;for(M in l)if(!s.hasOwnProperty(M)&&l.hasOwnProperty(M)&&l[M]!=null)if(M==="style"){var k=l[M];for(p in k)k.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(c.hasOwnProperty(M)?u||(u=[]):(u=u||[]).push(M,null));for(M in s){var C=s[M];if(k=l!=null?l[M]:void 0,s.hasOwnProperty(M)&&C!==k&&(C!=null||k!=null))if(M==="style")if(k){for(p in k)!k.hasOwnProperty(p)||C&&C.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in C)C.hasOwnProperty(p)&&k[p]!==C[p]&&(n||(n={}),n[p]=C[p])}else n||(u||(u=[]),u.push(M,n)),n=C;else M==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,k=k?k.__html:void 0,C!=null&&k!==C&&(u=u||[]).push(M,C)):M==="children"?typeof C!="string"&&typeof C!="number"||(u=u||[]).push(M,""+C):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(c.hasOwnProperty(M)?(C!=null&&M==="onScroll"&&Je("scroll",e),u||k===C||(u=[])):(u=u||[]).push(M,C))}n&&(u=u||[]).push("style",n);var M=u;(t.updateQueue=M)&&(t.flags|=4)}},Ru=function(e,t,n,s){n!==s&&(t.flags|=4)};function Ui(e,t){if(!nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function dp(e,t,n){var s=t.pendingProps;switch(cl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ft(t.type)&&bs(),Ct(t),null;case 3:return s=t.stateNode,Xr(),et(Bt),et(_t),Sl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tn!==null&&(ql(tn),tn=null))),zl(e,t),Ct(t),null;case 5:wl(t);var l=yr(Li.current);if(n=t.type,e!==null&&t.stateNode!=null)Mu(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ct(t),null}if(e=yr(hn.current),Ns(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[fn]=t,s[Ti]=u,e=(t.mode&1)!==0,n){case"dialog":Je("cancel",s),Je("close",s);break;case"iframe":case"object":case"embed":Je("load",s);break;case"video":case"audio":for(l=0;l<Ai.length;l++)Je(Ai[l],s);break;case"source":Je("error",s);break;case"img":case"image":case"link":Je("error",s),Je("load",s);break;case"details":Je("toggle",s);break;case"input":A(s,u),Je("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Je("invalid",s);break;case"textarea":di(s,u),Je("invalid",s)}Xe(n,u),l=null;for(var p in u)if(u.hasOwnProperty(p)){var k=u[p];p==="children"?typeof k=="string"?s.textContent!==k&&(u.suppressHydrationWarning!==!0&&ks(s.textContent,k,e),l=["children",k]):typeof k=="number"&&s.textContent!==""+k&&(u.suppressHydrationWarning!==!0&&ks(s.textContent,k,e),l=["children",""+k]):c.hasOwnProperty(p)&&k!=null&&p==="onScroll"&&Je("scroll",s)}switch(n){case"input":ot(s),ci(s,u,!0);break;case"textarea":ot(s),Rt(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=Ss)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ji(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(n,{is:s.is}):(e=p.createElement(n),n==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,n),e[fn]=t,e[Ti]=s,Pu(e,t,!1,!1),t.stateNode=e;e:{switch(p=qe(n,s),n){case"dialog":Je("cancel",e),Je("close",e),l=s;break;case"iframe":case"object":case"embed":Je("load",e),l=s;break;case"video":case"audio":for(l=0;l<Ai.length;l++)Je(Ai[l],e);l=s;break;case"source":Je("error",e),l=s;break;case"img":case"image":case"link":Je("error",e),Je("load",e),l=s;break;case"details":Je("toggle",e),l=s;break;case"input":A(e,s),l=wt(e,s),Je("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=Z({},s,{value:void 0}),Je("invalid",e);break;case"textarea":di(e,s),l=ui(e,s),Je("invalid",e);break;default:l=s}Xe(n,l),k=l;for(u in k)if(k.hasOwnProperty(u)){var C=k[u];u==="style"?Pe(e,C):u==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&ce(e,C)):u==="children"?typeof C=="string"?(n!=="textarea"||C!=="")&&we(e,C):typeof C=="number"&&we(e,""+C):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?C!=null&&u==="onScroll"&&Je("scroll",e):C!=null&&V(e,u,C,p))}switch(n){case"input":ot(e),ci(e,s,!1);break;case"textarea":ot(e),Rt(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ae(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Bn(e,!!s.multiple,u,!1):s.defaultValue!=null&&Bn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Ss)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)Ru(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=yr(Li.current),yr(hn.current),Ns(t)){if(s=t.stateNode,n=t.memoizedProps,s[fn]=t,(u=s.nodeValue!==n)&&(e=zt,e!==null))switch(e.tag){case 3:ks(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(s.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[fn]=t,t.stateNode=s}return Ct(t),null;case 13:if(et(it),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nt&&Ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)zc(),$r(),t.flags|=98560,u=!1;else if(u=Ns(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[fn]=t}else $r(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),u=!1}else tn!==null&&(ql(tn),tn=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(it.current&1)!==0?pt===0&&(pt=3):ta())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Xr(),zl(e,t),e===null&&Di(t.stateNode.containerInfo),Ct(t),null;case 10:return ml(t.type._context),Ct(t),null;case 17:return Ft(t.type)&&bs(),Ct(t),null;case 19:if(et(it),u=t.memoizedState,u===null)return Ct(t),null;if(s=(t.flags&128)!==0,p=u.rendering,p===null)if(s)Ui(u,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Ls(e),p!==null){for(t.flags|=128,Ui(u,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)u=n,e=s,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(it,it.current&1|2),t.child}e=e.sibling}u.tail!==null&&at()>ei&&(t.flags|=128,s=!0,Ui(u,!1),t.lanes=4194304)}else{if(!s)if(e=Ls(p),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ui(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!nt)return Ct(t),null}else 2*at()-u.renderingStartTime>ei&&n!==1073741824&&(t.flags|=128,s=!0,Ui(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(n=u.last,n!==null?n.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=at(),t.sibling=null,n=it.current,Ze(it,s?n&1|2:n&1),t):(Ct(t),null);case 22:case 23:return ea(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Gt&1073741824)!==0&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function fp(e,t){switch(cl(t),t.tag){case 1:return Ft(t.type)&&bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),et(Bt),et(_t),Sl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return wl(t),null;case 13:if(et(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));$r()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(it),null;case 4:return Xr(),null;case 10:return ml(t.type._context),null;case 22:case 23:return ea(),null;case 24:return null;default:return null}}var Ws=!1,Et=!1,hp=typeof WeakSet=="function"?WeakSet:Set,he=null;function qr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){lt(e,t,s)}else n.current=null}function Hl(e,t,n){try{n()}catch(s){lt(e,t,s)}}var Ou=!1;function pp(e,t){if(el=us,e=xc(),$o(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,k=-1,C=-1,M=0,q=0,ee=e,X=null;t:for(;;){for(var de;ee!==n||l!==0&&ee.nodeType!==3||(k=p+l),ee!==u||s!==0&&ee.nodeType!==3||(C=p+s),ee.nodeType===3&&(p+=ee.nodeValue.length),(de=ee.firstChild)!==null;)X=ee,ee=de;for(;;){if(ee===e)break t;if(X===n&&++M===l&&(k=p),X===u&&++q===s&&(C=p),(de=ee.nextSibling)!==null)break;ee=X,X=ee.parentNode}ee=de}n=k===-1||C===-1?null:{start:k,end:C}}else n=null}n=n||{start:0,end:0}}else n=null;for(tl={focusedElem:e,selectionRange:n},us=!1,he=t;he!==null;)if(t=he,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,he=e;else for(;he!==null;){t=he;try{var me=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var xe=me.memoizedProps,ct=me.memoizedState,F=t.stateNode,E=F.getSnapshotBeforeUpdate(t.elementType===t.type?xe:nn(t.type,xe),ct);F.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(re){lt(t,t.return,re)}if(e=t.sibling,e!==null){e.return=t.return,he=e;break}he=t.return}return me=Ou,Ou=!1,me}function zi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var u=l.destroy;l.destroy=void 0,u!==void 0&&Hl(t,n,u)}l=l.next}while(l!==s)}}function Vs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Gl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Uu(e){var t=e.alternate;t!==null&&(e.alternate=null,Uu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Ti],delete t[sl],delete t[Xh],delete t[Zh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zu(e){return e.tag===5||e.tag===3||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ss));else if(s!==4&&(e=e.child,e!==null))for(Wl(e,t,n),e=e.sibling;e!==null;)Wl(e,t,n),e=e.sibling}function Vl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Vl(e,t,n),e=e.sibling;e!==null;)Vl(e,t,n),e=e.sibling}var kt=null,rn=!1;function Kn(e,t,n){for(n=n.child;n!==null;)Gu(e,t,n),n=n.sibling}function Gu(e,t,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(is,n)}catch{}switch(n.tag){case 5:Et||qr(n,t);case 6:var s=kt,l=rn;kt=null,Kn(e,t,n),kt=s,rn=l,kt!==null&&(rn?(e=kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(rn?(e=kt,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),vi(e)):il(kt,n.stateNode));break;case 4:s=kt,l=rn,kt=n.stateNode.containerInfo,rn=!0,Kn(e,t,n),kt=s,rn=l;break;case 0:case 11:case 14:case 15:if(!Et&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var u=l,p=u.destroy;u=u.tag,p!==void 0&&((u&2)!==0||(u&4)!==0)&&Hl(n,t,p),l=l.next}while(l!==s)}Kn(e,t,n);break;case 1:if(!Et&&(qr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(k){lt(n,t,k)}Kn(e,t,n);break;case 21:Kn(e,t,n);break;case 22:n.mode&1?(Et=(s=Et)||n.memoizedState!==null,Kn(e,t,n),Et=s):Kn(e,t,n);break;default:Kn(e,t,n)}}function Wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hp),t.forEach(function(s){var l=_p.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function sn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var u=e,p=t,k=p;e:for(;k!==null;){switch(k.tag){case 5:kt=k.stateNode,rn=!1;break e;case 3:kt=k.stateNode.containerInfo,rn=!0;break e;case 4:kt=k.stateNode.containerInfo,rn=!0;break e}k=k.return}if(kt===null)throw Error(i(160));Gu(u,p,l),kt=null,rn=!1;var C=l.alternate;C!==null&&(C.return=null),l.return=null}catch(M){lt(l,t,M)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Vu(t,e),t=t.sibling}function Vu(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sn(t,e),mn(e),s&4){try{zi(3,e,e.return),Vs(3,e)}catch(xe){lt(e,e.return,xe)}try{zi(5,e,e.return)}catch(xe){lt(e,e.return,xe)}}break;case 1:sn(t,e),mn(e),s&512&&n!==null&&qr(n,n.return);break;case 5:if(sn(t,e),mn(e),s&512&&n!==null&&qr(n,n.return),e.flags&32){var l=e.stateNode;try{we(l,"")}catch(xe){lt(e,e.return,xe)}}if(s&4&&(l=e.stateNode,l!=null)){var u=e.memoizedProps,p=n!==null?n.memoizedProps:u,k=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{k==="input"&&u.type==="radio"&&u.name!=null&&tt(l,u),qe(k,p);var M=qe(k,u);for(p=0;p<C.length;p+=2){var q=C[p],ee=C[p+1];q==="style"?Pe(l,ee):q==="dangerouslySetInnerHTML"?ce(l,ee):q==="children"?we(l,ee):V(l,q,ee,M)}switch(k){case"input":sr(l,u);break;case"textarea":qi(l,u);break;case"select":var X=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!u.multiple;var de=u.value;de!=null?Bn(l,!!u.multiple,de,!1):X!==!!u.multiple&&(u.defaultValue!=null?Bn(l,!!u.multiple,u.defaultValue,!0):Bn(l,!!u.multiple,u.multiple?[]:"",!1))}l[Ti]=u}catch(xe){lt(e,e.return,xe)}}break;case 6:if(sn(t,e),mn(e),s&4){if(e.stateNode===null)throw Error(i(162));l=e.stateNode,u=e.memoizedProps;try{l.nodeValue=u}catch(xe){lt(e,e.return,xe)}}break;case 3:if(sn(t,e),mn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(xe){lt(e,e.return,xe)}break;case 4:sn(t,e),mn(e);break;case 13:sn(t,e),mn(e),l=e.child,l.flags&8192&&(u=l.memoizedState!==null,l.stateNode.isHidden=u,!u||l.alternate!==null&&l.alternate.memoizedState!==null||(Kl=at())),s&4&&Wu(e);break;case 22:if(q=n!==null&&n.memoizedState!==null,e.mode&1?(Et=(M=Et)||q,sn(t,e),Et=M):sn(t,e),mn(e),s&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!q&&(e.mode&1)!==0)for(he=e,q=e.child;q!==null;){for(ee=he=q;he!==null;){switch(X=he,de=X.child,X.tag){case 0:case 11:case 14:case 15:zi(4,X,X.return);break;case 1:qr(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){s=X,n=X.return;try{t=s,me.props=t.memoizedProps,me.state=t.memoizedState,me.componentWillUnmount()}catch(xe){lt(s,n,xe)}}break;case 5:qr(X,X.return);break;case 22:if(X.memoizedState!==null){Ku(ee);continue}}de!==null?(de.return=X,he=de):Ku(ee)}q=q.sibling}e:for(q=null,ee=e;;){if(ee.tag===5){if(q===null){q=ee;try{l=ee.stateNode,M?(u=l.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(k=ee.stateNode,C=ee.memoizedProps.style,p=C!=null&&C.hasOwnProperty("display")?C.display:null,k.style.display=Le("display",p))}catch(xe){lt(e,e.return,xe)}}}else if(ee.tag===6){if(q===null)try{ee.stateNode.nodeValue=M?"":ee.memoizedProps}catch(xe){lt(e,e.return,xe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===e)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===e)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===e)break e;q===ee&&(q=null),ee=ee.return}q===ee&&(q=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:sn(t,e),mn(e),s&4&&Wu(e);break;case 21:break;default:sn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zu(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(we(l,""),s.flags&=-33);var u=Hu(e);Vl(e,u,l);break;case 3:case 4:var p=s.stateNode.containerInfo,k=Hu(e);Wl(e,k,p);break;default:throw Error(i(161))}}catch(C){lt(e,e.return,C)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mp(e,t,n){he=e,$u(e)}function $u(e,t,n){for(var s=(e.mode&1)!==0;he!==null;){var l=he,u=l.child;if(l.tag===22&&s){var p=l.memoizedState!==null||Ws;if(!p){var k=l.alternate,C=k!==null&&k.memoizedState!==null||Et;k=Ws;var M=Et;if(Ws=p,(Et=C)&&!M)for(he=l;he!==null;)p=he,C=p.child,p.tag===22&&p.memoizedState!==null?Qu(l):C!==null?(C.return=p,he=C):Qu(l);for(;u!==null;)he=u,$u(u),u=u.sibling;he=l,Ws=k,Et=M}Yu(e)}else(l.subtreeFlags&8772)!==0&&u!==null?(u.return=l,he=u):Yu(e)}}function Yu(e){for(;he!==null;){var t=he;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Et||Vs(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Et)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:nn(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Kc(t,u,s);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Kc(t,p,n)}break;case 5:var k=t.stateNode;if(n===null&&t.flags&4){n=k;var C=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&n.focus();break;case"img":C.src&&(n.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var M=t.alternate;if(M!==null){var q=M.memoizedState;if(q!==null){var ee=q.dehydrated;ee!==null&&vi(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}Et||t.flags&512&&Gl(t)}catch(X){lt(t,t.return,X)}}if(t===e){he=null;break}if(n=t.sibling,n!==null){n.return=t.return,he=n;break}he=t.return}}function Ku(e){for(;he!==null;){var t=he;if(t===e){he=null;break}var n=t.sibling;if(n!==null){n.return=t.return,he=n;break}he=t.return}}function Qu(e){for(;he!==null;){var t=he;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Vs(4,t)}catch(C){lt(t,n,C)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(C){lt(t,l,C)}}var u=t.return;try{Gl(t)}catch(C){lt(t,u,C)}break;case 5:var p=t.return;try{Gl(t)}catch(C){lt(t,p,C)}}}catch(C){lt(t,t.return,C)}if(t===e){he=null;break}var k=t.sibling;if(k!==null){k.return=t.return,he=k;break}he=t.return}}var gp=Math.ceil,$s=j.ReactCurrentDispatcher,$l=j.ReactCurrentOwner,Xt=j.ReactCurrentBatchConfig,Ge=0,yt=null,ut=null,St=0,Gt=0,Jr=Gn(0),pt=0,Hi=null,wr=0,Ys=0,Yl=0,Gi=null,jt=null,Kl=0,ei=1/0,Dn=null,Ks=!1,Ql=null,Qn=null,Qs=!1,Xn=null,Xs=0,Wi=0,Xl=null,Zs=-1,qs=0;function Nt(){return(Ge&6)!==0?at():Zs!==-1?Zs:Zs=at()}function Zn(e){return(e.mode&1)===0?1:(Ge&2)!==0&&St!==0?St&-St:Jh.transition!==null?(qs===0&&(qs=Ha()),qs):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Za(e.type)),e)}function on(e,t,n,s){if(50<Wi)throw Wi=0,Xl=null,Error(i(185));pi(e,n,s),((Ge&2)===0||e!==yt)&&(e===yt&&((Ge&2)===0&&(Ys|=n),pt===4&&qn(e,St)),Lt(e,s),n===1&&Ge===0&&(t.mode&1)===0&&(ei=at()+500,Es&&Vn()))}function Lt(e,t){var n=e.callbackNode;Jf(e,t);var s=ls(e,e===yt?St:0);if(s===0)n!==null&&Oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Oa(n),t===1)e.tag===0?qh(Zu.bind(null,e)):Pc(Zu.bind(null,e)),Kh(function(){(Ge&6)===0&&Vn()}),n=null;else{switch(Ga(s)){case 1:n=No;break;case 4:n=Ua;break;case 16:n=rs;break;case 536870912:n=za;break;default:n=rs}n=sd(n,Xu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Xu(e,t){if(Zs=-1,qs=0,(Ge&6)!==0)throw Error(i(327));var n=e.callbackNode;if(ti()&&e.callbackNode!==n)return null;var s=ls(e,e===yt?St:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Js(e,s);else{t=s;var l=Ge;Ge|=2;var u=Ju();(yt!==e||St!==t)&&(Dn=null,ei=at()+500,Sr(e,t));do try{vp();break}catch(k){qu(e,k)}while(!0);pl(),$s.current=u,Ge=l,ut!==null?t=0:(yt=null,St=0,t=pt)}if(t!==0){if(t===2&&(l=To(e),l!==0&&(s=l,t=Zl(e,l))),t===1)throw n=Hi,Sr(e,0),qn(e,s),Lt(e,at()),n;if(t===6)qn(e,s);else{if(l=e.current.alternate,(s&30)===0&&!xp(l)&&(t=Js(e,s),t===2&&(u=To(e),u!==0&&(s=u,t=Zl(e,u))),t===1))throw n=Hi,Sr(e,0),qn(e,s),Lt(e,at()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:_r(e,jt,Dn);break;case 3:if(qn(e,s),(s&130023424)===s&&(t=Kl+500-at(),10<t)){if(ls(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Nt(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=rl(_r.bind(null,e,jt,Dn),t);break}_r(e,jt,Dn);break;case 4:if(qn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var p=31-Jt(s);u=1<<p,p=t[p],p>l&&(l=p),s&=~u}if(s=l,s=at()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*gp(s/1960))-s,10<s){e.timeoutHandle=rl(_r.bind(null,e,jt,Dn),s);break}_r(e,jt,Dn);break;case 5:_r(e,jt,Dn);break;default:throw Error(i(329))}}}return Lt(e,at()),e.callbackNode===n?Xu.bind(null,e):null}function Zl(e,t){var n=Gi;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Js(e,t),e!==2&&(t=jt,jt=n,t!==null&&ql(t)),e}function ql(e){jt===null?jt=e:jt.push.apply(jt,e)}function xp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],u=l.getSnapshot;l=l.value;try{if(!en(u(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qn(e,t){for(t&=~Yl,t&=~Ys,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),s=1<<n;e[n]=-1,t&=~s}}function Zu(e){if((Ge&6)!==0)throw Error(i(327));ti();var t=ls(e,0);if((t&1)===0)return Lt(e,at()),null;var n=Js(e,t);if(e.tag!==0&&n===2){var s=To(e);s!==0&&(t=s,n=Zl(e,s))}if(n===1)throw n=Hi,Sr(e,0),qn(e,t),Lt(e,at()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_r(e,jt,Dn),Lt(e,at()),null}function Jl(e,t){var n=Ge;Ge|=1;try{return e(t)}finally{Ge=n,Ge===0&&(ei=at()+500,Es&&Vn())}}function kr(e){Xn!==null&&Xn.tag===0&&(Ge&6)===0&&ti();var t=Ge;Ge|=1;var n=Xt.transition,s=Ye;try{if(Xt.transition=null,Ye=1,e)return e()}finally{Ye=s,Xt.transition=n,Ge=t,(Ge&6)===0&&Vn()}}function ea(){Gt=Jr.current,et(Jr)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yh(n)),ut!==null)for(n=ut.return;n!==null;){var s=n;switch(cl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&bs();break;case 3:Xr(),et(Bt),et(_t),Sl();break;case 5:wl(s);break;case 4:Xr();break;case 13:et(it);break;case 19:et(it);break;case 10:ml(s.type._context);break;case 22:case 23:ea()}n=n.return}if(yt=e,ut=e=Jn(e.current,null),St=Gt=t,pt=0,Hi=null,Yl=Ys=wr=0,jt=Gi=null,xr!==null){for(t=0;t<xr.length;t++)if(n=xr[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,u=n.pending;if(u!==null){var p=u.next;u.next=l,s.next=p}n.pending=s}xr=null}return e}function qu(e,t){do{var n=ut;try{if(pl(),Ps.current=Us,Ms){for(var s=st.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Ms=!1}if(vr=0,xt=ht=st=null,Pi=!1,Mi=0,$l.current=null,n===null||n.return===null){pt=1,Hi=t,ut=null;break}e:{var u=e,p=n.return,k=n,C=t;if(t=St,k.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var M=C,q=k,ee=q.tag;if((q.mode&1)===0&&(ee===0||ee===11||ee===15)){var X=q.alternate;X?(q.updateQueue=X.updateQueue,q.memoizedState=X.memoizedState,q.lanes=X.lanes):(q.updateQueue=null,q.memoizedState=null)}var de=_u(p);if(de!==null){de.flags&=-257,bu(de,p,k,u,t),de.mode&1&&Su(u,M,t),t=de,C=M;var me=t.updateQueue;if(me===null){var xe=new Set;xe.add(C),t.updateQueue=xe}else me.add(C);break e}else{if((t&1)===0){Su(u,M,t),ta();break e}C=Error(i(426))}}else if(nt&&k.mode&1){var ct=_u(p);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),bu(ct,p,k,u,t),fl(Zr(C,k));break e}}u=C=Zr(C,k),pt!==4&&(pt=2),Gi===null?Gi=[u]:Gi.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var F=wu(u,C,t);Yc(u,F);break e;case 1:k=C;var E=u.type,L=u.stateNode;if((u.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Qn===null||!Qn.has(L)))){u.flags|=65536,t&=-t,u.lanes|=t;var re=ku(u,k,t);Yc(u,re);break e}}u=u.return}while(u!==null)}td(n)}catch(_e){t=_e,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function Ju(){var e=$s.current;return $s.current=Us,e===null?Us:e}function ta(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||(wr&268435455)===0&&(Ys&268435455)===0||qn(yt,St)}function Js(e,t){var n=Ge;Ge|=2;var s=Ju();(yt!==e||St!==t)&&(Dn=null,Sr(e,t));do try{yp();break}catch(l){qu(e,l)}while(!0);if(pl(),Ge=n,$s.current=s,ut!==null)throw Error(i(261));return yt=null,St=0,pt}function yp(){for(;ut!==null;)ed(ut)}function vp(){for(;ut!==null&&!Wf();)ed(ut)}function ed(e){var t=id(e.alternate,e,Gt);e.memoizedProps=e.pendingProps,t===null?td(e):ut=t,$l.current=null}function td(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=dp(n,t,Gt),n!==null){ut=n;return}}else{if(n=fp(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ut=null;return}}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);pt===0&&(pt=5)}function _r(e,t,n){var s=Ye,l=Xt.transition;try{Xt.transition=null,Ye=1,wp(e,t,n,s)}finally{Xt.transition=l,Ye=s}return null}function wp(e,t,n,s){do ti();while(Xn!==null);if((Ge&6)!==0)throw Error(i(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(eh(e,u),e===yt&&(ut=yt=null,St=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Qs||(Qs=!0,sd(rs,function(){return ti(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=Xt.transition,Xt.transition=null;var p=Ye;Ye=1;var k=Ge;Ge|=4,$l.current=null,pp(e,n),Vu(n,e),Uh(tl),us=!!el,tl=el=null,e.current=n,mp(n),Vf(),Ge=k,Ye=p,Xt.transition=u}else e.current=n;if(Qs&&(Qs=!1,Xn=e,Xs=l),u=e.pendingLanes,u===0&&(Qn=null),Kf(n.stateNode),Lt(e,at()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(Ks)throw Ks=!1,e=Ql,Ql=null,e;return(Xs&1)!==0&&e.tag!==0&&ti(),u=e.pendingLanes,(u&1)!==0?e===Xl?Wi++:(Wi=0,Xl=e):Wi=0,Vn(),null}function ti(){if(Xn!==null){var e=Ga(Xs),t=Xt.transition,n=Ye;try{if(Xt.transition=null,Ye=16>e?16:e,Xn===null)var s=!1;else{if(e=Xn,Xn=null,Xs=0,(Ge&6)!==0)throw Error(i(331));var l=Ge;for(Ge|=4,he=e.current;he!==null;){var u=he,p=u.child;if((he.flags&16)!==0){var k=u.deletions;if(k!==null){for(var C=0;C<k.length;C++){var M=k[C];for(he=M;he!==null;){var q=he;switch(q.tag){case 0:case 11:case 15:zi(8,q,u)}var ee=q.child;if(ee!==null)ee.return=q,he=ee;else for(;he!==null;){q=he;var X=q.sibling,de=q.return;if(Uu(q),q===M){he=null;break}if(X!==null){X.return=de,he=X;break}he=de}}}var me=u.alternate;if(me!==null){var xe=me.child;if(xe!==null){me.child=null;do{var ct=xe.sibling;xe.sibling=null,xe=ct}while(xe!==null)}}he=u}}if((u.subtreeFlags&2064)!==0&&p!==null)p.return=u,he=p;else e:for(;he!==null;){if(u=he,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:zi(9,u,u.return)}var F=u.sibling;if(F!==null){F.return=u.return,he=F;break e}he=u.return}}var E=e.current;for(he=E;he!==null;){p=he;var L=p.child;if((p.subtreeFlags&2064)!==0&&L!==null)L.return=p,he=L;else e:for(p=E;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Vs(9,k)}}catch(_e){lt(k,k.return,_e)}if(k===p){he=null;break e}var re=k.sibling;if(re!==null){re.return=k.return,he=re;break e}he=k.return}}if(Ge=l,Vn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(is,e)}catch{}s=!0}return s}finally{Ye=n,Xt.transition=t}}return!1}function nd(e,t,n){t=Zr(n,t),t=wu(e,t,1),e=Yn(e,t,1),t=Nt(),e!==null&&(pi(e,1,t),Lt(e,t))}function lt(e,t,n){if(e.tag===3)nd(e,e,n);else for(;t!==null;){if(t.tag===3){nd(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Zr(n,e),e=ku(t,e,1),t=Yn(t,e,1),e=Nt(),t!==null&&(pi(t,1,e),Lt(t,e));break}}t=t.return}}function kp(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(St&n)===n&&(pt===4||pt===3&&(St&130023424)===St&&500>at()-Kl?Sr(e,0):Yl|=n),Lt(e,t)}function rd(e,t){t===0&&((e.mode&1)===0?t=1:(t=os,os<<=1,(os&130023424)===0&&(os=4194304)));var n=Nt();e=Cn(e,t),e!==null&&(pi(e,t,n),Lt(e,n))}function Sp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rd(e,n)}function _p(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),rd(e,n)}var id;id=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)It=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return It=!1,up(e,t,n);It=(e.flags&131072)!==0}else It=!1,nt&&(t.flags&1048576)!==0&&Mc(t,Ds,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Gs(e,t),e=t.pendingProps;var l=Gr(t,_t.current);Qr(t,n),l=Cl(null,t,s,e,l,n);var u=El();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(s)?(u=!0,Cs(t)):u=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,yl(t),l.updater=zs,t.stateNode=l,l._reactInternals=t,Fl(t,s,e,n),t=Pl(null,t,s,!0,u,n)):(t.tag=0,nt&&u&&al(t),Dt(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Cp(s),e=nn(s,e),l){case 0:t=Ll(null,t,s,e,n);break e;case 1:t=Tu(null,t,s,e,n);break e;case 11:t=Cu(null,t,s,e,n);break e;case 14:t=Eu(null,t,s,nn(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),Ll(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),Tu(e,t,s,l,n);case 3:e:{if(Bu(t),e===null)throw Error(i(387));s=t.pendingProps,u=t.memoizedState,l=u.element,$c(e,t),js(t,s,null,n);var p=t.memoizedState;if(s=p.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){l=Zr(Error(i(423)),t),t=Fu(e,t,s,n,l);break e}else if(s!==l){l=Zr(Error(i(424)),t),t=Fu(e,t,s,n,l);break e}else for(Ht=Hn(t.stateNode.containerInfo.firstChild),zt=t,nt=!0,tn=null,n=Wc(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($r(),s===l){t=An(e,t,n);break e}Dt(e,t,s,n)}t=t.child}return t;case 5:return Qc(t),e===null&&dl(t),s=t.type,l=t.pendingProps,u=e!==null?e.memoizedProps:null,p=l.children,nl(s,l)?p=null:u!==null&&nl(s,u)&&(t.flags|=32),Nu(e,t),Dt(e,t,p,n),t.child;case 6:return e===null&&dl(t),null;case 13:return Iu(e,t,n);case 4:return vl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Yr(t,null,s,n):Dt(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),Cu(e,t,s,l,n);case 7:return Dt(e,t,t.pendingProps,n),t.child;case 8:return Dt(e,t,t.pendingProps.children,n),t.child;case 12:return Dt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,u=t.memoizedProps,p=l.value,Ze(Bs,s._currentValue),s._currentValue=p,u!==null)if(en(u.value,p)){if(u.children===l.children&&!Bt.current){t=An(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var k=u.dependencies;if(k!==null){p=u.child;for(var C=k.firstContext;C!==null;){if(C.context===s){if(u.tag===1){C=En(-1,n&-n),C.tag=2;var M=u.updateQueue;if(M!==null){M=M.shared;var q=M.pending;q===null?C.next=C:(C.next=q.next,q.next=C),M.pending=C}}u.lanes|=n,C=u.alternate,C!==null&&(C.lanes|=n),gl(u.return,n,t),k.lanes|=n;break}C=C.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(i(341));p.lanes|=n,k=p.alternate,k!==null&&(k.lanes|=n),gl(p,n,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}Dt(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Qr(t,n),l=Kt(l),s=s(l),t.flags|=1,Dt(e,t,s,n),t.child;case 14:return s=t.type,l=nn(s,t.pendingProps),l=nn(s.type,l),Eu(e,t,s,l,n);case 15:return Au(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:nn(s,l),Gs(e,t),t.tag=1,Ft(s)?(e=!0,Cs(t)):e=!1,Qr(t,n),yu(t,s,l),Fl(t,s,l,n),Pl(null,t,s,!0,e,n);case 19:return Lu(e,t,n);case 22:return Du(e,t,n)}throw Error(i(156,t.tag))};function sd(e,t){return Ra(e,t)}function bp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,s){return new bp(e,t,n,s)}function na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cp(e){if(typeof e=="function")return na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ie)return 11;if(e===ye)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eo(e,t,n,s,l,u){var p=2;if(s=e,typeof e=="function")na(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ge:return br(n.children,l,u,t);case be:p=8,l|=8;break;case pe:return e=Zt(12,n,t,l|2),e.elementType=pe,e.lanes=u,e;case K:return e=Zt(13,n,t,l),e.elementType=K,e.lanes=u,e;case ie:return e=Zt(19,n,t,l),e.elementType=ie,e.lanes=u,e;case ue:return to(n,l,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:p=10;break e;case Ee:p=9;break e;case Ie:p=11;break e;case ye:p=14;break e;case Be:p=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Zt(p,n,t,l),t.elementType=e,t.type=s,t.lanes=u,t}function br(e,t,n,s){return e=Zt(7,e,s,t),e.lanes=n,e}function to(e,t,n,s){return e=Zt(22,e,s,t),e.elementType=ue,e.lanes=n,e.stateNode={isHidden:!1},e}function ra(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function ia(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ep(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function sa(e,t,n,s,l,u,p,k,C){return e=new Ep(e,t,n,k,C),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Zt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yl(u),e}function Ap(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function od(e){if(!e)return Wn;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(Ft(n))return jc(e,n,t)}return t}function ld(e,t,n,s,l,u,p,k,C){return e=sa(n,s,!0,e,l,u,p,k,C),e.context=od(null),n=e.current,s=Nt(),l=Zn(n),u=En(s,l),u.callback=t??null,Yn(n,u,l),e.current.lanes=l,pi(e,l,s),Lt(e,s),e}function no(e,t,n,s){var l=t.current,u=Nt(),p=Zn(l);return n=od(n),t.context===null?t.context=n:t.pendingContext=n,t=En(u,p),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Yn(l,t,p),e!==null&&(on(e,l,p,u),Is(e,l,p)),p}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oa(e,t){ad(e,t),(e=e.alternate)&&ad(e,t)}function Dp(){return null}var cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function la(e){this._internalRoot=e}io.prototype.render=la.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));no(e,t,null,null)},io.prototype.unmount=la.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kr(function(){no(null,e,null,null)}),t[kn]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=$a();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&Qa(e)}};function aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function so(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ud(){}function Np(e,t,n,s,l){if(l){if(typeof s=="function"){var u=s;s=function(){var M=ro(p);u.call(M)}}var p=ld(t,s,e,0,null,!1,!1,"",ud);return e._reactRootContainer=p,e[kn]=p.current,Di(e.nodeType===8?e.parentNode:e),kr(),p}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var k=s;s=function(){var M=ro(C);k.call(M)}}var C=sa(e,0,!1,null,null,!1,!1,"",ud);return e._reactRootContainer=C,e[kn]=C.current,Di(e.nodeType===8?e.parentNode:e),kr(function(){no(t,C,n,s)}),C}function oo(e,t,n,s,l){var u=n._reactRootContainer;if(u){var p=u;if(typeof l=="function"){var k=l;l=function(){var C=ro(p);k.call(C)}}no(t,p,e,l)}else p=Np(n,t,e,l,s);return ro(p)}Wa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hi(t.pendingLanes);n!==0&&(Fo(t,n|1),Lt(t,at()),(Ge&6)===0&&(ei=at()+500,Vn()))}break;case 13:kr(function(){var s=Cn(e,1);if(s!==null){var l=Nt();on(s,e,1,l)}}),oa(e,1)}},Io=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var n=Nt();on(t,e,134217728,n)}oa(e,134217728)}},Va=function(e){if(e.tag===13){var t=Zn(e),n=Cn(e,t);if(n!==null){var s=Nt();on(n,e,t,s)}oa(e,t)}},$a=function(){return Ye},Ya=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}},mt=function(e,t,n){switch(t){case"input":if(sr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=_s(s);if(!l)throw Error(i(90));Mt(s),sr(s,l)}}}break;case"textarea":qi(e,n);break;case"select":t=n.value,t!=null&&Bn(e,!!n.multiple,t,!1)}},es=Jl,ts=kr;var Tp={usingClientEntryPoint:!1,Events:[Bi,zr,_s,un,ar,Jl]},Vi={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bp={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pa(e),e===null?null:e.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||Dp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{is=lo.inject(Bp),dn=lo}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tp,Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aa(t))throw Error(i(200));return Ap(e,t,null,n)},Pt.createRoot=function(e,t){if(!aa(e))throw Error(i(299));var n=!1,s="",l=cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=sa(e,1,!1,null,null,n,!1,s,l),e[kn]=t.current,Di(e.nodeType===8?e.parentNode:e),new la(t)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Pa(t),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return kr(e)},Pt.hydrate=function(e,t,n){if(!so(t))throw Error(i(200));return oo(null,e,t,!0,n)},Pt.hydrateRoot=function(e,t,n){if(!aa(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,l=!1,u="",p=cd;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=ld(t,null,e,1,n??null,l,!1,u,p),e[kn]=t.current,Di(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new io(t)},Pt.render=function(e,t,n){if(!so(t))throw Error(i(200));return oo(null,e,t,!1,n)},Pt.unmountComponentAtNode=function(e){if(!so(e))throw Error(i(40));return e._reactRootContainer?(kr(function(){oo(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1},Pt.unstable_batchedUpdates=Jl,Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!so(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return oo(e,t,n,!1,s)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var vd;function zp(){if(vd)return fa.exports;vd=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),fa.exports=Up(),fa.exports}var wd;function Hp(){if(wd)return ao;wd=1;var o=zp();return ao.createRoot=o.createRoot,ao.hydrateRoot=o.hydrateRoot,ao}var Gp=Hp();const Wp=Wd(Gp),kd=o=>{let r;const i=new Set,a=(w,b)=>{const x=typeof w=="function"?w(r):w;if(!Object.is(x,r)){const S=r;r=b??(typeof x!="object"||x===null)?x:Object.assign({},r,x),i.forEach(_=>_(r,S))}},c=()=>r,m={setState:a,getState:c,getInitialState:()=>g,subscribe:w=>(i.add(w),()=>i.delete(w))},g=r=o(a,c,m);return m},Vp=(o=>o?kd(o):kd),$p=o=>o;function Yp(o,r=$p){const i=Yi.useSyncExternalStore(o.subscribe,Yi.useCallback(()=>r(o.getState()),[o,r]),Yi.useCallback(()=>r(o.getInitialState()),[o,r]));return Yi.useDebugValue(i),i}const Sd=o=>{const r=Vp(o),i=a=>Yp(r,a);return Object.assign(i,r),i},Kp=(o=>o?Sd(o):Sd);class Zi{constructor(r){R(this,"buffer");R(this,"index",0);this.buffer=r instanceof Uint8Array?r:new Uint8Array(r)}slice(r,i){return new Zi(this.buffer.slice(r,i))}readable(){return this.index<this.buffer.length}skip(r){this.index+=r}readUInt8(){return this.buffer[this.index++]}readInt8(){return this.buffer[this.index++]<<24>>24}readUInt16(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)}readUInt32(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)+(this.buffer[this.index++]<<24)>>>0}readString(){const r=this.readUInt16();if(r===0)return"";const i=new TextDecoder("utf-8").decode(this.buffer.slice(this.index,this.index+r));return this.index+=r,i}readRGB(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)}readLight(){return{level:this.readUInt16(),color:this.readUInt16()}}readAnimationLength(){return{min:this.readUInt32(),max:this.readUInt32()}}}const vo=new Uint8Array([69,77,80,69,82,73,65,0]),Br=20;var bo=(o=>(o[o.SPRITE_DATA=1]="SPRITE_DATA",o[o.OBJECT_DEFS=2]="OBJECT_DEFS",o))(bo||{});function Ta(o){const r=o instanceof Uint8Array?o:new Uint8Array(o);if(r.length<Br)return!1;for(let i=0;i<vo.length;i++)if(r[i]!==vo[i])return!1;return!0}function Vd(o){const r=o instanceof Uint8Array?o:new Uint8Array(o);if(!Ta(r))return null;const i=new DataView(r.buffer,r.byteOffset,r.byteLength);return{fileType:i.getUint8(8),formatVersion:i.getUint16(9,!0),contentVersion:i.getUint32(11,!0),flags:i.getUint8(15)}}function Qp(o){const r=o instanceof Uint8Array?o:new Uint8Array(o);return r.length>=2&&r[0]===31&&r[1]===139}async function Xp(o){const r=new CompressionStream("gzip"),i=r.writable.getWriter();i.write(new Uint8Array(o)),i.close();const a=r.readable.getReader(),c=[];for(;;){const{done:g,value:w}=await a.read();if(g)break;c.push(w)}let d=0;for(const g of c)d+=g.byteLength;const h=new Uint8Array(d);let m=0;for(const g of c)h.set(g,m),m+=g.byteLength;return h.buffer}async function Zp(o){if(!Qp(o))return o;const r=new DecompressionStream("gzip"),i=r.writable.getWriter();i.write(new Uint8Array(o)),i.close();const a=r.readable.getReader(),c=[];for(;;){const{done:g,value:w}=await a.read();if(g)break;c.push(w)}let d=0;for(const g of c)d+=g.byteLength;const h=new Uint8Array(d);let m=0;for(const g of c)h.set(g,m),m+=g.byteLength;return h.buffer}const _d={"41BF619C":740,"439D5A33":760,"42A3":1098},ke={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrOpacity:100,ThingAttrNotPreWalkable:101,ThingAttrFloorChange:252,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function qp(o,r){if(o===ke.ThingAttrLast)return o;if(r>=1e3){if(o===16)return ke.ThingAttrNoMoveAnimation;if(o>16)return o-1}else if(r>=755){if(o===23)return ke.ThingAttrFloorChange}else if(r>=740){if(o>0&&o<=15)return o===5?ke.ThingAttrMultiUse:o===6?ke.ThingAttrForceUse:o+1;switch(o){case 16:return ke.ThingAttrLight;case 17:return ke.ThingAttrFloorChange;case 18:return ke.ThingAttrFullGround;case 19:return ke.ThingAttrElevation;case 20:return ke.ThingAttrDisplacement;case 22:return ke.ThingAttrMinimapColor;case 23:return ke.ThingAttrRotateable;case 24:return ke.ThingAttrLyingCorpse;case 25:return ke.ThingAttrHangable;case 26:return ke.ThingAttrHookSouth;case 27:return ke.ThingAttrHookEast;case 28:return ke.ThingAttrAnimateAlways}}return o}function Jp(){return{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1}}function em(o,r){const i=Jp();for(;;){const a=o.readUInt8(),c=qp(a,r);switch(c){case ke.ThingAttrLast:return i;case ke.ThingAttrGround:i.ground=!0,i.groundSpeed=o.readUInt16();break;case ke.ThingAttrGroundBorder:i.groundBorder=!0;break;case ke.ThingAttrOnBottom:i.onBottom=!0;break;case ke.ThingAttrOnTop:i.onTop=!0;break;case ke.ThingAttrContainer:i.container=!0;break;case ke.ThingAttrStackable:i.stackable=!0;break;case ke.ThingAttrForceUse:i.forceUse=!0;break;case ke.ThingAttrMultiUse:i.multiUse=!0;break;case ke.ThingAttrWritable:i.writable=!0,i.writableMaxLen=o.readUInt16();break;case ke.ThingAttrWritableOnce:i.writableOnce=!0,i.writableOnceMaxLen=o.readUInt16();break;case ke.ThingAttrFluidContainer:i.fluidContainer=!0;break;case ke.ThingAttrSplash:i.splash=!0;break;case ke.ThingAttrNotWalkable:i.notWalkable=!0;break;case ke.ThingAttrNotMoveable:i.notMoveable=!0;break;case ke.ThingAttrBlockProjectile:i.blockProjectile=!0;break;case ke.ThingAttrNotPathable:i.notPathable=!0;break;case ke.ThingAttrPickupable:i.pickupable=!0;break;case ke.ThingAttrHangable:i.hangable=!0;break;case ke.ThingAttrHookSouth:i.hookSouth=!0;break;case ke.ThingAttrHookEast:i.hookEast=!0;break;case ke.ThingAttrRotateable:i.rotateable=!0;break;case ke.ThingAttrLight:{i.hasLight=!0;const d=o.readLight();i.lightLevel=d.level,i.lightColor=d.color;break}case ke.ThingAttrDontHide:i.dontHide=!0;break;case ke.ThingAttrTranslucent:i.translucent=!0;break;case ke.ThingAttrDisplacement:{if(i.hasDisplacement=!0,r>=755){const d=o.readLight();i.displacementX=d.level,i.displacementY=d.color}break}case ke.ThingAttrElevation:i.hasElevation=!0,i.elevation=o.readUInt16();break;case ke.ThingAttrLyingCorpse:i.lyingCorpse=!0;break;case ke.ThingAttrAnimateAlways:i.animateAlways=!0;break;case ke.ThingAttrMinimapColor:i.hasMinimapColor=!0,i.minimapColor=o.readUInt16();break;case ke.ThingAttrLensHelp:i.lensHelp=o.readUInt16();break;case ke.ThingAttrFullGround:i.fullGround=!0;break;case ke.ThingAttrLook:i.look=!0;break;case ke.ThingAttrCloth:i.cloth=!0,i.clothSlot=o.readUInt16();break;case ke.ThingAttrMarket:i.hasMarket=!0,i.marketCategory=o.readUInt16(),i.marketTradeAs=o.readUInt16(),i.marketShowAs=o.readUInt16(),i.marketName=o.readString(),i.marketRestrictVocation=o.readUInt16(),i.marketRequiredLevel=o.readUInt16();break;case ke.ThingAttrUsable:i.usable=!0,i.usableActionId=o.readUInt16();break;case ke.ThingAttrWrapable:i.wrapable=!0;break;case ke.ThingAttrUnwrapable:i.unwrapable=!0;break;case ke.ThingAttrTopEffect:i.topEffect=!0;break;case ke.ThingAttrOpacity:break;case ke.ThingAttrNotPreWalkable:break;case ke.ThingAttrFloorChange:break;case ke.ThingAttrNoMoveAnimation:i.noMoveAnimation=!0;break;case ke.ThingAttrChargeable:i.chargeable=!0;break;default:throw new Error(`Unknown flag 0x${c.toString(16)} at offset ${o.index}`)}}}function tm(o,r,i){const a=i?o.readUInt8():0,c=o.readUInt8(),d=o.readUInt8();(c>1||d>1)&&o.readUInt8();const h=o.readUInt8(),m=o.readUInt8(),g=o.readUInt8(),w=r>=755?o.readUInt8():1,b=o.readUInt8();let x=0,S=0,_=0;const N=[];if(b>1&&r>=1050){x=o.readUInt8(),S=o.readUInt32(),_=o.readInt8();for(let z=0;z<b;z++)N.push(o.readAnimationLength())}const P=c*d*h*m*g*w*b,W=[];for(let z=0;z<P;z++)W.push(r>=960?o.readUInt32():o.readUInt16());return{type:a,width:c,height:d,layers:h,patternX:m,patternY:g,patternZ:w,animationLength:b,asynchronous:x,nLoop:S,start:_,animationLengths:N,sprites:W}}function nm(o){const r=Vd(o);let i,a;if(r){if(r.fileType!==bo.OBJECT_DEFS)throw new Error(`Expected object definitions (0x02), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,a=Br}else{const S=new DataView(o).getUint32(0,!0).toString(16).toUpperCase();if(!(S in _d))throw new Error("Unknown object definition file format.");i=_d[S],a=4}const c=new Zi(o.slice(a)),d=c.readUInt16(),h=c.readUInt16(),m=c.readUInt16(),g=c.readUInt16(),w=d+h+m+g,b=new Map;for(let x=100;x<=w;x++){const S=c.index,_=em(c,i),N=x>d&&x<=d+h,P=i>=1050&&N,W=P?c.readUInt8():1,z=[];for(let se=0;se<W;se++)z.push(tm(c,i,P));const U=c.index,V=c.buffer.slice(S,U);let j;x<=d?j="item":x<=d+h?j="outfit":x<=d+h+m?j="effect":j="distance",b.set(x,{id:x,category:j,flags:_,frameGroups:z,rawBytes:V})}return console.log(`[OB] Parsed ${b.size} things: items=${d} outfits=${h} effects=${m} distances=${g}`),{version:i,itemCount:d,outfitCount:h,effectCount:m,distanceCount:g,things:b,originalBuffer:o}}const bd={"57BBD603":1098};function rm(o){const r=Vd(o);let i,a;if(r){if(r.fileType!==bo.SPRITE_DATA)throw new Error(`Expected sprite data (0x01), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,a=Br}else{const w=new DataView(o).getUint32(0,!0).toString(16).toUpperCase();if(!(w in bd))throw new Error("Unknown sprite file format.");i=bd[w],a=4}const c=new Uint8Array(o.slice(a)),d=new Zi(c),h=i>760?d.readUInt32():d.readUInt16(),m=new Map;for(let g=1;g<=h;g++){const w=d.readUInt32();w!==0&&m.set(g,w-a)}return console.log(`[OB] Parsed sprite index: ${h} sprites, ${m.size} non-empty`),{version:i,spriteCount:h,addresses:m,buffer:c,originalBuffer:o}}function Fr(o,r){const i=o.addresses.get(r);if(i===void 0)return null;const a=o.buffer,c=a[i+3]+(a[i+4]<<8),d=new Zi(a.slice(i,i+5+c));d.readRGB(),d.skip(2);const h=new Uint32Array(1024);let m=0;for(;d.readable();){const w=d.readUInt16(),b=d.readUInt16();m+=w;for(let x=m;x<m+b;x++){const S=d.readUInt8(),_=d.readUInt8(),N=d.readUInt8(),P=d.readUInt8();h[x]=P<<24|N<<16|_<<8|S}m+=b}const g=new ImageData(32,32);return new Uint32Array(g.data.buffer).set(h),g}const wo=new Map,Co=document.createElement("canvas");Co.width=32;Co.height=32;const Cd=Co.getContext("2d");function ya(o,r,i){if(r===0)return null;const a=wo.get(r);if(a)return a;const c=(i==null?void 0:i.get(r))??Fr(o,r);if(!c)return null;Cd.clearRect(0,0,32,32),Cd.putImageData(c,0,0);const d=Co.toDataURL();return wo.set(r,d),d}function nr(){wo.clear()}function Ed(o){wo.delete(o)}const im=["FLAG_BLOCK_SOLID","FLAG_BLOCK_PROJECTILE","FLAG_BLOCK_PATHFIND","FLAG_HAS_HEIGHT","FLAG_USEABLE","FLAG_PICKUPABLE","FLAG_MOVEABLE","FLAG_STACKABLE","FLAG_FLOORCHANGEDOWN","FLAG_FLOORCHANGENORTH","FLAG_FLOORCHANGEEAST","FLAG_FLOORCHANGESOUTH","FLAG_FLOORCHANGEWEST","FLAG_ALWAYSONTOP","FLAG_READABLE","FLAG_ROTATABLE","FLAG_HANGABLE","FLAG_VERTICAL","FLAG_HORIZONTAL","FLAG_CANNOTDECAY","FLAG_ALLOWDISTREAD","FLAG_UNUSED","FLAG_CLIENTCHARGES","FLAG_LOOKTHROUGH","FLAG_ANIMATION","FLAG_FULLTILE","FLAG_FORCEUSE"];function sm(o){let r=0;return o.notWalkable&&(r|=1),o.blockProjectile&&(r|=2),o.notPathable&&(r|=4),o.hasElevation&&(r|=8),(o.forceUse||o.multiUse)&&(r|=16),o.pickupable&&(r|=32),o.notMoveable||(r|=64),o.stackable&&(r|=128),o.onTop&&(r|=8192),(o.writable||o.writableOnce)&&(r|=16384),o.rotateable&&(r|=32768),o.hangable&&(r|=65536),o.hookSouth&&(r|=1<<17),o.hookEast&&(r|=1<<18),o.chargeable&&(r|=1<<22),o.translucent&&(r|=1<<23),o.animateAlways&&(r|=1<<24),o.forceUse&&(r|=1<<26),r}function ma(o,r){return o&-96985344|sm(r)}function ga(o){return o.ground||o.groundBorder?1:o.container?2:o.splash?11:o.fluidContainer?12:0}function om(o,r,i,a){for(let d=i;d>=r;d--){const h=o.things.get(d);h&&(h.id=d+1,o.things.set(d+1,h),o.things.delete(d))}const c=new Set;for(const d of a)c.add(d>=r?d+1:d);return c}function lm(o,r,i,a){for(let d=r+1;d<=i;d++){const h=o.things.get(d);h&&(h.id=d-1,o.things.set(d-1,h),o.things.delete(d))}const c=new Set;for(const d of a)d!==r&&c.add(d>r?d-1:d);return c}function Ad(o,r,i){const a=o.itemCount+o.outfitCount+o.effectCount+o.distanceCount;let c,d;switch(r){case"item":o.itemCount++,c=o.itemCount,d=c;break;case"outfit":o.outfitCount++,c=o.itemCount+o.outfitCount,d=c;break;case"effect":o.effectCount++,c=o.itemCount+o.outfitCount+o.effectCount,d=c;break;case"distance":o.distanceCount++,c=o.itemCount+o.outfitCount+o.effectCount+o.distanceCount,d=c+1;break}const h=d<=a?om(o,d,a,i):new Set(i);return h.add(c),{insertId:c,dirtyIds:h}}const G=Kp((o,r)=>({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,itemDefinitions:new Map,clientToServerIds:new Map,definitionsLoaded:!1,spriteMapEntries:[],spriteMapLoaded:!1,sourceDir:null,sourceNames:{},sourceHandles:{},activeCategory:"item",selectedThingId:null,selectedThingIds:new Set,searchQuery:"",filterGroup:-1,editVersion:0,focusSpriteId:null,copiedThing:null,loadFiles:async(i,a)=>{o({loading:!0,error:null});try{const c=nm(i),d=await Zp(a),h=rm(d);nr(),o({objectData:c,spriteData:h,loaded:!0,loading:!1,selectedThingId:100,selectedThingIds:new Set,activeCategory:"item",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null,copiedThing:null,...r().definitionsLoaded?{}:{itemDefinitions:new Map,clientToServerIds:new Map,definitionsLoaded:!1},...r().spriteMapLoaded?{}:{spriteMapEntries:[],spriteMapLoaded:!1}})}catch(c){o({error:c instanceof Error?c.message:String(c),loading:!1})}},loadDefinitions:i=>{const a=new Map,c=new Map;for(const[h,m]of Object.entries(i)){const g=parseInt(h,10);if(isNaN(g))continue;const w=m.id??g;a.set(g,{serverId:g,id:w,flags:m.flags??0,group:m.group??0,properties:m.properties?{...m.properties}:null}),(!c.has(w)||g===w)&&c.set(w,g)}o({itemDefinitions:a,clientToServerIds:c,definitionsLoaded:!0}),console.log(`[OB] Loaded ${a.size} definitions (by serverId), ${c.size} clientserver mappings`);const d=r().objectData;if(d){let h=0;for(const m of a.values()){const g=m.id??0;(g>d.itemCount||g<100)&&h++}h>0&&console.warn(`[OB]  ${h} definitions reference clientIds outside the .eobj range (100${d.itemCount}). These items will be invisible in-game.`)}},setSourceDir:(i,a)=>{o({sourceDir:i,sourceNames:{...r().sourceNames,...a}})},setSourceHandles:i=>{o({sourceHandles:{...r().sourceHandles,...i}})},setActiveCategory:i=>{const a=r().getCategoryRange(i);o({activeCategory:i,selectedThingId:a?a.start:null,selectedThingIds:new Set,searchQuery:"",filterGroup:-1})},setSelectedThingId:i=>o({selectedThingId:i,selectedThingIds:new Set}),toggleThingSelection:(i,a)=>{const c=r().selectedThingIds,d=new Set(c);if(a)for(const h of a)d.add(h);else d.has(i)?d.delete(i):d.add(i);o({selectedThingIds:d,selectedThingId:i})},clearThingSelection:()=>o({selectedThingIds:new Set}),setSearchQuery:i=>o({searchQuery:i}),setFilterGroup:i=>o({filterGroup:i}),reset:()=>{nr(),o({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,activeCategory:"item",selectedThingId:null,searchQuery:"",filterGroup:-1,dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null,copiedThing:null,itemDefinitions:new Map,clientToServerIds:new Map,definitionsLoaded:!1,spriteMapEntries:[],spriteMapLoaded:!1,sourceHandles:{}})},updateItemDefinition:(i,a)=>{const{itemDefinitions:c,clientToServerIds:d,editVersion:h}=r(),m=d.get(i)??i,g=c.get(m),w={serverId:m,id:a.id??(g==null?void 0:g.id)??i,flags:a.flags??(g==null?void 0:g.flags)??0,group:a.group??(g==null?void 0:g.group)??0,properties:a.properties!==void 0?a.properties?{...(g==null?void 0:g.properties)??{},...a.properties}:null:g!=null&&g.properties?{...g.properties}:null},b=new Map(c);b.set(m,w);const x=new Map(d);x.has(i)||x.set(i,m),o({itemDefinitions:b,clientToServerIds:x,dirty:!0,editVersion:h+1})},updateThingFlags:(i,a)=>{const{objectData:c,undoStack:d,dirtyIds:h,editVersion:m,itemDefinitions:g}=r();if(!c)return;const w=c.things.get(i);if(!w)return;const b={...w.flags};w.flags=a,w.rawBytes=void 0;const x=new Set(h);if(x.add(i),w.category==="item"){const{clientToServerIds:S}=r(),_=S.get(i)??i,N=g.get(_),P=(N==null?void 0:N.flags)??0,W=ma(P,a),z=ga(a),U=N!=null&&N.properties?{...N.properties}:{};a.ground&&a.groundSpeed!=null&&a.groundSpeed!==100?U.friction=a.groundSpeed:delete U.friction;const V={serverId:_,id:(N==null?void 0:N.id)??i,flags:W,group:z,properties:Object.keys(U).length>0?U:null},j=new Map(g);j.set(_,V),o({dirty:!0,dirtyIds:x,undoStack:[...d,{thingId:i,oldFlags:b,newFlags:{...a}}],redoStack:[],editVersion:m+1,itemDefinitions:j})}else o({dirty:!0,dirtyIds:x,undoStack:[...d,{thingId:i,oldFlags:b,newFlags:{...a}}],redoStack:[],editVersion:m+1})},undo:()=>{const{objectData:i,undoStack:a,redoStack:c,editVersion:d,itemDefinitions:h}=r();if(!i||a.length===0)return;const m=a[a.length-1],g=i.things.get(m.thingId);if(g&&(g.flags={...m.oldFlags},g.category==="item")){const{clientToServerIds:w}=r(),b=w.get(m.thingId)??m.thingId,x=h.get(b),S=new Map(h);S.set(b,{serverId:b,id:(x==null?void 0:x.id)??m.thingId,flags:ma((x==null?void 0:x.flags)??0,m.oldFlags),group:ga(m.oldFlags),properties:x!=null&&x.properties?{...x.properties}:null}),o({undoStack:a.slice(0,-1),redoStack:[...c,m],editVersion:d+1,itemDefinitions:S});return}o({undoStack:a.slice(0,-1),redoStack:[...c,m],editVersion:d+1})},redo:()=>{const{objectData:i,undoStack:a,redoStack:c,editVersion:d,itemDefinitions:h}=r();if(!i||c.length===0)return;const m=c[c.length-1],g=i.things.get(m.thingId);if(g&&(g.flags={...m.newFlags},g.category==="item")){const{clientToServerIds:w}=r(),b=w.get(m.thingId)??m.thingId,x=h.get(b),S=new Map(h);S.set(b,{serverId:b,id:(x==null?void 0:x.id)??m.thingId,flags:ma((x==null?void 0:x.flags)??0,m.newFlags),group:ga(m.newFlags),properties:x!=null&&x.properties?{...x.properties}:null}),o({undoStack:[...a,m],redoStack:c.slice(0,-1),editVersion:d+1,itemDefinitions:S});return}o({undoStack:[...a,m],redoStack:c.slice(0,-1),editVersion:d+1})},replaceSprite:(i,a)=>{const{spriteOverrides:c,dirtySpriteIds:d,editVersion:h}=r(),m=new Map(c);m.set(i,a);const g=new Set(d);g.add(i),Ed(i),o({dirty:!0,spriteOverrides:m,dirtySpriteIds:g,editVersion:h+1})},addSprite:i=>{const{spriteData:a,spriteOverrides:c,dirtySpriteIds:d,editVersion:h}=r();if(!a)return null;a.spriteCount++;const m=a.spriteCount,g=new Map(c);g.set(m,i);const w=new Set(d);return w.add(m),o({dirty:!0,spriteOverrides:g,dirtySpriteIds:w,editVersion:h+1}),m},deleteSprite:i=>{const{spriteOverrides:a,dirtySpriteIds:c,editVersion:d}=r();if(i<=0)return;const h=new ImageData(32,32),m=new Map(a);m.set(i,h);const g=new Set(c);g.add(i),Ed(i),o({dirty:!0,spriteOverrides:m,dirtySpriteIds:g,editVersion:d+1})},addThing:i=>{const{objectData:a,editVersion:c}=r();if(!a)return null;const{insertId:d,dirtyIds:h}=Ad(a,i,r().dirtyIds),w={id:d,category:i,flags:{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1},frameGroups:[{type:0,width:1,height:1,layers:1,patternX:1,patternY:1,patternZ:1,animationLength:1,asynchronous:0,nLoop:0,start:0,animationLengths:[{min:0,max:0}],sprites:[0]}]};a.things.set(d,w),h.add(d);const b={dirty:!0,dirtyIds:h,selectedThingId:d,editVersion:c+1};if(i==="item"&&r().definitionsLoaded){const{itemDefinitions:x,clientToServerIds:S}=r(),_=S.get(d);let N=0;for(const V of x.keys())V>N&&(N=V);const P=N+1,W={serverId:P,id:d,flags:0,group:0,properties:null},z=new Map(x);z.set(P,W);const U=new Map(S);U.set(d,P),b.itemDefinitions=z,b.clientToServerIds=U,_!=null?console.log(`[OB] Auto-created definition: serverId=${P} clientId=${d} (overriding stale mapping to serverId=${_})`):console.log(`[OB] Auto-created definition: serverId=${P} clientId=${d}`)}return o(b),d},removeThing:i=>{const{objectData:a,editVersion:c,activeCategory:d}=r();if(!a||!a.things.get(i))return;const m=r().getCategoryRange(d);if(!m)return;const g=m.end;if(i!==g)return;const w=a.itemCount+a.outfitCount+a.effectCount+a.distanceCount;switch(a.things.delete(i),d){case"item":a.itemCount--;break;case"outfit":a.outfitCount--;break;case"effect":a.effectCount--;break;case"distance":a.distanceCount--;break}const b=lm(a,i,w,r().dirtyIds),x=i>m.start?i-1:m.start;o({dirty:!0,dirtyIds:b,selectedThingId:a.things.has(x)?x:null,editVersion:c+1})},importThing:(i,a,c,d)=>{const{objectData:h,spriteData:m,editVersion:g,spriteOverrides:w,dirtySpriteIds:b}=r();if(!h||!m)return null;const{insertId:x,dirtyIds:S}=Ad(h,i,r().dirtyIds),_=new Map(w),N=new Set(b),P=new Map;for(const[U,V]of d){if(U===0||P.has(U))continue;m.spriteCount++;const j=m.spriteCount;P.set(U,j),_.set(j,V),N.add(j)}const W=c.map((U,V)=>({...U,type:V,sprites:U.sprites.map(j=>j===0?0:P.get(j)??j),animationLengths:U.animationLengths.map(j=>({...j}))})),z={id:x,category:i,flags:{...a},frameGroups:W};return h.things.set(x,z),nr(),o({dirty:!0,dirtyIds:S,spriteOverrides:_,dirtySpriteIds:N,selectedThingId:x,activeCategory:i,editVersion:g+1}),x},replaceThing:(i,a,c,d)=>{const{objectData:h,spriteData:m,editVersion:g,spriteOverrides:w,dirtySpriteIds:b}=r();if(!h||!m)return!1;const x=h.things.get(i);if(!x)return!1;const S=new Map(w),_=new Set(b),N=new Map;for(const[U,V]of d){if(U===0||N.has(U))continue;m.spriteCount++;const j=m.spriteCount;N.set(U,j),S.set(j,V),_.add(j)}const P=c.map((U,V)=>({...U,type:V,sprites:U.sprites.map(j=>j===0?0:N.get(j)??j),animationLengths:U.animationLengths.map(j=>({...j}))})),W={id:i,category:x.category,flags:{...a},frameGroups:P};h.things.set(i,W);const z=new Set(r().dirtyIds);return z.add(i),nr(),o({dirty:!0,dirtyIds:z,spriteOverrides:S,dirtySpriteIds:_,editVersion:g+1}),!0},loadSpriteMap:i=>{const a=Array.isArray(i.items)?i.items:[];o({spriteMapEntries:a,spriteMapLoaded:!0}),console.log(`[OB] Loaded sprite map: ${a.length} entries`)},updateSpriteMapEntry:(i,a)=>{const c=[...r().spriteMapEntries];c[i]=a,o({spriteMapEntries:c,dirty:!0,editVersion:r().editVersion+1})},addSpriteMapEntry:i=>{const a=[...r().spriteMapEntries,i];o({spriteMapEntries:a,dirty:!0,editVersion:r().editVersion+1})},removeSpriteMapEntry:i=>{const a=r().spriteMapEntries.filter((c,d)=>d!==i);o({spriteMapEntries:a,dirty:!0,editVersion:r().editVersion+1})},exportSpriteMapJson:()=>JSON.stringify({items:r().spriteMapEntries},null,2),markClean:()=>o({dirty:!1,dirtyIds:new Set,dirtySpriteIds:new Set}),getCategoryRange:i=>{const a=r().objectData;if(!a)return null;switch(i){case"item":return{start:100,end:a.itemCount};case"outfit":return{start:a.itemCount+1,end:a.itemCount+a.outfitCount};case"effect":return{start:a.itemCount+a.outfitCount+1,end:a.itemCount+a.outfitCount+a.effectCount};case"distance":return{start:a.itemCount+a.outfitCount+a.effectCount+1,end:a.itemCount+a.outfitCount+a.effectCount+a.distanceCount}}}}));function rr(o,r){return r<=o.itemCount?r:r<=o.itemCount+o.outfitCount?r-o.itemCount-1:r<=o.itemCount+o.outfitCount+o.effectCount?r-o.itemCount-o.outfitCount-1:r-o.itemCount-o.outfitCount-o.effectCount-1}function am(o,r,i,a,c,d,h){var b;if(!o)return[];const m=c(r);if(!m)return[];const g=i.trim().toLowerCase(),w=[];for(let x=m.start;x<=m.end;x++){const S=o.things.get(x);if(S){if(a>=0&&h&&d){const _=h.get(x),N=_!=null?d.get(_):void 0;if(!N||N.group!==a)continue}if(g){let P=rr(o,x).toString().includes(g);if(!P&&h&&d){const W=h.get(x);if(W!=null){W.toString().includes(g)&&(P=!0);const z=d.get(W);!P&&((b=z==null?void 0:z.properties)!=null&&b.name)&&(P=z.properties.name.toLowerCase().includes(g))}}if(!P)continue}w.push(S)}}return w}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$d=(...o)=>o.filter((r,i,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var um={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Y.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:h,...m},g)=>Y.createElement("svg",{ref:g,...um,width:r,height:r,stroke:o,strokeWidth:a?Number(i)*24/Number(r):i,className:$d("lucide",c),...m},[...h.map(([w,b])=>Y.createElement(w,b)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=(o,r)=>{const i=Y.forwardRef(({className:a,...c},d)=>Y.createElement(dm,{ref:d,iconNode:r,className:$d(`lucide-${cm(o)}`,a),...c}));return i.displayName=`${o}`,i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=We("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=We("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=We("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=We("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=We("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=We("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=We("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=We("ImageUp",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19.5 3-3 3 3",key:"9vmjn0"}],["path",{d:"M17 22v-5.5",key:"1aa6fl"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=We("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=We("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=We("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=We("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=We("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=We("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=We("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=We("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=We("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=We("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=We("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=We("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Pm="emperia-ob",Mm=2,li="dir-handles",ai="file-handles",qd="last-source-dir",Jd="last-session";function Ao(){return new Promise((o,r)=>{const i=indexedDB.open(Pm,Mm);i.onupgradeneeded=()=>{const a=i.result;a.objectStoreNames.contains(li)||a.createObjectStore(li),a.objectStoreNames.contains(ai)||a.createObjectStore(ai)},i.onsuccess=()=>o(i.result),i.onerror=()=>r(i.error)})}async function Rm(o){try{const r=await Ao(),i=r.transaction(li,"readwrite");i.objectStore(li).put(o,qd),await new Promise((a,c)=>{i.oncomplete=()=>a(),i.onerror=()=>c(i.error)}),r.close()}catch(r){console.warn("[OB] Failed to save dir handle:",r)}}async function Om(){try{const o=await Ao(),i=o.transaction(li,"readonly").objectStore(li).get(qd),a=await new Promise((c,d)=>{i.onsuccess=()=>c(i.result??null),i.onerror=()=>d(i.error)});return o.close(),a}catch(o){return console.warn("[OB] Failed to load dir handle:",o),null}}async function Um(o){try{const r=await Ao(),i=r.transaction(ai,"readwrite");i.objectStore(ai).put(o,Jd),await new Promise((a,c)=>{i.oncomplete=()=>a(),i.onerror=()=>c(i.error)}),r.close(),console.log("[OB] Saved session handles")}catch(r){console.warn("[OB] Failed to save session handles:",r)}}async function Dd(){try{const o=await Ao(),i=o.transaction(ai,"readonly").objectStore(ai).get(Jd),a=await new Promise((c,d)=>{i.onsuccess=()=>c(i.result??null),i.onerror=()=>d(i.error)});return o.close(),a}catch(o){return console.warn("[OB] Failed to load session handles:",o),null}}async function zm(o,r="readwrite"){const i={mode:r};return await o.queryPermission(i)==="granted"||await o.requestPermission(i)==="granted"}function Hm(){const o=G(T=>T.loadFiles),r=G(T=>T.loading),i=G(T=>T.error),[a,c]=Y.useState(!1),d=G(T=>T.loadDefinitions),h=G(T=>T.loadSpriteMap),m=G(T=>T.setSourceDir),g=G(T=>T.setSourceHandles),w=Y.useRef(null),b=Y.useRef(null),[x,S]=Y.useState(null),[_,N]=Y.useState(null),[P,W]=Y.useState(null),[z,U]=Y.useState(null),V=Y.useRef(null),j=Y.useRef(null),se=Y.useRef(null),O=Y.useRef({}),[ge,be]=Y.useState(!1),[pe,Ce]=Y.useState(null);Y.useEffect(()=>{Om().then(T=>{T&&(se.current=T)}),Dd().then(T=>{T&&(T.obj||T.spr)&&be(!0)})},[]);const Ee=Y.useCallback(T=>{Um(T)},[]),Ie=Y.useCallback(()=>{if(!(!w.current||!b.current)){if(V.current){try{const T=new TextDecoder().decode(V.current),te=JSON.parse(T);d(te)}catch(T){console.error("Failed to parse definitions JSON:",T)}V.current=null}if(j.current){try{const T=new TextDecoder().decode(j.current),te=JSON.parse(T);h(te)}catch(T){console.error("Failed to parse item-to-sprite JSON:",T)}j.current=null}o(w.current,b.current),(O.current.obj||O.current.spr)&&(Ee(O.current),g(O.current))}},[o,d,h,Ee,g]),K=Y.useCallback(T=>{var v;const te=(v=T.name.split(".").pop())==null?void 0:v.toLowerCase(),Z=new FileReader;Z.onload=B=>{var ne;const Q=(ne=B.target)==null?void 0:ne.result;if(te==="dat"||te==="eobj")w.current=Q,S(T.name);else if(te==="spr"||te==="espr")b.current=Q,N(T.name);else if(te==="json"){const le=T.name.toLowerCase();le.includes("item-to-sprite")||le.includes("sprite-map")||le.includes("spritemap")?(j.current=Q,U(T.name)):(V.current=Q,W(T.name))}Ie()},Z.readAsArrayBuffer(T)},[Ie]),ie=Y.useCallback(async()=>{var T;if(typeof window.showDirectoryPicker=="function")try{const te={mode:"readwrite"};se.current&&(te.startIn=se.current);const Z=await window.showDirectoryPicker(te),v={},B={dir:Z};for await(const[Q,ne]of Z.entries()){if(ne.kind!=="file")continue;const le=(T=Q.split(".").pop())==null?void 0:T.toLowerCase();if((le==="eobj"||le==="dat")&&!v.obj){v.obj=Q,B.obj=ne;const J=await ne.getFile();w.current=await J.arrayBuffer(),S(Q)}else if((le==="espr"||le==="spr")&&!v.spr){v.spr=Q,B.spr=ne;const J=await ne.getFile();b.current=await J.arrayBuffer(),N(Q)}else if(le==="json"&&Q.toLowerCase().includes("definition")&&!v.def){v.def=Q,B.def=ne;const J=await ne.getFile();V.current=await J.arrayBuffer(),W(Q)}else if(le==="json"&&(Q.toLowerCase().includes("item-to-sprite")||Q.toLowerCase().includes("sprite-map"))&&!v.spriteMap){v.spriteMap=Q,B.spriteMap=ne;const J=await ne.getFile();j.current=await J.arrayBuffer(),U(Q)}}O.current=B,m(Z,v),se.current=Z,Rm(Z),console.log("[OB] Opened folder:",Z.name,v),Ie()}catch{}},[Ie,m]),ye=Y.useCallback(async()=>{var le,J,Se,Ae;Ce(null);const T=await Dd();if(!T){Ce("No saved session found.");return}const te=[];async function Z(ve,Oe){if(!ve)return null;try{return await zm(ve,"readwrite")?(await ve.getFile()).arrayBuffer():(te.push(Oe),null)}catch(ot){return console.warn(`[OB] Failed to read ${Oe}:`,ot),te.push(Oe),null}}const v=await Z(T.obj,"Objects"),B=await Z(T.spr,"Sprites"),Q=await Z(T.def,"Definitions"),ne=await Z(T.spriteMap,"Sprite Map");if(!(te.length>0&&(Ce(`Permission denied for: ${te.join(", ")}. Click to retry.`),!v||!B))){if(!v||!B){Ce("Required files (objects + sprites) not found in saved session.");return}if(Q)try{const ve=new TextDecoder().decode(Q);d(JSON.parse(ve))}catch(ve){console.error("Failed to parse definitions:",ve)}if(ne)try{const ve=new TextDecoder().decode(ne);h(JSON.parse(ve))}catch(ve){console.error("Failed to parse sprite map:",ve)}if(g({obj:T.obj,spr:T.spr,def:T.def,spriteMap:T.spriteMap}),T.dir){const ve={};T.obj&&(ve.obj=T.obj.name),T.spr&&(ve.spr=T.spr.name),T.def&&(ve.def=T.def.name),T.spriteMap&&(ve.spriteMap=T.spriteMap.name),m(T.dir,ve)}S(((le=T.obj)==null?void 0:le.name)??null),N(((J=T.spr)==null?void 0:J.name)??null),W(((Se=T.def)==null?void 0:Se.name)??null),U(((Ae=T.spriteMap)==null?void 0:Ae.name)??null),o(v,B)}},[o,d,h,g,m]),Be=Y.useCallback(T=>{T.preventDefault(),c(!1),Array.from(T.dataTransfer.files).forEach(K)},[K]),ue=Y.useCallback(T=>{Array.from(T.target.files||[]).forEach(te=>K(te))},[K]);return f.jsx("div",{className:"h-full flex items-center justify-center bg-emperia-bg p-8",children:f.jsxs("div",{className:"max-w-lg w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-emperia-text mb-2",children:"Emperia Object Builder"}),f.jsx("p",{className:"text-emperia-muted text-sm",children:"v1.0.0  Web Edition"})]}),f.jsxs("div",{onDragOver:T=>{T.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:Be,className:`
            border-2 border-dashed rounded-xl p-12 text-center cursor-pointer
            transition-all duration-200
            ${a?"border-emperia-accent bg-emperia-accent/10":"border-emperia-border hover:border-emperia-muted bg-emperia-surface"}
          `,onClick:()=>{var T;return(T=document.getElementById("file-input"))==null?void 0:T.click()},children:[f.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:".dat,.spr,.eobj,.espr,.json",className:"hidden",onChange:ue}),r?f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx(bm,{className:"w-12 h-12 text-emperia-accent animate-spin"}),f.jsx("p",{className:"text-emperia-text",children:"Loading files"})]}):f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx(Xd,{className:"w-12 h-12 text-emperia-muted"}),f.jsx("p",{className:"text-emperia-text font-medium",children:"Drop your files here"}),f.jsxs("p",{className:"text-emperia-muted text-sm",children:["Drag & drop ",f.jsx("code",{className:"text-emperia-accent",children:".eobj"})," + ",f.jsx("code",{className:"text-emperia-accent",children:".espr"})," files",f.jsx("br",{}),"or legacy ",f.jsx("code",{className:"text-emperia-accent",children:".dat"})," + ",f.jsx("code",{className:"text-emperia-accent",children:".spr"}),f.jsx("br",{}),f.jsxs("span",{className:"text-emperia-muted/60",children:["+ optional ",f.jsx("code",{className:"text-emperia-accent",children:"definitions.json"})," & ",f.jsx("code",{className:"text-emperia-accent",children:"item-to-sprite.json"})]})]})]})]}),typeof window.showDirectoryPicker=="function"&&f.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-3 text-emperia-muted/40 text-xs w-full",children:[f.jsx("div",{className:"flex-1 h-px bg-emperia-border/40"}),f.jsx("span",{children:"or"}),f.jsx("div",{className:"flex-1 h-px bg-emperia-border/40"})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:ie,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emperia-accent/10 border border-emperia-accent/30 text-emperia-accent hover:bg-emperia-accent/20 transition-colors text-sm font-medium",children:[f.jsx(Qd,{className:"w-4 h-4"}),"Open Folder"]}),ge&&f.jsxs("button",{onClick:ye,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500/10 border border-green-500/30 text-green-400 hover:bg-green-500/20 transition-colors text-sm font-medium",children:[f.jsx(Tm,{className:"w-4 h-4"}),"Reload Last Session"]})]}),f.jsxs("p",{className:"text-emperia-muted/50 text-[10px] text-center",children:["Auto-detects files & saves directly back on compile",ge&&f.jsx("span",{className:"text-green-400/50",children:"  Previous session available"})]}),pe&&f.jsx("p",{className:"text-red-400 text-[10px] text-center",children:pe})]}),f.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 justify-center text-xs",children:[f.jsxs("div",{className:`flex items-center gap-1.5 ${x?"text-green-400":"text-emperia-muted"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${x?"bg-green-400":"bg-emperia-border"}`}),x||"Objects (.eobj / .dat)"]}),f.jsxs("div",{className:`flex items-center gap-1.5 ${_?"text-green-400":"text-emperia-muted"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-green-400":"bg-emperia-border"}`}),_||"Sprites (.espr / .spr)"]}),f.jsxs("div",{className:`flex items-center gap-1.5 ${P?"text-green-400":"text-emperia-muted/50"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${P?"bg-green-400":"bg-emperia-border/50"}`}),P||"Definitions (.json)  optional"]}),f.jsxs("div",{className:`flex items-center gap-1.5 ${z?"text-green-400":"text-emperia-muted/50"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${z?"bg-green-400":"bg-emperia-border/50"}`}),z||"Sprite Map (.json)  optional"]})]}),i&&f.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[f.jsx(vm,{className:"w-4 h-4 text-red-400 mt-0.5 shrink-0"}),f.jsx("p",{className:"text-red-300 text-sm",children:i})]})]})})}class ef{constructor(r=4096){R(this,"chunks",[]);R(this,"current");R(this,"pos",0);this.current=new Uint8Array(r)}ensure(r){if(this.pos+r<=this.current.length)return;this.chunks.push(this.current.slice(0,this.pos));const i=Math.max(this.current.length*2,r+1024);this.current=new Uint8Array(i),this.pos=0}writeUInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeUInt16(r){this.ensure(2),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255}writeUInt32(r){this.ensure(4),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255,this.current[this.pos++]=r>>16&255,this.current[this.pos++]=r>>24&255}writeBytes(r){this.ensure(r.length),this.current.set(r,this.pos),this.pos+=r.length}writeString(r){const i=new TextEncoder().encode(r);this.writeUInt16(i.length),this.ensure(i.length),this.current.set(i,this.pos),this.pos+=i.length}toArrayBuffer(){this.chunks.push(this.current.slice(0,this.pos));const r=this.chunks.reduce((c,d)=>c+d.length,0),i=new Uint8Array(r);let a=0;for(const c of this.chunks)i.set(c,a),a+=c.length;return this.chunks=[],this.current=new Uint8Array(4096),this.pos=0,i.buffer}}const Fe={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function Gm(o,r,i){const a=c=>{if(i>=1e3){if(c===Fe.ThingAttrNoMoveAnimation){o.writeUInt8(16);return}if(c===Fe.ThingAttrChargeable){o.writeUInt8(Fe.ThingAttrChargeable+1);return}if(c>=16){o.writeUInt8(c+1);return}}o.writeUInt8(c)};r.ground&&(a(Fe.ThingAttrGround),o.writeUInt16(r.groundSpeed??0)),r.groundBorder&&a(Fe.ThingAttrGroundBorder),r.onBottom&&a(Fe.ThingAttrOnBottom),r.onTop&&a(Fe.ThingAttrOnTop),r.container&&a(Fe.ThingAttrContainer),r.stackable&&a(Fe.ThingAttrStackable),r.forceUse&&a(Fe.ThingAttrForceUse),r.multiUse&&a(Fe.ThingAttrMultiUse),r.writable&&(a(Fe.ThingAttrWritable),o.writeUInt16(r.writableMaxLen??0)),r.writableOnce&&(a(Fe.ThingAttrWritableOnce),o.writeUInt16(r.writableOnceMaxLen??0)),r.fluidContainer&&a(Fe.ThingAttrFluidContainer),r.splash&&a(Fe.ThingAttrSplash),r.notWalkable&&a(Fe.ThingAttrNotWalkable),r.notMoveable&&a(Fe.ThingAttrNotMoveable),r.blockProjectile&&a(Fe.ThingAttrBlockProjectile),r.notPathable&&a(Fe.ThingAttrNotPathable),r.pickupable&&a(Fe.ThingAttrPickupable),r.hangable&&a(Fe.ThingAttrHangable),r.hookSouth&&a(Fe.ThingAttrHookSouth),r.hookEast&&a(Fe.ThingAttrHookEast),r.rotateable&&a(Fe.ThingAttrRotateable),r.hasLight&&(a(Fe.ThingAttrLight),o.writeUInt16(r.lightLevel??0),o.writeUInt16(r.lightColor??0)),r.dontHide&&a(Fe.ThingAttrDontHide),r.translucent&&a(Fe.ThingAttrTranslucent),r.hasDisplacement&&(a(Fe.ThingAttrDisplacement),i>=755&&(o.writeUInt16(r.displacementX??0),o.writeUInt16(r.displacementY??0))),r.hasElevation&&(a(Fe.ThingAttrElevation),o.writeUInt16(r.elevation??0)),r.lyingCorpse&&a(Fe.ThingAttrLyingCorpse),r.animateAlways&&a(Fe.ThingAttrAnimateAlways),r.hasMinimapColor&&(a(Fe.ThingAttrMinimapColor),o.writeUInt16(r.minimapColor??0)),r.lensHelp!=null&&(a(Fe.ThingAttrLensHelp),o.writeUInt16(r.lensHelp)),r.fullGround&&a(Fe.ThingAttrFullGround),r.look&&a(Fe.ThingAttrLook),r.cloth&&(a(Fe.ThingAttrCloth),o.writeUInt16(r.clothSlot??0)),r.hasMarket&&(a(Fe.ThingAttrMarket),o.writeUInt16(r.marketCategory??0),o.writeUInt16(r.marketTradeAs??0),o.writeUInt16(r.marketShowAs??0),o.writeString(r.marketName??""),o.writeUInt16(r.marketRestrictVocation??0),o.writeUInt16(r.marketRequiredLevel??0)),r.usable&&(a(Fe.ThingAttrUsable),o.writeUInt16(r.usableActionId??0)),r.wrapable&&a(Fe.ThingAttrWrapable),r.unwrapable&&a(Fe.ThingAttrUnwrapable),r.topEffect&&a(Fe.ThingAttrTopEffect),r.noMoveAnimation&&a(Fe.ThingAttrNoMoveAnimation),r.chargeable&&a(Fe.ThingAttrChargeable),o.writeUInt8(Fe.ThingAttrLast)}function Wm(o,r,i,a){if(a&&o.writeUInt8(r.type),o.writeUInt8(r.width),o.writeUInt8(r.height),(r.width>1||r.height>1)&&o.writeUInt8(Math.max(r.width,r.height)),o.writeUInt8(r.layers),o.writeUInt8(r.patternX),o.writeUInt8(r.patternY),i>=755&&o.writeUInt8(r.patternZ),o.writeUInt8(r.animationLength),r.animationLength>1&&i>=1050){o.writeUInt8(r.asynchronous),o.writeUInt32(r.nLoop),o.writeUInt8(r.start&255);for(let c=0;c<r.animationLength;c++){const d=r.animationLengths[c]??{min:100,max:100};o.writeUInt32(d.min),o.writeUInt32(d.max)}}for(const c of r.sprites)i>=960?o.writeUInt32(c):o.writeUInt16(c)}function Vm(o,r){if(!r||r.size===0){console.log("[OB] Compile: no edits, returning original buffer");const b=o.originalBuffer.slice(0),x=new Uint8Array(b);if(x.length>=Br&&Ta(x)){const S=o.version>=960,_=o.version>=960,N=o.version>=1050,P=o.version>=1050;let W=0;S&&(W|=1),_&&(W|=2),N&&(W|=4),P&&(W|=8),x[15]=W}return b}console.log(`[OB] Compile: rebuilding with ${r.size} edited thing(s)`);const i=new ef(1024*1024),a=new Uint8Array(o.originalBuffer.slice(0,Br)),c=o.version>=960,d=o.version>=960,h=o.version>=1050,m=o.version>=1050;let g=0;c&&(g|=1),d&&(g|=2),h&&(g|=4),m&&(g|=8),a[15]=g,i.writeBytes(a),i.writeUInt16(o.itemCount),i.writeUInt16(o.outfitCount),i.writeUInt16(o.effectCount),i.writeUInt16(o.distanceCount);const w=o.itemCount+o.outfitCount+o.effectCount+o.distanceCount;for(let b=100;b<=w;b++){const x=o.things.get(b);if(!x){i.writeUInt8(Fe.ThingAttrLast),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),o.version>=755&&i.writeUInt8(1),i.writeUInt8(1),o.version>=960?i.writeUInt32(0):i.writeUInt16(0);continue}if(x.rawBytes&&!r.has(b)){i.writeBytes(x.rawBytes);continue}Gm(i,x.flags,o.version);const S=x.category==="outfit",_=o.version>=1050&&S;_&&i.writeUInt8(x.frameGroups.length);for(const N of x.frameGroups)Wm(i,N,o.version,_)}return i.toArrayBuffer()}const Nd=32,co=Nd*Nd;function $m(o){const r=new Uint32Array(o.data.buffer),i=[];let a=0;for(;a<co;){let m=0;for(;a+m<co&&!((r[a+m]>>24&255)>0);)m++;let g=a+m,w=0;for(;g+w<co&&(r[g+w]>>24&255)!==0;)w++;if(m>0&&w===0&&a+m>=co)break;const b=new Uint8Array(4+w*4),x=new DataView(b.buffer);x.setUint16(0,m,!0),x.setUint16(2,w,!0);for(let S=0;S<w;S++){const _=r[g+S];b[4+S*4+0]=_&255,b[4+S*4+1]=_>>8&255,b[4+S*4+2]=_>>16&255,b[4+S*4+3]=_>>24&255}i.push(b),a=g+w}const c=i.reduce((m,g)=>m+g.length,0),d=new Uint8Array(5+c);d[0]=255,d[1]=0,d[2]=255,d[3]=c&255,d[4]=c>>8&255;let h=5;for(const m of i)d.set(m,h),h+=m.length;return d}function tf(o){let r=0;return o>=960&&(r|=1),o>=960&&(r|=2),o>=1050&&(r|=4),o>=1050&&(r|=8),r}function Ym(o,r){const i=new Uint8Array(o);if(i.length>=Br&&Ta(i)){const a=tf(r);if(i[15]!==a){const c=o.slice(0);return new Uint8Array(c)[15]=a,c}}return o.slice(0)}function Km(o,r){if(!r||r.size===0)return console.log("[OB] Sprite compile: no edits, returning original buffer"),Ym(o.originalBuffer,o.version);console.log(`[OB] Sprite compile: rebuilding with ${r.size} modified sprite(s)`);const i=new Map;for(const[S,_]of r)i.set(S,$m(_));const a=new Map;for(let S=1;S<=o.spriteCount;S++){const _=i.get(S);if(_)a.set(S,_);else{const N=o.addresses.get(S);if(N!==void 0){const P=o.buffer,W=P[N+3]+(P[N+4]<<8);a.set(S,P.slice(N,N+5+W))}}}const c=Br,d=o.version>760?4:2,h=o.spriteCount*4,m=c+d+h,g=new Map;let w=m;for(let S=1;S<=o.spriteCount;S++){const _=a.get(S);_&&(g.set(S,w),w+=_.length)}const b=new ef(w+1024),x=tf(o.version);for(let S=0;S<vo.length;S++)b.writeUInt8(vo[S]);b.writeUInt8(bo.SPRITE_DATA),b.writeUInt16(1),b.writeUInt32(o.version),b.writeUInt8(x),b.writeUInt32(0),o.version>760?b.writeUInt32(o.spriteCount):b.writeUInt16(o.spriteCount);for(let S=1;S<=o.spriteCount;S++)b.writeUInt32(g.get(S)??0);for(let S=1;S<=o.spriteCount;S++){const _=a.get(S);_&&b.writeBytes(_)}return b.toArrayBuffer()}function Qm(){const o=G(x=>x.objectData),r=G(x=>x.spriteData),i=G(x=>x.reset),a=G(x=>x.dirty),c=G(x=>x.undo),d=G(x=>x.redo),h=G(x=>x.undoStack),m=G(x=>x.redoStack),g=G(x=>x.markClean),w=G(x=>x.dirtyIds);Y.useEffect(()=>{const x=S=>{a&&S.preventDefault()};return window.addEventListener("beforeunload",x),()=>window.removeEventListener("beforeunload",x)},[a]);const b=async()=>{if(!o||!r)return;const{spriteOverrides:x,itemDefinitions:S,sourceDir:_,sourceNames:N,sourceHandles:P}=G.getState();async function W(se,O,ge,be){if(O)try{const pe=await O.createWritable();await pe.write(se),await pe.close();return}catch(pe){console.warn(`[OB] Failed to write via file handle (${O.name}), trying folder fallback:`,pe)}if(_&&ge)try{const Ce=await(await _.getFileHandle(ge,{create:!0})).createWritable();await Ce.write(se),await Ce.close();return}catch(pe){console.warn(`[OB] Failed to write ${ge} to folder, falling back to download:`,pe)}Td(se,be)}const z=Vm(o,w);await W(z,P.obj,N.obj,"emperia.eobj");const U=Km(r,x),V=await Xp(U);await W(V,P.spr,N.spr,"emperia.espr");{const se=Array.from(S.keys()).sort((be,pe)=>be-pe),O={};for(const be of se){const pe=S.get(be);let Ce=null;if(pe.properties){Ce={};for(const[ie,ye]of Object.entries(pe.properties))ye!=null&&ye!==""&&(Ce[ie]=ye);Object.keys(Ce).length===0&&(Ce=null)}const Ee=pe.id??be,Ie=o.things.get(Ee);if((Ie==null?void 0:Ie.category)==="item"&&Ie.flags.ground){const ie=Ie.flags.groundSpeed??100;ie!==100?(Ce=Ce??{},Ce.friction=ie):Ce&&(delete Ce.friction,Object.keys(Ce).length===0&&(Ce=null))}const K={};pe.id!=null&&(K.id=pe.id),K.flags=pe.flags,K.group=pe.group,K.properties=Ce,O[String(be)]=K}const ge=JSON.stringify(O,null,4);await W(new TextEncoder().encode(ge).buffer,P.def,N.def,"definitions.json")}{const{spriteMapLoaded:se,exportSpriteMapJson:O}=G.getState();if(se){const ge=O();await W(new TextEncoder().encode(ge).buffer,P.spriteMap,N.spriteMap,"item-to-sprite.json")}}const j=JSON.stringify({version:1,features:{spriteDataSize:4096,transparency:!0,spriteSize:32,frameDurations:!0,extended:!0,frameGroups:!0},contentVersion:o.version,format:"emperia-asset-manifest",files:{sprites:"emperia.espr",objects:"emperia.eobj"}},null,2);Td(new TextEncoder().encode(j).buffer,"emperia.easset"),g(),_&&console.log("[OB] Saved to source folder:",_.name)};return Y.useEffect(()=>{const x=S=>{(S.ctrlKey||S.metaKey)&&S.key==="z"&&!S.shiftKey&&(S.preventDefault(),c()),(S.ctrlKey||S.metaKey)&&(S.key==="y"||S.key==="z"&&S.shiftKey)&&(S.preventDefault(),d()),(S.ctrlKey||S.metaKey)&&S.key==="s"&&(S.preventDefault(),b())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)}),f.jsxs("div",{className:"h-10 flex items-center px-3 gap-2 bg-emperia-surface border-b border-emperia-border shrink-0",children:[f.jsx("span",{className:"text-sm font-bold text-emperia-text tracking-wide",children:"Emperia Object Builder"}),f.jsx("span",{className:"text-xs text-emperia-muted",children:"v1.0.0"}),a&&f.jsx("span",{title:"Unsaved changes",children:f.jsx(pm,{className:"w-2 h-2 fill-amber-400 text-amber-400"})}),f.jsx("div",{className:"flex-1"}),o&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 text-xs text-emperia-muted mr-2",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(_m,{className:"w-3 h-3"}),"v",o.version]}),f.jsxs("span",{children:[o.things.size," objects"]})]}),f.jsx("button",{onClick:c,disabled:h.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Undo (Ctrl+Z)",children:f.jsx(Im,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:d,disabled:m.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Redo (Ctrl+Y)",children:f.jsx(Nm,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-5 bg-emperia-border mx-1"}),f.jsxs("button",{onClick:b,className:`flex items-center gap-1.5 px-2.5 py-1 rounded text-xs font-medium
                       bg-emperia-accent/20 text-emperia-accent hover:bg-emperia-accent/30
                       transition-colors`,title:"Compile and download .eobj + .espr",children:[f.jsx(Ba,{className:"w-3.5 h-3.5"}),"Compile"]})]}),f.jsxs("button",{onClick:i,className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs
                   text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                   transition-colors`,children:[f.jsx(Qd,{className:"w-3.5 h-3.5"}),"Open"]})]})}function Td(o,r){const i=new Blob([o],{type:"application/octet-stream"}),a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=r,c.click(),URL.revokeObjectURL(a)}function Xm(o){let r=4294967295;for(let i=0;i<o.length;i++){r^=o[i];for(let a=0;a<8;a++)r=r>>>1^(r&1?3988292384:0)}return(r^4294967295)>>>0}function Zm(o){const r=new TextEncoder,i=[],a=[];let c=0;for(const S of o){const _=r.encode(S.name),N=Xm(S.data),P=S.data.length,W=new Uint8Array(30+_.length),z=new DataView(W.buffer);z.setUint32(0,67324752,!0),z.setUint16(4,20,!0),z.setUint16(6,0,!0),z.setUint16(8,0,!0),z.setUint16(10,0,!0),z.setUint16(12,0,!0),z.setUint32(14,N,!0),z.setUint32(18,P,!0),z.setUint32(22,P,!0),z.setUint16(26,_.length,!0),z.setUint16(28,0,!0),W.set(_,30),i.push(W),i.push(S.data);const U=new Uint8Array(46+_.length),V=new DataView(U.buffer);V.setUint32(0,33639248,!0),V.setUint16(4,20,!0),V.setUint16(6,20,!0),V.setUint16(8,0,!0),V.setUint16(10,0,!0),V.setUint16(12,0,!0),V.setUint16(14,0,!0),V.setUint32(16,N,!0),V.setUint32(20,P,!0),V.setUint32(24,P,!0),V.setUint16(28,_.length,!0),V.setUint16(30,0,!0),V.setUint16(32,0,!0),V.setUint16(34,0,!0),V.setUint16(36,0,!0),V.setUint32(38,32,!0),V.setUint32(42,c,!0),U.set(_,46),a.push(U),c+=W.length+S.data.length}const d=c;for(const S of a)i.push(S),c+=S.length;const h=c-d,m=new Uint8Array(22),g=new DataView(m.buffer);g.setUint32(0,101010256,!0),g.setUint16(4,0,!0),g.setUint16(6,0,!0),g.setUint16(8,o.length,!0),g.setUint16(10,o.length,!0),g.setUint32(12,h,!0),g.setUint32(16,d,!0),g.setUint16(20,0,!0),i.push(m);const w=i.reduce((S,_)=>S+_.length,0),b=new Uint8Array(w);let x=0;for(const S of i)b.set(S,x),x+=S.length;return b}const Do=document.createElement("canvas");Do.width=32;Do.height=32;const Bd=Do.getContext("2d");function qm(o){return Bd.clearRect(0,0,32,32),Bd.putImageData(o,0,0),new Promise(r=>{Do.toBlob(i=>{i.arrayBuffer().then(a=>r(new Uint8Array(a)))},"image/png")})}function Jm(o){return o.replace(/[^a-zA-Z0-9_\-]/g,"_")}async function e0(o,r){var a;if(o.length===0)return;const i=[];for(const c of o){const d=r.objectData.things.get(c);if(!d)continue;const h=[];for(const x of d.frameGroups)for(const S of x.sprites)S!==0&&!h.includes(S)&&h.push(S);if(h.length===0)continue;const m=r.clientToServerIds.get(c),g=m!=null?r.itemDefinitions.get(m):void 0,w=(a=g==null?void 0:g.properties)==null?void 0:a.name,b=w?`${c}_${Jm(w)}`:`${c}`;for(const x of h){const _=r.spriteOverrides.get(x)??Fr(r.spriteData,x);if(!_)continue;const N=await qm(_),P=h.length===1?`${b}.png`:`${b}_spr${x}.png`;i.push({name:P,data:N})}}if(i.length!==0)if(i.length===1)Fd(i[0].data,i[0].name,"image/png");else{const c=Zm(i);Fd(c,"sprites_export.zip","application/zip")}}function Fd(o,r,i){const a=new Blob([o.buffer],{type:i}),c=URL.createObjectURL(a),d=document.createElement("a");d.href=c,d.download=r,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(c)}const t0={0:"None",1:"Ground",2:"Container",3:"Weapon",4:"Ammunition",5:"Armor",6:"Charges",7:"Teleport",9:"Write",10:"Write Once",11:"Fluid",12:"Splash"},n0=[{key:"item",label:"Items",icon:Em},{key:"outfit",label:"Outfits",icon:Bm},{key:"effect",label:"Effects",icon:Fm},{key:"distance",label:"Distance",icon:fm}];function r0(){const o=G(j=>j.activeCategory),r=G(j=>j.setActiveCategory),i=G(j=>j.objectData),a=G(j=>j.searchQuery),c=G(j=>j.setSearchQuery),d=G(j=>j.selectedThingId),h=G(j=>j.addThing),m=G(j=>j.removeThing),g=G(j=>j.getCategoryRange),w=G(j=>j.filterGroup),b=G(j=>j.setFilterGroup),x=G(j=>j.definitionsLoaded),S=G(j=>j.selectedThingIds),_=G(j=>j.spriteData),N=G(j=>j.spriteOverrides),P=G(j=>j.itemDefinitions),W=G(j=>j.clientToServerIds);G(j=>j.editVersion);const z=S.size,U=async()=>{if(!i||!_)return;const j=z>0?Array.from(S):d!=null?[d]:[];j.length!==0&&await e0(j,{objectData:i,spriteData:_,spriteOverrides:N,itemDefinitions:P,clientToServerIds:W})},V=j=>{if(!i)return 0;switch(j){case"item":return i.itemCount-99;case"outfit":return i.outfitCount;case"effect":return i.effectCount;case"distance":return i.distanceCount}};return f.jsxs("div",{className:"shrink-0",children:[f.jsx("div",{className:"flex border-b border-emperia-border",children:n0.map(({key:j,label:se,icon:O})=>f.jsxs("button",{onClick:()=>r(j),className:`
              flex-1 flex flex-col items-center gap-0.5 py-2 text-xs transition-colors
              ${o===j?"text-emperia-accent border-b-2 border-emperia-accent bg-emperia-accent/5":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}
            `,children:[f.jsx(O,{className:"w-4 h-4"}),f.jsx("span",{children:se}),f.jsx("span",{className:"text-[10px] opacity-60",children:V(j)})]},j))}),f.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1",children:[f.jsxs("div",{className:"flex items-center gap-1.5 bg-emperia-surface rounded px-2 py-1 flex-1",children:[f.jsx(Eo,{className:"w-3.5 h-3.5 text-emperia-muted shrink-0"}),f.jsx("input",{type:"text",placeholder:x?"Search by ID or name":"Search by ID",value:a,onChange:j=>c(j.target.value),className:"bg-transparent text-xs text-emperia-text placeholder-emperia-muted/50 outline-none w-full"}),z>0&&f.jsxs("span",{className:"text-[10px] text-emperia-accent font-medium shrink-0",children:[z," sel"]})]}),x&&o==="item"&&f.jsxs("select",{value:w,onChange:j=>b(parseInt(j.target.value,10)),className:"text-[10px] bg-emperia-surface border border-emperia-border rounded px-1 py-1 text-emperia-text outline-none cursor-pointer max-w-[80px]",title:"Filter by group",children:[f.jsx("option",{value:-1,children:"All"}),Object.entries(t0).map(([j,se])=>f.jsx("option",{value:j,children:se},j))]}),f.jsx("button",{onClick:U,disabled:!i||!_||z===0&&d==null,className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-blue-400 hover:border-blue-400/50 disabled:opacity-30 transition-colors",title:z>0?`Export ${z} selected sprites`:"Export selected sprite",children:f.jsx(Ba,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>h(o),disabled:!i,className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-green-400 hover:border-green-400/50 disabled:opacity-30 transition-colors",title:`Add new ${o}`,children:f.jsx(Fa,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>{if(!d||!i)return;const j=g(o);if(!j||d!==j.end)return;const se=i?rr(i,d):d;confirm(`Remove ${o} #${se}? Only the last entry can be removed.`)&&m(d)},disabled:!i||!d||(()=>{const j=g(o);return!j||d!==j.end})(),className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-red-400 hover:border-red-400/50 disabled:opacity-30 transition-colors",title:`Remove last ${o}`,children:f.jsx(Cm,{className:"w-3.5 h-3.5"})})]})]})}const Nn=40,Id=20;function i0(){const o=G(K=>K.objectData),r=G(K=>K.activeCategory),i=G(K=>K.searchQuery),a=G(K=>K.getCategoryRange),c=G(K=>K.selectedThingId),d=G(K=>K.setSelectedThingId),h=G(K=>K.selectedThingIds),m=G(K=>K.toggleThingSelection),g=G(K=>K.spriteData),w=G(K=>K.spriteOverrides),b=G(K=>K.editVersion),x=G(K=>K.filterGroup),S=G(K=>K.itemDefinitions),_=G(K=>K.clientToServerIds),N=Y.useMemo(()=>am(o,r,i,x,a,S,_),[o,r,i,x,a,S,_,b]),P=Y.useRef(null),[W,z]=Y.useState(0),[U,V]=Y.useState(0),j=6,se=Math.ceil(N.length/j),O=se*Nn,ge=Math.max(0,Math.floor(W/Nn)-Id),be=Math.min(se,Math.ceil((W+U)/Nn)+Id),pe=ge*j,Ce=Math.min(N.length,be*j),Ee=N.slice(pe,Ce),Ie=Y.useCallback(()=>{P.current&&z(P.current.scrollTop)},[]);return Y.useEffect(()=>{const K=P.current;if(!K)return;const ie=new ResizeObserver(()=>V(K.clientHeight));return ie.observe(K),V(K.clientHeight),()=>ie.disconnect()},[]),Y.useEffect(()=>{const K=ie=>{var T;if(!N.length||c==null)return;const ye=(T=ie.target)==null?void 0:T.tagName;if(ye==="INPUT"||ye==="TEXTAREA"||ye==="SELECT")return;const Be=N.findIndex(te=>te.id===c);if(Be<0)return;let ue=Be;switch(ie.key){case"ArrowRight":ue=Math.min(N.length-1,Be+1);break;case"ArrowLeft":ue=Math.max(0,Be-1);break;case"ArrowDown":ue=Math.min(N.length-1,Be+j);break;case"ArrowUp":ue=Math.max(0,Be-j);break;default:return}ue!==Be&&(ie.preventDefault(),d(N[ue].id))};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[N,c,d]),Y.useEffect(()=>{if(c==null||!P.current)return;const K=N.findIndex(ue=>ue.id===c);if(K<0)return;const ye=Math.floor(K/j)*Nn,Be=P.current;(ye<Be.scrollTop||ye+Nn>Be.scrollTop+Be.clientHeight)&&(Be.scrollTop=Math.max(0,ye-Be.clientHeight/2+Nn/2))},[c,N]),f.jsx("div",{ref:P,onScroll:Ie,className:"flex-1 overflow-y-auto",children:f.jsx("div",{style:{height:O,position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:ge*Nn,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${j}, 1fr)`},children:Ee.map(K=>{var Q,ne;const ie=((Q=K.frameGroups[0])==null?void 0:Q.sprites[0])??0,ye=g?ya(g,ie,w):null,Be=K.id===c,ue=o?rr(o,K.id):K.id,T=_==null?void 0:_.get(K.id),te=T!=null?S==null?void 0:S.get(T):void 0,Z=(ne=te==null?void 0:te.properties)==null?void 0:ne.name,v=Z?`#${ue}  ${Z}`:`#${ue}`,B=h.has(K.id);return f.jsxs("button",{onClick:le=>{if(le.ctrlKey||le.metaKey)m(K.id);else if(le.shiftKey&&c!=null){const J=N.findIndex(Ae=>Ae.id===c),Se=N.findIndex(Ae=>Ae.id===K.id);if(J>=0&&Se>=0){const Ae=Math.min(J,Se),ve=Math.max(J,Se),Oe=N.slice(Ae,ve+1).map(ot=>ot.id);m(K.id,Oe)}}else d(K.id)},className:`
                  relative flex items-center justify-center
                  border transition-colors
                  ${Be?"bg-emperia-accent/20 border-emperia-accent":B?"bg-emperia-accent/10 border-emperia-accent/50":"border-transparent hover:bg-emperia-hover"}
                `,style:{width:Nn,height:Nn},title:v,children:[ye?f.jsx("img",{src:ye,alt:"",className:"w-8 h-8 pixelated",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-8 h-8 bg-emperia-border/30 rounded-sm"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[8px] text-emperia-muted/60 leading-none",children:ue})]},K.id)})})})})}const Nr=[16777215,12571903,12577279,12582911,12582889,12582868,12582847,13959103,15335359,16777151,16771519,16766143,16760767,16760788,16760809,16760831,15319039,13942783,12566527,14342874,9412543,9416639,9420735,9420719,9420703,9420687,10469263,11517839,12566415,12562319,12558223,12554127,12554143,12554159,12554175,11505599,10457023,9408447,11974326,6258623,9416639,6275007,6274975,6274943,6274911,8372063,10469215,12566367,12558175,12549983,12541791,12541823,12541855,12541887,10444735,8347583,6250431,9539985,4156095,4166847,4177855,4177812,4177770,4177727,6995775,9748287,12566335,12555327,12544575,12533567,12533610,12533652,12533695,9715647,6963135,4145087,7171437,22015,43775,65535,65450,65364,65280,5570304,11206400,16776960,16754944,16733440,16711680,16711765,16711849,16711934,11141375,5570815,255,4737096,16319,32703,49087,49023,48959,48896,4177664,8371968,12566272,12549888,12533504,12517376,12517439,12517503,12517567,8323263,4128959,191,2368548,10879,21887,32639,32597,32554,32512,2785024,5603072,8355584,8344576,8333824,8323072,8323114,8323156,8323199,5570687,2752639,127],oi=Nr.length,s0=4278255615,o0=4278190335,l0=4278255360,a0=4294901760;function nf(o,r,i){const a=Nr[Math.max(0,Math.min(oi-1,i.head))],c=Nr[Math.max(0,Math.min(oi-1,i.body))],d=Nr[Math.max(0,Math.min(oi-1,i.legs))],h=Nr[Math.max(0,Math.min(oi-1,i.feet))],m=new Uint32Array(r.data.buffer),g=o.data;for(let w=0;w<m.length;w++){const b=4*w;let x;switch(m[w]){case s0:x=a;break;case o0:x=c;break;case l0:x=d;break;case a0:x=h;break;default:continue}g[b+0]=g[b+0]*(x>>0&255)/255,g[b+1]=g[b+1]*(x>>8&255)/255,g[b+2]=g[b+2]*(x>>16&255)/255}}function jd(o){const r=Nr[Math.max(0,Math.min(oi-1,o))],i=r>>0&255,a=r>>8&255,c=r>>16&255;return`#${i.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}const cn=4294967296,Ld=2147483647,Pd=-2147483648,ri=268435455,c0=4294967295,rf=1073741823,Md=192,uo=12,u0=114,d0=768,f0=4096,h0=2,xa=[4294967295,-cn],si=[0,0],p0=[1,0],fo=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],Qe=g0(),ir=x0();function Me(o,r=0){const i=[];if(i[o-1]=void 0,r!==0)for(let a=0;a<o;a++)i[a]=r;return i}function sf(o,r,i,a,c){if(!(r<0||a<0||c<0||r+c>o.length||a+c>i.length))if(o===i&&r<a&&a<r+c)for(let d=c-1;d>=0;d--)i[a+d]=o[r+d];else for(let d=0;d<c;d++)i[a+d]=o[r+d]}function yn(o,r){return Qe[((o-r^-r)&2047)>>>2]}function Xi(o,r){let i,a;for(r%=18446744073709552e3,o%=18446744073709552e3,i=r%cn,a=Math.floor(o/cn)*cn,r=r-i+a,o=o-a+i;o<0;)o+=cn,r-=cn;for(;o>4294967295;)o-=cn,r+=cn;for(r=r%18446744073709552e3;r>9223372032559809e3;)r-=18446744073709552e3;for(;r<-9223372036854776e3;)r+=18446744073709552e3;return[o,r]}function vn(o,r){return Xi(o[0]+r[0],o[1]+r[1])}function of(o,r){return Xi(o[0]-r[0],o[1]-r[1])}function Tn(o,r){if(o[0]==r[0]&&o[1]==r[1])return 0;const i=o[1]<0,a=r[1]<0;return i&&!a?-1:!i&&a?1:of(o,r)[1]<0?-1:1}function Tt(o){return o[0]>=2147483648?~~Math.max(Math.min(o[0]-cn,Ld),Pd):~~Math.max(Math.min(o[0],Ld),Pd)}function Tr(o){return o>=0?[o,0]:[o+cn,-cn]}function m0(o,r){if(r&=63,r<=30){const a=1<<r;return Xi(Math.floor(o[0]/a),o[1]/a)}const i=(1<<30)*(1<<r-30);return Xi(Math.floor(o[0]/i),o[1]/i)}function ze(o){for(let r=o.length-1;r>=0;--r)o[r]=1024}function So(o){return o-=2,o<4?o:3}function tr(o){return o<4?0:o<10?o-3:o-6}function At(o){return{numBitLevels:o,models:Me(1<<o)}}function g0(){const o=[];for(let r=8;r>=0;--r){let i=1<<9-r-1,a=1<<9-r;for(let c=i;c<a;++c)o[c]=(r<<6)+(a-c<<6>>>9-r-1)}return o}function x0(){const o=[0,1];let r=2;for(let i=2;i<22;++i){let a=1<<(i>>1)-1;for(let c=0;c<a;++c,++r)o[r]=i}return o}class y0{constructor(r){R(this,"encoder",null);R(this,"decoder",null);R(this,"alive",0);R(this,"inBytesProcessed",[0,0]);R(this,"lzma");this.lzma=r}processChunk(){if(!this.alive)throw new Error("bad state");if(!this.encoder)throw new Error("No decoding");return this.lzma.codeOneBlock(),this.inBytesProcessed=this.encoder.processedInSize[0],this.encoder.finished[0]&&(this.lzma.releaseStreams(),this.alive=0),this.alive}}class Rd{constructor(r){R(this,"encoder",null);R(this,"decoder");R(this,"alive",0);R(this,"inBytesProcessed",[0,0]);this.decoder=r}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.decoder.codeOneChunk();if(r===-1)throw new Error("Corrupted input");this.inBytesProcessed=this.decoder.nowPos64;const i=Tn(this.decoder.outSize,si)>=0&&Tn(this.decoder.nowPos64,this.decoder.outSize)>=0;return(r||i)&&(this.decoder.flush(),this.decoder.cleanup(),this.alive=0),this.alive}}class v0{constructor(r=null,i=4096){R(this,"buffer",null);R(this,"pos",0);R(this,"streamPos",0);R(this,"stream",null);R(this,"windowSize",0);R(this,"w",null);R(this,"buf",[]);this.w=r,this.stream=r,this.windowSize=i,this.buf=new Array(i),this.buffer=this.buf,this.pos=0,this.streamPos=0}copyBlock(r,i){if(this.buffer)for(let a=0;a<i;a++){let c=this.pos-r-1;c<0&&(c+=this.windowSize);const d=this.buffer[c];this.putByte(d)}}putByte(r){this.buffer&&(this.buffer[this.pos]=r,this.pos++,this.streamPos++,this.pos>=this.windowSize&&this.flush())}getByte(r){if(!this.buffer)return 0;let i=this.pos+r;return i<0?i+=this.windowSize:i>=this.windowSize&&(i-=this.windowSize),this.buffer[i]}flush(){if(this.w&&this.buffer&&this.pos>0){const r=this.buffer.slice(0,this.pos);this.w.write(r),this.pos=0}}isEmpty(){return this.streamPos===0}reset(){this.pos=0,this.streamPos=0,this.buffer&&this.buffer.fill(0)}}class w0{constructor(){R(this,"stream",null);R(this,"code",0);R(this,"rrange",0)}setStream(r){this.stream=r}init(){this.code=0,this.rrange=-1;for(let r=0;r<5;++r)this.code=this.code<<8|this.readFromStream()}decodeBit(r,i){let a,c=r[i];return a=(this.rrange>>>11)*c,(this.code^-2147483648)<(a^-2147483648)?(this.rrange=a,r[i]=c+(2048-c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),0):(this.rrange-=a,this.code-=a,r[i]=c-(c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),1)}decodeDirectBits(r){let i=0;for(let a=r;a!=0;a-=1){this.rrange>>>=1;let c=this.code-this.rrange>>>31;this.code-=this.rrange&c-1,i=i<<1|1-c,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8)}return i}get currentCode(){return this.code}get currentRange(){return this.rrange}readFromStream(){if(!this.stream)return 0;if(this.stream.pos>=this.stream.count)return-1;let r;return this.stream.buf instanceof ArrayBuffer?r=new Uint8Array(this.stream.buf)[this.stream.pos++]:this.stream.buf instanceof Uint8Array?r=this.stream.buf[this.stream.pos++]:r=this.stream.buf[this.stream.pos++],r&255}}class k0{constructor(){R(this,"rangeDecoder");R(this,"outWindow");R(this,"state",0);R(this,"rep0",0);R(this,"rep1",0);R(this,"rep2",0);R(this,"rep3",0);R(this,"prevByte",0);R(this,"nowPos64",[0,0]);R(this,"outSize",[0,0]);R(this,"posStateMask",0);R(this,"dictSizeCheck",0);R(this,"matchDecoders",[]);R(this,"rep0LongDecoders",[]);R(this,"repDecoders",[]);R(this,"repG0Decoders",[]);R(this,"repG1Decoders",[]);R(this,"repG2Decoders",[]);R(this,"posDecoders",[]);R(this,"literalDecoder");R(this,"posSlotDecoders",[]);R(this,"lenDecoder");R(this,"repLenDecoder");R(this,"posAlignDecoder");R(this,"decoder");R(this,"encoder",null);R(this,"alive",0);R(this,"inBytesProcessed",[0,0]);this.rangeDecoder=new w0,this.outWindow=new v0(null,f0),this.matchDecoders=Me(Md),this.rep0LongDecoders=Me(Md),this.repDecoders=Me(uo),this.repG0Decoders=Me(uo),this.repG1Decoders=Me(uo),this.repG2Decoders=Me(uo),this.posDecoders=Me(u0),this.literalDecoder={coders:[],numPrevBits:0,numPosBits:0,posMask:0,init:()=>this.initLiteralDecoder()};for(let r=0;r<4;r++)this.posSlotDecoders[r]=At(6);this.lenDecoder=this.createLenDecoder(),this.repLenDecoder=this.createLenDecoder(),this.posAlignDecoder=At(4),this.decoder=this}get literalCoder(){return this.literalDecoder}createLenDecoder(){return{choice:Me(h0),lowCoder:[],midCoder:[],highCoder:At(8),numPosStates:0}}setDecoderProperties(r){if(r.length<5)return!1;const i=r[0]%9,a=Math.floor(r[0]/9),c=a%5,d=Math.floor(a/5);if(d>4)return!1;this.literalDecoder.numPrevBits=i,this.literalDecoder.numPosBits=c,this.literalDecoder.posMask=(1<<c)-1,this.posStateMask=(1<<d)-1;let h=0;for(let g=0;g<4;g++){const w=r[1+g]&255;h+=w<<g*8}this.dictSizeCheck=Math.max(h,1),h>0&&(this.outWindow.windowSize=Math.max(h,4096),this.outWindow.buffer=Me(this.outWindow.windowSize));const m=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;this.literalDecoder.coders=[];for(let g=0;g<m;g++)this.literalDecoder.coders[g]={decoders:Me(d0)};this.lenDecoder.numPosStates=1<<d,this.repLenDecoder.numPosStates=1<<d,this.lenDecoder.lowCoder=[],this.lenDecoder.midCoder=[],this.repLenDecoder.lowCoder=[],this.repLenDecoder.midCoder=[];for(let g=0;g<1<<d;g++)this.lenDecoder.lowCoder[g]=At(3),this.lenDecoder.midCoder[g]=At(3),this.repLenDecoder.lowCoder[g]=At(3),this.repLenDecoder.midCoder[g]=At(3);return!0}copyBlock(r){const i=this.outWindow,a=this.rep0;let c=i.pos-a-1;for(c<0&&(c+=i.windowSize);r!=0;r-=1)c>=i.windowSize&&(c=0),i.buffer[i.pos]=i.buffer[c],i.pos+=1,c+=1,i.pos>=i.windowSize&&this.flush()}putByte(r){this.outWindow.buffer[this.outWindow.pos]=r,this.outWindow.pos+=1,this.outWindow.pos>=this.outWindow.windowSize&&this.flush()}getByte(r){const i=this.outWindow;let a=i.pos-r-1;return a<0&&(a+=i.windowSize),i.buffer[a]}getDecoder(r,i){const a=r&this.literalDecoder.posMask,c=(i&255)>>>8-this.literalDecoder.numPrevBits,d=(a<<this.literalDecoder.numPrevBits)+c;return this.literalDecoder.coders[d]}initLiteralDecoder(){let r=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;for(let i=0;i<r;++i)for(let a=0;a<this.literalDecoder.coders[i].decoders.length;a++)this.literalDecoder.coders[i].decoders[a]=1024}init(){this.outWindow.streamPos=0,this.outWindow.pos=0,ze(this.matchDecoders),ze(this.rep0LongDecoders),ze(this.repDecoders),ze(this.repG0Decoders),ze(this.repG1Decoders),ze(this.repG2Decoders),ze(this.posDecoders),this.initLiteralDecoder();for(let r=0;r<4;++r)ze(this.posSlotDecoders[r].models);this.initLenDecoder(this.lenDecoder),this.initLenDecoder(this.repLenDecoder),ze(this.posAlignDecoder.models),this.initRangeDecoder()}initLenDecoder(r){ze(r.choice);for(let i=0;i<r.numPosStates;++i)ze(r.lowCoder[i].models),ze(r.midCoder[i].models);ze(r.highCoder.models)}outWindowReleaseStream(){this.flush(),this.outWindow.stream=null}decodeBit(r,i){return this.rangeDecoder.decodeBit(r,i)}decodeDirectBits(r){return this.rangeDecoder.decodeDirectBits(r)}initRangeDecoder(){this.rangeDecoder.init()}rangeBitTreeDecoder(r){let i,a=1;for(i=r.numBitLevels;i!=0;i-=1)a=(a<<1)+this.decodeBit(r.models,a);return a-(1<<r.numBitLevels)}reverseDecode(r,i,a){let c=0;for(let d=0,h=1,m;d<a;++d)m=this.decodeBit(r,i+h),h<<=1,h+=m,c|=m<<d;return c}reverseDecodeAlignDecoder(){let r=0;for(let i=1,a=0,c;a<this.posAlignDecoder.numBitLevels;++a)c=this.decodeBit(this.posAlignDecoder.models,i),i<<=1,i+=c,r|=c<<a;return r}decodeNormalWithRangeDecoder(r){let i=1;do i=i<<1|this.decodeBit(r.decoders,i);while(i<256);return i<<24>>24}decodeWithMatchByteWithRangeDecoder(r,i){let a,c,d=1;do if(c=i>>7&1,i<<=1,a=this.decodeBit(r.decoders,(1+c<<8)+d),d=d<<1|a,c!=a){for(;d<256;)d=d<<1|this.decodeBit(r.decoders,d);break}while(d<256);return d<<24>>24}decodeLenWithRangeDecoder(r,i){if(!this.decodeBit(r.choice,0))return this.rangeBitTreeDecoder(r.lowCoder[i]);let a=8;return this.decodeBit(r.choice,1)?a+=8+this.rangeBitTreeDecoder(r.highCoder):a+=this.rangeBitTreeDecoder(r.midCoder[i]),a}codeOneChunk(){let r,i,a,c,d,h=Tt(this.nowPos64)&this.posStateMask;if(!this.decodeBit(this.matchDecoders,(this.state<<4)+h))r=this.getDecoder(Tt(this.nowPos64),this.prevByte),this.state<7?this.prevByte=this.decodeNormalWithRangeDecoder(r):this.prevByte=this.decodeWithMatchByteWithRangeDecoder(r,this.getByte(this.rep0)),this.putByte(this.prevByte),this.state=tr(this.state),this.nowPos64=vn(this.nowPos64,[1,0]);else{if(this.decodeBit(this.repDecoders,this.state))a=0,this.decodeBit(this.repG0Decoders,this.state)?(this.decodeBit(this.repG1Decoders,this.state)?(this.decodeBit(this.repG2Decoders,this.state)?(i=this.rep3,this.rep3=this.rep2):i=this.rep2,this.rep2=this.rep1):i=this.rep1,this.rep1=this.rep0,this.rep0=i):this.decodeBit(this.rep0LongDecoders,(this.state<<4)+h)||(this.state=this.state<7?9:11,a=1),a||(a=this.decodeLenWithRangeDecoder(this.repLenDecoder,h)+2,this.state=this.state<7?8:11);else if(this.rep3=this.rep2,this.rep2=this.rep1,this.rep1=this.rep0,a=2+this.decodeLenWithRangeDecoder(this.lenDecoder,h),this.state=this.state<7?7:10,d=this.rangeBitTreeDecoder(this.posSlotDecoders[So(a)]),d>=4){if(c=(d>>1)-1,this.rep0=(2|d&1)<<c,d<14)this.rep0+=this.reverseDecode(this.posDecoders,this.rep0-d-1,c);else if(this.rep0+=this.decodeDirectBits(c-4)<<4,this.rep0+=this.reverseDecodeAlignDecoder(),this.rep0<0)return this.rep0==-1?1:-1}else this.rep0=d;if(Tn([this.rep0,0],this.nowPos64)>=0||this.rep0>=this.dictSizeCheck)return-1;this.copyBlock(a),this.nowPos64=vn(this.nowPos64,[a,0]),this.prevByte=this.getByte(0)}return 0}setupForDecoding(r,i,a){this.rangeDecoder.setStream(r),this.outSize=i,this.outWindowReleaseStream(),this.outWindow.stream=a,this.init(),this.state=0,this.rep0=0,this.rep1=0,this.rep2=0,this.rep3=0,this.outSize=i,this.nowPos64=[0,0],this.prevByte=0,this.decoder=this,this.encoder=null,this.alive=1}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.codeOneChunk();if(r===-1)throw new Error("Corrupted input");const i=Tn(this.outSize,[0,0])>=0&&Tn(this.nowPos64,this.outSize)>=0;return(r||i)&&(this.flush(),this.outWindowReleaseStream(),this.rangeDecoder.setStream(null),this.alive=0),this.alive}writeToOutput(r,i,a,c){const d=r.count+c;if(d>r.buf.length){const h=Math.max(r.buf.length*2,d),m=new Array(h);for(let g=0;g<r.count;g++)m[g]=r.buf[g];r.buf=m}for(let h=0;h<c;h++)r.buf[r.count+h]=i[a+h];r.count+=c}isBufferWithCount(r){const i=r;return!!i&&Array.isArray(i.buf)&&typeof i.count=="number"&&typeof i.write=="function"}flush(){const r=this.outWindow.pos-this.outWindow.streamPos;if(r){if(this.outWindow.stream&&this.outWindow.buffer){const i=this.outWindow.stream;if(this.isBufferWithCount(i))this.writeToOutput(i,this.outWindow.buffer,this.outWindow.streamPos,r);else if(typeof i.write=="function"){const a=this.outWindow.buffer.slice(this.outWindow.streamPos,this.outWindow.streamPos+r);i.write(a)}}this.outWindow.pos>=this.outWindow.windowSize&&(this.outWindow.pos=0),this.outWindow.streamPos=this.outWindow.pos}}cleanup(){this.outWindow.stream=null,this.rangeDecoder.stream=null}}class S0{constructor(){R(this,"choice",Me(2));R(this,"lowCoder",[]);R(this,"midCoder",[]);R(this,"highCoder",At(8));R(this,"tableSize",0);R(this,"prices",[]);R(this,"counters",[]);for(let r=0;r<16;++r)this.lowCoder[r]=At(3),this.midCoder[r]=At(3)}init(r){ze(this.choice);for(let i=0;i<r;++i)ze(this.lowCoder[i].models),ze(this.midCoder[i].models);ze(this.highCoder.models)}encode(r,i,a){r<8?(a.encodeBit(this.choice,0,0),a.encodeBitTree(this.lowCoder[i],r)):(r-=8,a.encodeBit(this.choice,0,1),r<8?(a.encodeBit(this.choice,1,0),a.encodeBitTree(this.midCoder[i],r)):(a.encodeBit(this.choice,1,1),a.encodeBitTree(this.highCoder,r-8)))}encodeWithUpdate(r,i,a){this.encode(r,i,a),this.counters&&(this.counters[i]-=1)==0&&(this.counters[i]=this.tableSize)}getPrice(r,i){return this.prices[i*272+r]}initPriceTable(){this.prices=[],this.counters=[]}setTableSize(r){this.tableSize=r}setTableSizeAndInitCounters(r,i){if(this.tableSize=r,this.counters)for(let a=0;a<i;++a)this.counters[a]=r}getTableSize(){return this.tableSize}updateTables(r){(!this.prices||!this.counters)&&this.initPriceTable();for(let i=0;i<r;++i)this.setPrices(i,this.tableSize,this.prices,0),this.counters&&(this.counters[i]=this.tableSize)}getBitTreePrice(r,i){let a,c,d=1,h=0;for(c=r.numBitLevels;c!=0;)c-=1,a=i>>>c&1,h+=this.getBitPrice(r.models[d],a),d=(d<<1)+a;return h}getBitPrice(r,i){return yn(r,i)}setPrices(r,i,a,c){const d=this.getBitPrice(this.choice[0],0),h=this.getBitPrice(this.choice[0],1),m=h+this.getBitPrice(this.choice[1],0),g=h+this.getBitPrice(this.choice[1],1);let w=0;const b=c+r*272;for(w=0;w<8;++w){if(w>=i)return;a[b+w]=d+this.getBitTreePrice(this.lowCoder[r],w)}for(;w<16;++w){if(w>=i)return;a[b+w]=m+this.getBitTreePrice(this.midCoder[r],w-8)}for(;w<i;++w)a[b+w]=g+this.getBitTreePrice(this.highCoder,w-8-8)}}class _0{constructor(){R(this,"coders");this.coders=Me(768,1024)}decodeNormal(r){let i=1;for(;i<256;){const a=r.decodeBit(this.coders,i);i=i<<1|a}return i&255}decodeWithMatchByte(r,i){let a=i,c=1;for(;c<256;){const d=a>>7&1;a<<=1;const h=r.decodeBit(this.coders,(1+d<<8)+c);if(c=c<<1|h,d!==h){for(;c<256;){const m=r.decodeBit(this.coders,c);c=c<<1|m}break}}return c&255}encode(r,i){let a=1;for(let c=7;c>=0;c--){const d=i>>c&1;r.encodeBit(this.coders,a,d),a=a<<1|d}}encodeMatched(r,i,a){let c=i,d=1,h=!0;for(let m=7;m>=0;m--){const g=a>>m&1;let w=d;if(h){const b=c>>m&1;w+=1+b<<8,h=b===g}r.encodeBit(this.coders,w,g),d=d<<1|g}}getPrice(r,i,a){let c=i,d=0,h=1,m=7;if(r)for(;m>=0;){const g=c>>m&1,w=a>>m&1;if(d+=yn(this.coders[1+g<<8+h],w),h=h<<1|w,g!==w){m--;break}m--}for(;m>=0;){const g=a>>m&1;d+=yn(this.coders[h],g),h=h<<1|g,m--}return d}reset(){this.coders.fill(1024)}get decoders(){return this.coders}}class b0{constructor(r,i){R(this,"_coders");R(this,"_numPrevBits");R(this,"_posMask");const a=1<<i+r;this._coders=[],this._numPrevBits=i,this._posMask=(1<<r)-1;for(let c=0;c<a;c++)this._coders[c]=new _0}getSubCoder(r,i){return this._coders[((r&this._posMask)<<this._numPrevBits)+(i>>8-this._numPrevBits)]}reset(){this._coders.forEach(r=>r.reset())}get numPrevBits(){return this._numPrevBits}get numPosBits(){return Math.log2(this._posMask+1)}get posMask(){return this._posMask}get coders(){return this._coders}}const ho=new Map;function C0(o){return o<<6}function va(o,r){const i=`${o.numBitLevels}-${r}`;if(ho.has(i))return ho.get(i);let a=0,c=1;for(let d=o.numBitLevels;d>0;d--){const h=r>>>d-1&1;a+=yn(o.models[c],h),c=(c<<1)+h}return ho.size<1e4&&ho.set(i,a),a}class E0{constructor(){R(this,"state",0);R(this,"previousByte",0);R(this,"position",[0,0]);R(this,"repDistances",[0,0,0,0]);R(this,"longestMatchLength",0);R(this,"longestMatchWasFound",!1);R(this,"additionalOffset",0);R(this,"isMatch",Me(192));R(this,"isRep",Me(12));R(this,"isRepG0",Me(12));R(this,"isRepG1",Me(12));R(this,"isRepG2",Me(12));R(this,"isRep0Long",Me(192))}initModels(){ze(this.isMatch),ze(this.isRep),ze(this.isRepG0),ze(this.isRepG1),ze(this.isRepG2),ze(this.isRep0Long)}updateRepDistances(r,i){if(i===0)this.repDistances[3]=this.repDistances[2],this.repDistances[2]=this.repDistances[1],this.repDistances[1]=this.repDistances[0],this.repDistances[0]=r;else{const a=this.repDistances[i];for(let c=i;c>0;c--)this.repDistances[c]=this.repDistances[c-1];this.repDistances[0]=a}}}class A0{constructor(){R(this,"posSlotEncoder",[]);R(this,"posEncoders",Me(114));R(this,"posAlignEncoder");for(let r=0;r<4;r++)this.posSlotEncoder[r]=At(6);this.posAlignEncoder=At(4)}init(){for(const r of this.posSlotEncoder)ze(r.models);ze(this.posEncoders),ze(this.posAlignEncoder.models)}encodePosition(r,i,a){const c=this.getPosSlot(r);if(a.encodeBitTree(this.posSlotEncoder[i],c),c>=4){const d=(c>>1)-1,h=(2|c&1)<<d,m=r-h;c<14?this.encodeReverseBits(m,d,a):(a.encodeDirectBits(m>>4,d-4),a.encodeBitTree(this.posAlignEncoder,m&15))}}getPositionPrice(r,i){const a=this.getPosSlot(r);let c=va(this.posSlotEncoder[i],a);if(a>=4){const d=(a>>1)-1,h=(2|a&1)<<d,m=r-h;a<14?c+=this.getReverseBitsPrice(m,d):(c+=C0(d-4),c+=va(this.posAlignEncoder,m&15))}return c}getPosSlot(r){return r<4?r:r<1<<20?ir[r>>6]+12:ir[r>>26]+52}encodeReverseBits(r,i,a){let c=1;for(let d=0;d<i;d++){const h=r&1;a.encodeBit(this.posEncoders,c,h),c=c<<1|h,r>>>=1}}getReverseBitsPrice(r,i){let a=0,c=1;for(let d=0;d<i;d++){const h=r&1;a+=yn(this.posEncoders[c],h),c=c<<1|h,r>>>=1}return a}}class D0{constructor(){R(this,"encoderState",new E0);R(this,"positionEncoder",new A0);R(this,"_state",0);R(this,"_previousByte",0);R(this,"_distTableSize",0);R(this,"_longestMatchWasFound",0);R(this,"_optimumEndIndex",0);R(this,"_optimumCurrentIndex",0);R(this,"_additionalOffset",0);R(this,"_dictionarySize",0);R(this,"_matchFinder",null);R(this,"_dictionarySizePrev",0);R(this,"_numFastBytes",0);R(this,"_numLiteralContextBits",0);R(this,"_numLiteralPosStateBits",0);R(this,"_posStateBits",0);R(this,"_posStateMask",0);R(this,"_needReleaseMFStream",0);R(this,"_inStream",null);R(this,"_finished",0);R(this,"nowPos64",[0,0]);R(this,"_repDistances",Me(4));R(this,"_optimum",[]);R(this,"_rangeEncoder",{stream:{buf:[],count:0},rrange:0,cache:0,low:[0,0],cacheSize:0,position:[0,0],encodeBit:()=>{},encodeBitTree:()=>{},encodeDirectBits:()=>{}});R(this,"_isMatch",Me(192));R(this,"_isRep",Me(12));R(this,"_isRepG0",Me(12));R(this,"_isRepG1",Me(12));R(this,"_isRepG2",Me(12));R(this,"_isRep0Long",Me(192));R(this,"_posSlotEncoder",[]);R(this,"_posEncoders",Me(114));R(this,"_posAlignEncoder",null);R(this,"_lenEncoder",null);R(this,"_repMatchLenEncoder",null);R(this,"_literalEncoder",null);R(this,"_matchDistances",[]);R(this,"_posSlotPrices",[]);R(this,"_distancesPrices",[]);R(this,"_alignPrices",Me(16));R(this,"_matchPriceCount",0);R(this,"_alignPriceCount",0);R(this,"reps",Me(4));R(this,"repLens",Me(4));R(this,"processedInSize",[[0,0]]);R(this,"processedOutSize",[[0,0]]);R(this,"finished",[0]);R(this,"properties",Me(5));R(this,"tempPrices",Me(128));R(this,"_longestMatchLength",0);R(this,"_matchFinderType",1);R(this,"_numDistancePairs",0);R(this,"_numFastBytesPrev",-1);R(this,"backRes",0)}baseInit(){this._state=0,this._previousByte=0;for(let r=0;r<4;++r)this._repDistances[r]=0}getOptimum(){return this._optimum}getBackRes(){return this.backRes}setBackRes(r){this.backRes=r}init(){this.baseInit(),this.encoderState.initModels(),this.positionEncoder.init(),this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};this.initEncoderState(),ze(this._isMatch),ze(this._isRep0Long),ze(this._isRep),ze(this._isRepG0),ze(this._isRepG1),ze(this._isRepG2),ze(this._posEncoders),this.initLiteralEncoder();for(let r=0;r<4;++r)ze(this._posSlotEncoder[r].models);this._lenEncoder&&this._lenEncoder.init(1<<this._posStateBits),this._repMatchLenEncoder&&this._repMatchLenEncoder.init(1<<this._posStateBits),this._posAlignEncoder&&ze(this._posAlignEncoder.models),this._longestMatchWasFound=0,this._optimumEndIndex=0,this._optimumCurrentIndex=0,this._additionalOffset=0}initEncoderState(){this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=4294967295,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0,this._rangeEncoder.position=[0,0]}initLiteralEncoder(){const r=1<<this._literalEncoder.numPrevBits+this._literalEncoder.numPosBits;for(let i=0;i<r;++i)ze(this._literalEncoder.coders[i].decoders)}createOptimumStructures(){for(let r=0;r<4096;++r)this._optimum[r]={};for(let r=0;r<4;++r)this._posSlotEncoder[r]=At(6)}createLenPriceTableEncoder(){const r=new S0;return r.initPriceTable(),r}createLiteralEncoderEncoder2(){return{decoders:Me(768)}}createLiteralEncoder(){this._literalEncoder!=null&&this._literalEncoder.numPrevBits==this._numLiteralContextBits&&this._literalEncoder.numPosBits==this._numLiteralPosStateBits||(this._literalEncoder=new b0(this._numLiteralPosStateBits,this._numLiteralContextBits))}initialize(){this._lenEncoder=this.createLenPriceTableEncoder(),this._repMatchLenEncoder=this.createLenPriceTableEncoder(),this._posAlignEncoder=At(4),this._optimum=[],this.createOptimumStructures(),this.createLiteralEncoder(),this.init()}configure(r){this.setDictionarySize(1<<r.searchDepth),this._numFastBytes=r.filterStrength,this._matchFinderType=r.modeIndex,this._numLiteralContextBits=3,this._numLiteralPosStateBits=0,this._posStateBits=2,this._posStateMask=3}setDictionarySize(r){this._dictionarySize=r;let i=0;for(;r>1<<i;++i);this._distTableSize=i*2}encodeBit(r,i,a){const c=this._rangeEncoder;let d,h=r[i];d=(c.rrange>>>11)*h,a?(c.low=vn(c.low,this.and64(Tr(d),[4294967295,0])),c.rrange-=d,r[i]=h-(h>>>5)<<16>>16):(c.rrange=d,r[i]=h+(2048-h>>>5)<<16>>16),c.rrange&-16777216||(c.rrange<<=8,this.shiftLow())}encodeBitTree(r,i){let a,c,d=1;for(c=r.numBitLevels;c!=0;)c-=1,a=i>>>c&1,this.encodeBit(r.models,d,a),d=d<<1|a}encodeLiteral(r,i){let a,c=1;for(let d=7;d>=0;--d)a=i>>d&1,this.encodeBit(r.decoders,c,a),c=c<<1|a}encodeMatched(r,i,a){let c,d,h,m=!0,g=1;for(let w=7;w>=0;--w)c=a>>w&1,h=g,m&&(d=i>>w&1,h+=1+d<<8,m=d===c),this.encodeBit(r.decoders,h,c),g=g<<1|c}encodeLength(r,i,a){r.encode(i,a,this)}encodeDirectBits(r,i){const a=this._rangeEncoder;for(let c=i-1;c>=0;c-=1)a.rrange>>>=1,(r>>>c&1)==1&&(a.low=vn(a.low,Tr(a.rrange))),a.rrange&-16777216||(a.rrange<<=8,this.shiftLow())}reverseEncode(r){const i=this._posAlignEncoder;if(!i)return;let a,c=1;for(let d=0;d<i.numBitLevels;++d)a=r&1,this.encodeBit(i.models,c,a),c=c<<1|a,r>>=1}reverseEncodeRange(r,i,a){let c,d=1;for(let h=0;h<i;++h)c=a&1,this.encodeBit(this._posEncoders,r+d,c),d=d<<1|c,a>>=1}writeEndMarker(r){this.encodeBit(this._isMatch,(this._state<<4)+r,1),this.encodeBit(this._isRep,this._state,0),this._state=this._state<7?7:10,this.encodeLength(this._lenEncoder,0,r);const i=63,a=So(2);this.encodeBitTree(this._posSlotEncoder[a],i),this.encodeDirectBits(67108863,26),this.reverseEncode(15)}encodeLengthWithPriceUpdate(r,i,a){r.encodeWithUpdate(i,a,this)}and64(r,i){const a=~~Math.max(Math.min(r[1]/4294967296,2147483647),-2147483648)&~~Math.max(Math.min(i[1]/4294967296,2147483647),-2147483648),c=Tt(r)&Tt(i);let d=a*4294967296,h=c;return c<0&&(h+=4294967296),[h,d]}shru64(r,i){i&=63;let a=this.pwrAsDouble(i),c=Xi(Math.floor(r[0]/a),r[1]/a);return r[1]<0&&(c=vn(c,this.shl64([2,0],63-i))),c}shl64(r,i){let a,c,d,h;if(i&=63,r[0]==0&&r[1]==-9223372036854776e3)return i?[0,0]:r;if(r[1]<0)throw new Error("Neg");return h=this.pwrAsDouble(i),c=r[1]*h%18446744073709552e3,d=r[0]*h,a=d-d%4294967296,c+=a,d-=a,c>=9223372036854776e3&&(c-=18446744073709552e3),[d,c]}pwrAsDouble(r){return r<=30?1<<r:this.pwrAsDouble(30)*this.pwrAsDouble(r-30)}shiftLow(){const r=this._rangeEncoder,i=Tt(this.shru64(r.low,32));if(i!=0||Tn(r.low,[4278190080,0])<0){r.position=vn(r.position,Tr(r.cacheSize));let a=r.cache;do this.writeToStream(r.stream,a+i),a=255;while((r.cacheSize-=1)!=0);r.cache=Tt(r.low)>>>24}r.cacheSize+=1,r.low=this.shl64(this.and64(r.low,[16777215,0]),8)}writeToStream(r,i){if(r){if(r.count>=r.buf.length){const a=Math.max(r.buf.length*2,r.count+1),c=new Array(a);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}}initRangeEncoder(){this._rangeEncoder.position=[0,0],this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=-1,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0}fillAlignPrices(){for(let r=0;r<16;++r)this._alignPrices[r]=this.reverseGetPrice(this._posAlignEncoder,r);this._alignPriceCount=0}fillDistancesPrices(){let r,i,a,c,d,h;for(let m=4;m<128;++m)c=this.getPosSlot(m),a=(c>>1)-1,r=(2|c&1)<<a,this.tempPrices[m]=this.reverseGetPriceArray(this._posEncoders,r-c-1,a,m-r);for(let m=0;m<4;++m){for(i=this._posSlotEncoder[m],d=m<<6,c=0;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]=this.rangeCoder_Encoder_GetPrice_1(i,c);for(c=14;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]+=(c>>1)-1-4<<6;h=m*128;for(let g=0;g<4;++g)this._distancesPrices[h+g]=this._posSlotPrices[d+g];for(let g=4;g<128;++g)this._distancesPrices[h+g]=this._posSlotPrices[d+this.getPosSlot(g)]+this.tempPrices[g]}this._matchPriceCount=0}getPosSlot(r){return r<2048?ir[r]:r<2097152?ir[r>>10]+20:ir[r>>20]+40}reverseGetPrice(r,i){let a,c=1,d=0;for(let h=r.numBitLevels;h!=0;h-=1)a=i&1,i>>>=1,d+=this.getPrice(r.models[c],a),c=c<<1|a;return d}reverseGetPriceArray(r,i,a,c){let d,h=1,m=0;for(let g=a;g!=0;g-=1)d=c&1,c>>>=1,m+=Qe[((r[i+h]-d^-d)&2047)>>>2],h=h<<1|d;return m}getPrice(r,i){return yn(r,i)}rangeCoder_Encoder_GetPrice_1(r,i){return va(r,i)}createEncoderStructures(){this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};for(let r=0;r<4096;++r)this._optimum[r]={};this._posSlotEncoder=new Array(4);for(let r=0;r<4;++r)this._posSlotEncoder[r]=At(6)}createMatchFinderAndStructures(){if(!this._matchFinder){const r={};let i=4;this._matchFinderType||(i=2),r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0),r._cyclicBufferSize=0,r._cyclicBufferPos=0,r._streamPos=0,r._cutValue=255,r._matchMaxLen=0,r._streamEndWasReached=0,r._pos=0,r._posLimit=0,r._son=[],r._hash=[],r._bufferBase=[],r._blockSize=0,r._keepSizeAfter=0,r._keepSizeBefore=0,r._pointerToLastSafePosition=0,this._matchFinder=r}this.createLiteralEncoder(),!(this._dictionarySize==this._dictionarySizePrev&&this._numFastBytesPrev==this._numFastBytes)&&(this._dictionarySizePrev=this._dictionarySize,this._numFastBytesPrev=this._numFastBytes)}getSubCoderUtility(r,i){const c=(r&this._literalEncoder.posMask)<<this._literalEncoder.numPrevBits,d=8-this._literalEncoder.numPrevBits,h=(i&255)>>>d,m=c+h;return this._literalEncoder.coders[m]}}class N0{constructor(r){R(this,"matchFinder");this.matchFinder=r}getIndexByte(r){return this.matchFinder._bufferBase[this.matchFinder._bufferOffset+this.matchFinder._pos+r]}getMatchLen(r,i,a){this.matchFinder._streamEndWasReached&&this.matchFinder._pos+r+a>this.matchFinder._streamPos&&(a=this.matchFinder._streamPos-(this.matchFinder._pos+r)),++i;let c;const d=this.matchFinder._bufferOffset+this.matchFinder._pos+r;for(c=0;c<a&&this.matchFinder._bufferBase[d+c]==this.matchFinder._bufferBase[d+c-i];++c);return c}getNumAvailableBytes(){return this.matchFinder._streamPos-this.matchFinder._pos}moveBlock(){let r=this.matchFinder._bufferOffset+this.matchFinder._pos-this.matchFinder._keepSizeBefore;r>0&&--r;const i=this.matchFinder._bufferOffset+this.matchFinder._streamPos-r;for(let a=0;a<i;++a)this.matchFinder._bufferBase[a]=this.matchFinder._bufferBase[r+a];this.matchFinder._bufferOffset-=r}movePos(){this.matchFinder._pos+=1,this.matchFinder._pos>this.matchFinder._posLimit&&(this.matchFinder._bufferOffset+this.matchFinder._pos>this.matchFinder._pointerToLastSafePosition&&this.moveBlock(),this.readBlock())}readBlock(){if(!this.matchFinder._streamEndWasReached)for(;;){const r=-this.matchFinder._bufferOffset+this.matchFinder._blockSize-this.matchFinder._streamPos;if(!r)return;const i=this.readFromStream(this.matchFinder._bufferOffset+this.matchFinder._streamPos,r);if(i==-1){this.matchFinder._posLimit=this.matchFinder._streamPos,this.matchFinder._bufferOffset+this.matchFinder._posLimit>this.matchFinder._pointerToLastSafePosition&&(this.matchFinder._posLimit=this.matchFinder._pointerToLastSafePosition-this.matchFinder._bufferOffset),this.matchFinder._streamEndWasReached=1;return}this.matchFinder._streamPos+=i,this.matchFinder._streamPos>=this.matchFinder._pos+this.matchFinder._keepSizeAfter&&(this.matchFinder._posLimit=this.matchFinder._streamPos-this.matchFinder._keepSizeAfter)}}reduceOffsets(r){this.matchFinder._bufferOffset+=r,this.matchFinder._posLimit-=r,this.matchFinder._pos-=r,this.matchFinder._streamPos-=r}readFromStream(r,i){const a=this.matchFinder._stream,c=this.matchFinder._bufferBase;if(a.pos>=a.count)return-1;let d;return a.buf instanceof Uint8Array?d=Array.from(a.buf):a.buf instanceof ArrayBuffer?d=Array.from(new Uint8Array(a.buf)):d=a.buf,i=Math.min(i,a.count-a.pos),sf(d,a.pos,c,r,i),a.pos+=i,i}}function T0(o,r,i,a){return~~((o+r+i+a)/2)+256}function B0(o,r){const i=r+1;if(o._cyclicBufferSize!==i){const a=(o._cyclicBufferSize=i)*2;o._son=Me(a)}}function F0(o,r){let i=65536,a=0;return r&&(i=o-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,i|=65535,i>16777216&&(i>>=1),a=i,i+=1),{hashMask:a,hashSizeSum:i}}function I0(o){return 16+(o>>1)}function j0(o){return o<rf}const L0={1:{searchDepth:16,filterStrength:64,modeIndex:0},2:{searchDepth:20,filterStrength:64,modeIndex:0},3:{searchDepth:19,filterStrength:64,modeIndex:1},4:{searchDepth:20,filterStrength:64,modeIndex:1},5:{searchDepth:21,filterStrength:128,modeIndex:1},6:{searchDepth:22,filterStrength:128,modeIndex:1},7:{searchDepth:23,filterStrength:128,modeIndex:1},8:{searchDepth:24,filterStrength:255,modeIndex:1},9:{searchDepth:25,filterStrength:255,modeIndex:1}};var fe,dt,He,I,an,$,af,cf,wa,mo,uf,df,ff,hf,pf,mf,gf,ka,xf,yf,vf,wf,kf,Ki,Sa,Sf,_f,bf,Cf,_a,Ef,Af,Df,Nf,go,Tf,ba,Ar,Bf,Ca,xo,Ea,Ff,Dr,Qi,Aa,If,jf,Lf,Pf;class lf{constructor(){Cr(this,$);Cr(this,fe);Cr(this,dt);Cr(this,He,null);Cr(this,I);Cr(this,an);ni(this,fe,new D0),ni(this,dt,new k0),ni(this,I,ae(this,$,af).call(this)),ni(this,an,ae(this,$,cf).call(this))}writeHeaderProperties(){y(this,fe).properties[0]=(y(this,fe)._posStateBits*5+y(this,fe)._numLiteralPosStateBits)*9+y(this,fe)._numLiteralContextBits&255;for(let i=0;i<4;i++)y(this,fe).properties[1+i]=y(this,fe)._dictionarySize>>8*i&255;ae(this,$,df).call(this,y(this,I).output,y(this,fe).properties,0,5)}GetPosSlot2(r){return r<131072?ir[r>>6]+12:r<134217728?ir[r>>16]+32:ir[r>>26]+52}ReverseEncode(r,i,a){let c,d=1;for(let h=0;h<i;++h)c=a&1,y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._posEncoders,r+d,c),d=d<<1|c,a>>=1}encodeString(r){let i,a=[],c=0,d=r.length;ae(this,$,ff).call(this,r,0,d,a,0);for(let m=0;m<d;++m)i=a[m],i>=1&&i<=127?++c:!i||i>=128&&i<=2047?c+=2:c+=3;const h=[];c=0;for(let m=0;m<d;++m)i=a[m],i>=1&&i<=127?h[c++]=i<<24>>24:!i||i>=128&&i<=2047?(h[c++]=(192|i>>6&31)<<24>>24,h[c++]=(128|i&63)<<24>>24):(h[c++]=(224|i>>12&15)<<24>>24,h[c++]=(128|i>>6&63)<<24>>24,h[c++]=(128|i&63)<<24>>24);return h}compress(r,i=5){const a=L0[i];for(ae(this,$,mf).call(this,r,a);y(this,I).chunker.processChunk(););const c=ae(this,$,mo).call(this,y(this,I).output);return new Int8Array(c)}compressString(r,i=5){const a=this.encodeString(r);return this.compress(new Uint8Array(a),i)}decompress(r){for(ae(this,$,ka).call(this,r);y(this,an).chunker.processChunk(););return ae(this,$,mo).call(this,y(this,an).output)}decompressString(r){for(ae(this,$,ka).call(this,r);y(this,an).chunker.processChunk(););const i=ae(this,$,mo).call(this,y(this,an).output),a=ae(this,$,Pf).call(this,i);return typeof a=="string"?a:String.fromCharCode(...a)}codeOneBlock(){ae(this,$,Ef).call(this)}releaseStreams(){ae(this,$,Ff).call(this)}}fe=new WeakMap,dt=new WeakMap,He=new WeakMap,I=new WeakMap,an=new WeakMap,$=new WeakSet,af=function(){return{chunker:new y0(this),output:{buf:Me(32),count:0,write:()=>{}}}},cf=function(){return{chunker:new Rd(y(this,dt)),output:{buf:Me(32),count:0,write:()=>{}}}},wa=function(r){if(r.pos>=r.count)return-1;let i;return r.buf instanceof ArrayBuffer?i=new Uint8Array(r.buf)[r.pos++]:(r.buf instanceof Uint8Array,i=r.buf[r.pos++]),i&255},mo=function(r){return r.buf.slice(0,r.count)},uf=function(r,i){if(r){if(r.count>=r.buf.length){const a=Math.max(r.buf.length*2,r.count+1),c=new Array(a);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}},df=function(r,i,a,c){const d=r.count+c;if(d>r.buf.length){const h=Math.max(r.buf.length*2,d),m=new Array(h);for(let g=0;g<r.count;g++)m[g]=r.buf[g];r.buf=m}sf(i,a,r.buf,r.count,c),r.count+=c},ff=function(r,i,a,c,d){for(let h=i;h<a;++h)c[d++]=r.charCodeAt(h)},hf=function(r){y(this,fe).initialize(),y(this,fe).configure(r)},pf=function(r,i,a){if(Tn(i,xa)<0)throw new Error("invalid length "+i);y(this,I).length_0=i,ae(this,$,Df).call(this),ae(this,$,hf).call(this,a),this.writeHeaderProperties();for(let c=0;c<64;c+=8)ae(this,$,uf).call(this,y(this,I).output,Tt(m0(i,c))&255);y(this,fe)._needReleaseMFStream=0,y(this,fe)._inStream=r,y(this,fe)._finished=0,ae(this,$,Af).call(this),y(this,fe)._rangeEncoder.stream=y(this,I).output,y(this,fe).init(),y(this,fe).fillDistancesPrices(),y(this,fe).fillAlignPrices(),y(this,fe)._lenEncoder.setTableSize(y(this,fe)._numFastBytes+1-2),y(this,fe)._lenEncoder.updateTables(1<<y(this,fe)._posStateBits),y(this,fe)._repMatchLenEncoder.setTableSize(y(this,fe)._numFastBytes+1-2),y(this,fe)._repMatchLenEncoder.updateTables(1<<y(this,fe)._posStateBits),y(this,fe).nowPos64=si,y(this,I).chunker.encoder=y(this,fe),y(this,I).chunker.alive=1},mf=function(r,i){const a=r instanceof ArrayBuffer?r.byteLength:r.length,c=Math.max(32,Math.ceil(a*1.2));y(this,I).output={buf:Me(c),count:0,write:()=>{}};const d={pos:0,buf:r instanceof ArrayBuffer?new Uint8Array(r):r,count:r instanceof ArrayBuffer?new Uint8Array(r).length:r.length};ae(this,$,pf).call(this,d,Tr(r instanceof ArrayBuffer?r.byteLength:r.length),i)},gf=function(r){let i="",a=[],c,d;for(let m=0;m<5;++m){if(c=ae(this,$,wa).call(this,r),c==-1)throw new Error("truncated input");a[m]=c<<24>>24}if(y(this,dt).setDecoderProperties(a)?0:1)throw new Error("corrupted input");for(let m=0;m<64;m+=8){if(c=ae(this,$,wa).call(this,r),c==-1)throw new Error("truncated input");c=c.toString(16),c.length==1&&(c="0"+c),i=c+""+i}/^0+$|^f+$/i.test(i)?y(this,I).length_0=xa:(d=parseInt(i,16),d>c0?y(this,I).length_0=xa:y(this,I).length_0=Tr(d)),y(this,an).chunker=ae(this,$,bf).call(this,r,y(this,I).length_0)},ka=function(r){const i=r instanceof ArrayBuffer?r.byteLength:r.length,a=32,c=i*2,d=Math.max(a,c);y(this,an).output={buf:Me(d),count:0,write:()=>{}};const h={buf:r,pos:0,count:r instanceof ArrayBuffer?r.byteLength:r.length};ae(this,$,gf).call(this,h)},xf=function(r,i,a){let c;y(this,fe)._matchFinder._keepSizeBefore=r,y(this,fe)._matchFinder._keepSizeAfter=i,c=r+i+a,(y(this,fe)._matchFinder._bufferBase==null||y(this,fe)._matchFinder._blockSize!=c)&&(y(this,fe)._matchFinder._bufferBase=Me(c),y(this,fe)._matchFinder._blockSize=c),y(this,fe)._matchFinder._pointerToLastSafePosition=y(this,fe)._matchFinder._blockSize-i},yf=function(){const r=y(this,I).chunker.encoder._matchFinder;let i;r._pos+=1,r._pos>r._posLimit&&(i=r._bufferOffset+r._pos,i>r._pointerToLastSafePosition&&y(this,He).moveBlock(),y(this,He).readBlock())},vf=function(r,i){const a=y(this,fe)._dictionarySize,c=y(this,fe)._numFastBytes;if(j0(a)){y(this,fe)._matchFinder._cutValue=I0(c);const d=T0(a,r,c,i);ae(this,$,xf).call(this,a+r,c+i,d),y(this,fe)._matchFinder._matchMaxLen=c,B0(y(this,fe)._matchFinder,a);const{hashMask:h,hashSizeSum:m}=F0(a,y(this,fe)._matchFinder.HASH_ARRAY);if(y(this,fe)._matchFinder.HASH_ARRAY){y(this,fe)._matchFinder._hashMask=h;const g=m+y(this,fe)._matchFinder.kFixHashSize;g!==y(this,fe)._matchFinder._hashSizeSum&&(y(this,fe)._matchFinder._hashSizeSum=g,y(this,fe)._matchFinder._hash=Me(g))}else m!==y(this,fe)._matchFinder._hashSizeSum&&(y(this,fe)._matchFinder._hashSizeSum=m,y(this,fe)._matchFinder._hash=Me(m))}},wf=function(){let r,i,a,c,d,h,m,g,w,b,x,S,_,N,P,W,z,U,V,j,se;const O=y(this,I).chunker.encoder._matchFinder,ge=y(this,I).chunker.encoder._matchDistances;if(O._pos+O._matchMaxLen<=O._streamPos)N=O._matchMaxLen;else if(N=O._streamPos-O._pos,N<O.kMinMatchCheck)return ae(this,$,Ki).call(this),0;for(z=0,P=O._pos>O._cyclicBufferSize?O._pos-O._cyclicBufferSize:0,i=O._bufferOffset+O._pos,W=1,g=0,w=0,O.HASH_ARRAY?(se=fo[O._bufferBase[i]&255]^O._bufferBase[i+1]&255,g=se&1023,se^=(O._bufferBase[i+2]&255)<<8,w=se&65535,b=(se^fo[O._bufferBase[i+3]&255]<<5)&O._hashMask):b=O._bufferBase[i]&255^(O._bufferBase[i+1]&255)<<8,a=O._hash[O.kFixHashSize+b]||0,O.HASH_ARRAY&&(c=O._hash[g]||0,d=O._hash[1024+w]||0,O._hash[g]=O._pos,O._hash[1024+w]=O._pos,c>P&&O._bufferBase[O._bufferOffset+c]==O._bufferBase[i]&&(ge[z++]=W=2,ge[z++]=O._pos-c-1),d>P&&O._bufferBase[O._bufferOffset+d]==O._bufferBase[i]&&(d==c&&(z-=2),ge[z++]=W=3,ge[z++]=O._pos-d-1,c=d),z!=0&&c==a&&(z-=2,W=1)),O._hash[O.kFixHashSize+b]=O._pos,V=(O._cyclicBufferPos<<1)+1,j=O._cyclicBufferPos<<1,S=_=O.kNumHashDirectBytes,O.kNumHashDirectBytes!=0&&a>P&&O._bufferBase[O._bufferOffset+a+O.kNumHashDirectBytes]!=O._bufferBase[i+O.kNumHashDirectBytes]&&(ge[z++]=W=O.kNumHashDirectBytes,ge[z++]=O._pos-a-1),r=O._cutValue;;){if(a<=P||r==0){r-=1,O._son[V]=O._son[j]=0;break}if(m=O._pos-a,h=(m<=O._cyclicBufferPos?O._cyclicBufferPos-m:O._cyclicBufferPos-m+O._cyclicBufferSize)<<1,U=O._bufferOffset+a,x=S<_?S:_,O._bufferBase[U+x]==O._bufferBase[i+x]){for(;(x+=1)!=N&&O._bufferBase[U+x]==O._bufferBase[i+x];);if(W<x&&(ge[z++]=W=x,ge[z++]=m-1,x==N)){O._son[j]=O._son[h],O._son[V]=O._son[h+1];break}}(O._bufferBase[U+x]&255)<(O._bufferBase[i+x]&255)?(O._son[j]=a,j=h+1,a=O._son[j],_=x):(O._son[V]=a,V=h,a=O._son[V],S=x)}return ae(this,$,Ki).call(this),z},kf=function(){y(this,I).chunker.encoder._matchFinder._bufferOffset=0,y(this,I).chunker.encoder._matchFinder._pos=0,y(this,I).chunker.encoder._matchFinder._streamPos=0,y(this,I).chunker.encoder._matchFinder._streamEndWasReached=0,y(this,He).readBlock(),y(this,I).chunker.encoder._matchFinder._cyclicBufferPos=0,y(this,He).reduceOffsets(-1)},Ki=function(){let r;const i=y(this,I).chunker.encoder._matchFinder;(i._cyclicBufferPos+=1)>=i._cyclicBufferSize&&(i._cyclicBufferPos=0),ae(this,$,yf).call(this),i._pos==rf&&(r=i._pos-i._cyclicBufferSize,ae(this,$,Sa).call(this,i._cyclicBufferSize*2,r),ae(this,$,Sa).call(this,i._hashSizeSum,r),y(this,He).reduceOffsets(r))},Sa=function(r,i){const a=y(this,I).chunker.encoder._matchFinder._son;for(let c=0,d;c<r;++c)d=a[c]||0,d<=i?d=0:d-=i,a[c]=d},Sf=function(r,i){r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0)},_f=function(r){const i=y(this,I).chunker.encoder._matchFinder;let a,c,d,h,m,g,w,b,x,S,_,N,P,W,z,U,V;do{if(i._pos+i._matchMaxLen<=i._streamPos)N=i._matchMaxLen;else if(N=i._streamPos-i._pos,N<i.kMinMatchCheck){ae(this,$,Ki).call(this);continue}for(P=i._pos>i._cyclicBufferSize?i._pos-i._cyclicBufferSize:0,c=i._bufferOffset+i._pos,i.HASH_ARRAY?(V=fo[i._bufferBase[c]&255]^i._bufferBase[c+1]&255,g=V&1023,i._hash[g]=i._pos,V^=(i._bufferBase[c+2]&255)<<8,w=V&65535,i._hash[1024+w]=i._pos,b=(V^fo[i._bufferBase[c+3]&255]<<5)&i._hashMask):b=i._bufferBase[c]&255^(i._bufferBase[c+1]&255)<<8,d=i._hash[i.kFixHashSize+b],i._hash[i.kFixHashSize+b]=i._pos,z=(i._cyclicBufferPos<<1)+1,U=i._cyclicBufferPos<<1,S=_=i.kNumHashDirectBytes,a=i._cutValue;;){if(d<=P||a==0){a-=1,i._son[z]=i._son[U]=0;break}if(m=i._pos-d,h=(m<=i._cyclicBufferPos?i._cyclicBufferPos-m:i._cyclicBufferPos-m+i._cyclicBufferSize)<<1,W=i._bufferOffset+d,x=S<_?S:_,i._bufferBase[W+x]==i._bufferBase[c+x]){for(;(x+=1)!=N&&i._bufferBase[W+x]==i._bufferBase[c+x];);if(x==N){i._son[U]=i._son[h],i._son[z]=i._son[h+1];break}}(i._bufferBase[W+x]&255)<(i._bufferBase[c+x]&255)?(i._son[U]=d,U=h+1,d=i._son[U],_=x):(i._son[z]=d,z=h,d=i._son[z],S=x)}ae(this,$,Ki).call(this)}while((r-=1)!=0)},bf=function(r,i){y(this,dt).rangeDecoder.stream=r,y(this,dt).flush(),y(this,dt).outWindow.stream=null,y(this,dt).outWindow.stream=y(this,an).output,ae(this,$,Cf).call(this),y(this,dt).state=0,y(this,dt).rep0=0,y(this,dt).rep1=0,y(this,dt).rep2=0,y(this,dt).rep3=0,y(this,dt).outSize=i,y(this,dt).nowPos64=si,y(this,dt).prevByte=0;const a=new Rd(y(this,dt));return a.alive=1,a},Cf=function(){y(this,dt).init()},_a=function(r){const i=y(this,I).chunker.encoder;let a,c,d,h;i._optimumEndIndex=r,d=i._optimum[r].posPrev,c=i._optimum[r].backPrev;do i._optimum[r].prev1IsChar&&(ae(this,$,Aa).call(this,i._optimum[d]),i._optimum[d].posPrev=d-1,i._optimum[r].prev2&&(i._optimum[d-1].prev1IsChar=0,i._optimum[d-1].posPrev=i._optimum[r].posPrev2,i._optimum[d-1].backPrev=i._optimum[r].backPrev2)),h=d,a=c,c=i._optimum[h].backPrev,d=i._optimum[h].posPrev,i._optimum[h].backPrev=a,i._optimum[h].posPrev=r,r=h;while(r>0);return i.backRes=i._optimum[0].backPrev,i._optimumCurrentIndex=i._optimum[0].posPrev,i._optimumCurrentIndex},Ef=function(){let r,i,a,c,d,h,m,g,w,b,x,S,_,N;if(y(this,I).chunker.encoder.processedInSize[0]=si,y(this,I).chunker.encoder.processedOutSize[0]=si,y(this,I).chunker.encoder.finished[0]=1,_=y(this,I).chunker.encoder.nowPos64,y(this,I).chunker.encoder._inStream&&(y(this,I).chunker.encoder._matchFinder._stream=y(this,I).chunker.encoder._inStream,ae(this,$,kf).call(this),y(this,I).chunker.encoder._needReleaseMFStream=1,y(this,I).chunker.encoder._inStream=null),!y(this,I).chunker.encoder._finished){if(y(this,I).chunker.encoder._finished=1,Tn(y(this,I).chunker.encoder.nowPos64,si)===0){if(!y(this,He).getNumAvailableBytes()){ae(this,$,go).call(this,Tt(y(this,I).chunker.encoder.nowPos64));return}ae(this,$,xo).call(this),S=Tt(y(this,I).chunker.encoder.nowPos64)&y(this,I).chunker.encoder._posStateMask,y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isMatch,(y(this,I).chunker.encoder._state<<4)+S,0),y(this,I).chunker.encoder._state=tr(y(this,I).chunker.encoder._state),a=y(this,He).getIndexByte(-y(this,I).chunker.encoder._additionalOffset),y(this,I).chunker.encoder.encodeLiteral(ae(this,$,Dr).call(this,Tt(y(this,I).chunker.encoder.nowPos64),y(this,I).chunker.encoder._previousByte),a),y(this,I).chunker.encoder._previousByte=a,y(this,I).chunker.encoder._additionalOffset-=1,y(this,I).chunker.encoder.nowPos64=vn(y(this,I).chunker.encoder.nowPos64,p0)}if(!y(this,He).getNumAvailableBytes()){ae(this,$,go).call(this,Tt(y(this,I).chunker.encoder.nowPos64));return}for(;;){if(h=ae(this,$,Tf).call(this,Tt(y(this,I).chunker.encoder.nowPos64)),w=y(this,I).chunker.encoder.backRes,S=Tt(y(this,I).chunker.encoder.nowPos64)&y(this,I).chunker.encoder._posStateMask,i=(y(this,I).chunker.encoder._state<<4)+S,h==1&&w==-1)y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isMatch,i,0),a=y(this,He).getIndexByte(-y(this,I).chunker.encoder._additionalOffset),N=ae(this,$,Dr).call(this,Tt(y(this,I).chunker.encoder.nowPos64),y(this,I).chunker.encoder._previousByte),y(this,I).chunker.encoder._state<7?y(this,I).chunker.encoder.encodeLiteral(N,a):(g=y(this,He).getIndexByte(-y(this,I).chunker.encoder._repDistances[0]-1-y(this,I).chunker.encoder._additionalOffset),y(this,I).chunker.encoder.encodeMatched(N,g,a)),y(this,I).chunker.encoder._previousByte=a,y(this,I).chunker.encoder._state=tr(y(this,I).chunker.encoder._state);else{if(y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isMatch,i,1),w<4){if(y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRep,y(this,I).chunker.encoder._state,1),w?(y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRepG0,y(this,I).chunker.encoder._state,1),w==1?y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRepG1,y(this,I).chunker.encoder._state,0):(y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRepG1,y(this,I).chunker.encoder._state,1),y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRepG2,y(this,I).chunker.encoder._state,w-2))):(y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRepG0,y(this,I).chunker.encoder._state,0),h==1?y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRep0Long,i,0):y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRep0Long,i,1)),h==1?y(this,I).chunker.encoder._state=y(this,I).chunker.encoder._state<7?9:11:(y(this,I).chunker.encoder.encodeLength(y(this,I).chunker.encoder._repMatchLenEncoder,h-2,S),y(this,I).chunker.encoder._state=y(this,I).chunker.encoder._state<7?8:11),c=y(this,I).chunker.encoder._repDistances[w],w!=0){const P=y(this,I).chunker.encoder;for(let W=w;W>=1;--W)P._repDistances[W]=P._repDistances[W-1];P._repDistances[0]=c}}else{y(this,I).chunker.encoder.encodeBit(y(this,I).chunker.encoder._isRep,y(this,I).chunker.encoder._state,0),y(this,I).chunker.encoder._state=y(this,I).chunker.encoder._state<7?7:10,y(this,I).chunker.encoder.encodeLength(y(this,I).chunker.encoder._lenEncoder,h-2,S),w-=4,x=y(this,I).chunker.encoder.getPosSlot(w),m=So(h),y(this,I).chunker.encoder.encodeBitTree(y(this,I).chunker.encoder._posSlotEncoder[m],x),x>=4&&(d=(x>>1)-1,r=(2|x&1)<<d,b=w-r,x<14?y(this,I).chunker.encoder.reverseEncodeRange(r-x-1,d,b):(y(this,I).chunker.encoder.encodeDirectBits(b>>4,d-4),y(this,I).chunker.encoder.reverseEncode(b&15),y(this,I).chunker.encoder._alignPriceCount+=1)),c=w;const P=y(this,I).chunker.encoder;for(let W=3;W>=1;--W)P._repDistances[W]=P._repDistances[W-1];P._repDistances[0]=c,P._matchPriceCount+=1}y(this,I).chunker.encoder._previousByte=y(this,He).getIndexByte(h-1-y(this,I).chunker.encoder._additionalOffset)}if(y(this,I).chunker.encoder._additionalOffset-=h,y(this,I).chunker.encoder.nowPos64=vn(y(this,I).chunker.encoder.nowPos64,Tr(h)),!y(this,I).chunker.encoder._additionalOffset){if(y(this,I).chunker.encoder._matchPriceCount>=128&&y(this,I).chunker.encoder.fillDistancesPrices(),y(this,I).chunker.encoder._alignPriceCount>=16&&ae(this,$,Nf).call(this,y(this,I).chunker.encoder),y(this,I).chunker.encoder.processedInSize[0]=y(this,I).chunker.encoder.nowPos64,y(this,I).chunker.encoder.processedOutSize[0]=ae(this,$,Lf).call(this),!y(this,He).getNumAvailableBytes()){ae(this,$,go).call(this,Tt(y(this,I).chunker.encoder.nowPos64));return}if(Tn(of(y(this,I).chunker.encoder.nowPos64,_),[4096,0])>=0){y(this,I).chunker.encoder._finished=0,y(this,I).chunker.encoder.finished[0]=0;return}}}}},Af=function(){let r,i;y(this,fe)._matchFinder||(r={},i=4,y(this,fe)._matchFinderType||(i=2),ae(this,$,Sf).call(this,r,i),y(this,fe)._matchFinder=r,ni(this,He,new N0(r))),y(this,fe).createLiteralEncoder(),!(y(this,fe)._dictionarySize==y(this,fe)._dictionarySizePrev&&y(this,fe)._numFastBytesPrev==y(this,fe)._numFastBytes)&&(ae(this,$,vf).call(this,4096,274),y(this,fe)._dictionarySizePrev=y(this,fe)._dictionarySize,y(this,fe)._numFastBytesPrev=y(this,fe)._numFastBytes)},Df=function(){for(let r=0;r<4096;++r)y(this,fe)._optimum[r]={};for(let r=0;r<4;++r)y(this,fe)._posSlotEncoder[r]=At(6)},Nf=function(r){for(let i=0;i<16;++i)r._alignPrices[i]=ae(this,$,jf).call(this,r._posAlignEncoder,i);r._alignPriceCount=0},go=function(r){ae(this,$,Ea).call(this),y(this,I).chunker.encoder.writeEndMarker(r&y(this,I).chunker.encoder._posStateMask);for(let i=0;i<5;++i)y(this,I).chunker.encoder.shiftLow()},Tf=function(r){let i,a,c,d,h,m,g,w,b,x,S,_,N,P,W,z,U,V,j,se,O,ge,be,pe,Ce,Ee,Ie,K,ie,ye,Be,ue,T,te,Z,v,B,Q,ne,le,J,Se,Ae,ve,Oe,ot,Mt,D,wt;const A=y(this,I).chunker.encoder;if(A._optimumEndIndex!=A._optimumCurrentIndex)return wt=A._optimum[A._optimumCurrentIndex].posPrev-A._optimumCurrentIndex,A.backRes=A._optimum[A._optimumCurrentIndex].backPrev,A._optimumCurrentIndex=A._optimum[A._optimumCurrentIndex].posPrev,wt;if(A._optimumCurrentIndex=A._optimumEndIndex=0,A._longestMatchWasFound?(S=A._longestMatchLength,A._longestMatchWasFound=0):S=ae(this,$,xo).call(this),Ce=A._numDistancePairs,be=y(this,He).getNumAvailableBytes()+1,be<2)return A.backRes=-1,1;be>273&&(be=273),Q=0;for(let tt=0;tt<4;++tt)A.reps[tt]=A._repDistances[tt],A.repLens[tt]=y(this,He).getMatchLen(-1,A.reps[tt],273),A.repLens[tt]>A.repLens[Q]&&(Q=tt);if(A.repLens[Q]>=A._numFastBytes)return A.backRes=Q,wt=A.repLens[Q],ae(this,$,Ca).call(this,wt-1),wt;if(S>=A._numFastBytes)return A.backRes=y(this,I).chunker.encoder._matchDistances[Ce-1]+4,ae(this,$,Ca).call(this,S-1),S;if(g=y(this,He).getIndexByte(-1),W=y(this,He).getIndexByte(-A._repDistances[0]-1-1),S<2&&g!=W&&A.repLens[Q]<2)return A.backRes=-1,1;if(A._optimum[0].state=A._state,ue=r&A._posStateMask,A._optimum[1].price=Qe[A._isMatch[(A._state<<4)+ue]>>>2]+ae(this,$,Qi).call(this,ae(this,$,Dr).call(this,r,A._previousByte),A._state>=7,W,g),ae(this,$,Aa).call(this,A._optimum[1]),z=Qe[2048-A._isMatch[(A._state<<4)+ue]>>>2],B=z+Qe[2048-A._isRep[A._state]>>>2],W==g&&(ne=B+ae(this,$,Bf).call(this,ue),ne<A._optimum[1].price&&(A._optimum[1].price=ne,ae(this,$,If).call(this,A._optimum[1]))),x=S>=A.repLens[Q]?S:A.repLens[Q],x<2)return A.backRes=A._optimum[1].backPrev,1;A._optimum[1].posPrev=0,A._optimum[0].backs0=A.reps[0],A._optimum[0].backs1=A.reps[1],A._optimum[0].backs2=A.reps[2],A._optimum[0].backs3=A.reps[3],b=x;do A._optimum[b].price=ri,b-=1;while(b>=2);for(let tt=0;tt<4;++tt)if(v=A.repLens[tt],!(v<2)){te=B+ae(this,$,Ar).call(this,tt,A._state,ue);do d=te+A._repMatchLenEncoder.getPrice(v-2,ue),ie=A._optimum[v],d<ie.price&&(ie.price=d,ie.posPrev=0,ie.backPrev=tt,ie.prev1IsChar=0);while((v-=1)>=2)}if(ge=z+Qe[A._isRep[A._state]>>>2],b=A.repLens[0]>=2?A.repLens[0]+1:2,b<=S){for(Ee=0;b>A._matchDistances[Ee];)Ee+=2;for(;w=A._matchDistances[Ee+1],d=ge+ae(this,$,ba).call(this,w,b,ue),ie=A._optimum[b],d<ie.price&&(ie.price=d,ie.posPrev=0,ie.backPrev=w+4,ie.prev1IsChar=0),!(b==A._matchDistances[Ee]&&(Ee+=2,Ee==Ce));b+=1);}for(i=0;;){if(++i,i==x)return ae(this,$,_a).call(this,i);if(U=ae(this,$,xo).call(this),Ce=A._numDistancePairs,U>=A._numFastBytes)return A._longestMatchLength=U,A._longestMatchWasFound=1,ae(this,$,_a).call(this,i);if(r+=1,Be=A._optimum[i].posPrev,A._optimum[i].prev1IsChar?(Be-=1,A._optimum[i].prev2?(J=A._optimum[A._optimum[i].posPrev2].state,A._optimum[i].backPrev2<4?J=J<7?8:11:J=J<7?7:10):J=A._optimum[Be].state,J=tr(J)):J=A._optimum[Be].state,Be==i-1?A._optimum[i].backPrev?J=tr(J):J=J<7?9:11:(A._optimum[i].prev1IsChar&&A._optimum[i].prev2?(Be=A._optimum[i].posPrev2,ye=A._optimum[i].backPrev2,J=J<7?8:11):(ye=A._optimum[i].backPrev,ye<4?J=J<7?8:11:J=J<7?7:10),K=A._optimum[Be],ye<4?ye?ye==1?(A.reps[0]=K.backs1,A.reps[1]=K.backs0,A.reps[2]=K.backs2,A.reps[3]=K.backs3):ye==2?(A.reps[0]=K.backs2,A.reps[1]=K.backs0,A.reps[2]=K.backs1,A.reps[3]=K.backs3):(A.reps[0]=K.backs3,A.reps[1]=K.backs0,A.reps[2]=K.backs1,A.reps[3]=K.backs2):(A.reps[0]=K.backs0,A.reps[1]=K.backs1,A.reps[2]=K.backs2,A.reps[3]=K.backs3):(A.reps[0]=ye-4,A.reps[1]=K.backs0,A.reps[2]=K.backs1,A.reps[3]=K.backs2)),A._optimum[i].state=J,A._optimum[i].backs0=A.reps[0],A._optimum[i].backs1=A.reps[1],A._optimum[i].backs2=A.reps[2],A._optimum[i].backs3=A.reps[3],m=A._optimum[i].price,g=y(this,He).getIndexByte(-1),W=y(this,He).getIndexByte(-A.reps[0]-1-1),ue=r&A._posStateMask,a=m+Qe[A._isMatch[(J<<4)+ue]>>>2]+ae(this,$,Qi).call(this,ae(this,$,Dr).call(this,r,y(this,He).getIndexByte(-2)),J>=7,W,g),se=A._optimum[i+1],V=0,a<se.price&&(se.price=a,se.posPrev=i,se.backPrev=-1,se.prev1IsChar=0,V=1),z=m+Qe[2048-A._isMatch[(J<<4)+ue]>>>2],B=z+Qe[2048-A._isRep[J]>>>2],W==g&&!(se.posPrev<i&&!se.backPrev)&&(ne=B+(Qe[A._isRepG0[J]>>>2]+Qe[A._isRep0Long[(J<<4)+ue]>>>2]),ne<=se.price&&(se.price=ne,se.posPrev=i,se.backPrev=0,se.prev1IsChar=0,V=1)),pe=y(this,He).getNumAvailableBytes()+1,pe=4095-i<pe?4095-i:pe,be=pe,!(be<2)){if(be>A._numFastBytes&&(be=A._numFastBytes),!V&&W!=g&&(Ae=Math.min(pe-1,A._numFastBytes),N=y(this,He).getMatchLen(0,A.reps[0],Ae),N>=2)){for(Se=tr(J),T=r+1&A._posStateMask,O=a+Qe[2048-A._isMatch[(Se<<4)+T]>>>2]+Qe[2048-A._isRep[Se]>>>2],Ie=i+1+N;x<Ie;)A._optimum[x+=1].price=ri;d=O+(ve=A._repMatchLenEncoder.getPrice(N-2,T),ve+ae(this,$,Ar).call(this,0,Se,T)),ie=A._optimum[Ie],d<ie.price&&(ie.price=d,ie.posPrev=i+1,ie.backPrev=0,ie.prev1IsChar=1,ie.prev2=0)}for(le=2,Z=0;Z<4;++Z)if(_=y(this,He).getMatchLen(-1,A.reps[Z],be),!(_<2)){P=_;do{for(;x<i+_;)A._optimum[x+=1].price=ri;d=B+(Oe=A._repMatchLenEncoder.getPrice(_-2,ue),Oe+ae(this,$,Ar).call(this,Z,J,ue)),ie=A._optimum[i+_],d<ie.price&&(ie.price=d,ie.posPrev=i,ie.backPrev=Z,ie.prev1IsChar=0)}while((_-=1)>=2);if(_=P,Z||(le=_+1),_<pe&&(Ae=Math.min(pe-1-_,A._numFastBytes),N=y(this,He).getMatchLen(_,A.reps[Z],Ae),N>=2)){for(Se=J<7?8:11,T=r+_&A._posStateMask,c=B+(ot=A._repMatchLenEncoder.getPrice(_-2,ue),ot+ae(this,$,Ar).call(this,Z,J,ue))+Qe[A._isMatch[(Se<<4)+T]>>>2]+ae(this,$,Qi).call(this,ae(this,$,Dr).call(this,r+_,y(this,He).getIndexByte(_-1-1)),!0,y(this,He).getIndexByte(_-1-(A.reps[Z]+1)),y(this,He).getIndexByte(_-1)),Se=tr(Se),T=r+_+1&A._posStateMask,j=c+Qe[2048-A._isMatch[(Se<<4)+T]>>>2],O=j+Qe[2048-A._isRep[Se]>>>2],Ie=_+1+N;x<i+Ie;)A._optimum[x+=1].price=ri;d=O+(Mt=A._repMatchLenEncoder.getPrice(N-2,T),Mt+ae(this,$,Ar).call(this,0,Se,T)),ie=A._optimum[i+Ie],d<ie.price&&(ie.price=d,ie.posPrev=i+_+1,ie.backPrev=0,ie.prev1IsChar=1,ie.prev2=1,ie.posPrev2=i,ie.backPrev2=Z)}}if(U>be){for(U=be,Ce=0;U>A._matchDistances[Ce];Ce+=2);A._matchDistances[Ce]=U,Ce+=2}if(U>=le){for(ge=z+Qe[A._isRep[J]>>>2];x<i+U;)A._optimum[x+=1].price=ri;for(Ee=0;le>A._matchDistances[Ee];)Ee+=2;for(_=le;;_+=1)if(h=A._matchDistances[Ee+1],d=ge+ae(this,$,ba).call(this,h,_,ue),ie=A._optimum[i+_],d<ie.price&&(ie.price=d,ie.posPrev=i,ie.backPrev=h+4,ie.prev1IsChar=0),_==A._matchDistances[Ee]){if(_<pe&&(Ae=Math.min(pe-1-_,A._numFastBytes),N=y(this,He).getMatchLen(_,h,Ae),N>=2)){for(Se=J<7?7:10,T=r+_&A._posStateMask,c=d+Qe[A._isMatch[(Se<<4)+T]>>>2]+ae(this,$,Qi).call(this,ae(this,$,Dr).call(this,r+_,y(this,He).getIndexByte(_-1-1)),!0,y(this,He).getIndexByte(_-(h+1)-1),y(this,He).getIndexByte(_-1)),Se=tr(Se),T=r+_+1&A._posStateMask,j=c+Qe[2048-A._isMatch[(Se<<4)+T]>>>2],O=j+Qe[2048-A._isRep[Se]>>>2],Ie=_+1+N;x<i+Ie;)A._optimum[x+=1].price=ri;d=O+(D=A._repMatchLenEncoder.getPrice(N-2,T),D+ae(this,$,Ar).call(this,0,Se,T)),ie=A._optimum[i+Ie],d<ie.price&&(ie.price=d,ie.posPrev=i+_+1,ie.backPrev=0,ie.prev1IsChar=1,ie.prev2=1,ie.posPrev2=i,ie.backPrev2=h+4)}if(Ee+=2,Ee==Ce)break}}}}return 1},ba=function(r,i,a){const c=y(this,I).chunker.encoder;let d,h=So(i);if(r<128)d=c._distancesPrices[h*128+r];else{const m=(h<<6)+this.GetPosSlot2(r);d=c._posSlotPrices[m]+c._alignPrices[r&15]}return d+c._lenEncoder.getPrice(i-2,a)},Ar=function(r,i,a){const c=y(this,I).chunker.encoder;let d;return r?(d=Qe[2048-y(this,I).chunker.encoder._isRepG0[i]>>>2],r==1?d+=Qe[y(this,I).chunker.encoder._isRepG1[i]>>>2]:(d+=Qe[2048-y(this,I).chunker.encoder._isRepG1[i]>>>2],d+=yn(y(this,I).chunker.encoder._isRepG2[i],r-2))):(d=Qe[c._isRepG0[i]>>>2],d+=Qe[2048-y(this,I).chunker.encoder._isRep0Long[(i<<4)+a]>>>2]),d},Bf=function(r){const i=y(this,I).chunker.encoder,a=Qe[i._isRepG0[i._state]>>>2],c=Qe[i._isRep0Long[(i._state<<4)+r]>>>2];return a+c},Ca=function(r){r>0&&(ae(this,$,_f).call(this,r),y(this,I).chunker.encoder._additionalOffset+=r)},xo=function(){let r=0;const i=y(this,I).chunker.encoder;return i._numDistancePairs=ae(this,$,wf).call(this),i._numDistancePairs>0&&(r=i._matchDistances[i._numDistancePairs-2],r==i._numFastBytes&&(r+=y(this,He).getMatchLen(r-1,i._matchDistances[i._numDistancePairs-1],273-r))),i._additionalOffset+=1,r},Ea=function(){const r=y(this,I).chunker.encoder;r._matchFinder&&r._needReleaseMFStream&&(r._matchFinder._stream=null,r._needReleaseMFStream=0)},Ff=function(){ae(this,$,Ea).call(this),y(this,I).chunker.encoder._rangeEncoder.stream=null},Dr=function(r,i){return{decoders:y(this,I).chunker.encoder._literalEncoder.getSubCoder(r,i).decoders}},Qi=function(r,i,a,c){let d,h=1,m=7,g,w=0;if(i){for(;m>=0;--m)if(g=a>>m&1,d=c>>m&1,w+=yn(r.decoders[(1+g<<8)+h],d),h=h<<1|d,g!=d){--m;break}}for(;m>=0;--m)d=c>>m&1,w+=yn(r.decoders[h],d),h=h<<1|d;return w},Aa=function(r){r.backPrev=-1,r.prev1IsChar=0},If=function(r){r.backPrev=0,r.prev1IsChar=0},jf=function(r,i){let a,c=1,d=0;for(let h=r.numBitLevels;h!=0;h-=1)a=i&1,i>>>=1,d+=yn(r.models[c],a),c=c<<1|a;return d},Lf=function(){const r=vn(Tr(y(this,I).chunker.encoder._rangeEncoder.cacheSize),y(this,I).chunker.encoder._rangeEncoder.position);return vn(r,[4,0])},Pf=function(r){let i=0,a,c,d,h=r.length,m=[],g=[];for(let w=0;w<h;++w,++i){if(a=r[w]&255,a&128)if((a&224)==192){if(w+1>=h)return String.fromCharCode(...r);if(c=r[++w]&255,(c&192)!=128)return String.fromCharCode(...r);g[i]=(a&31)<<6|c&63}else if((a&240)==224){if(w+2>=h||(c=r[++w]&255,(c&192)!=128)||(d=r[++w]&255,(d&192)!=128))return r;g[i]=(a&15)<<12|(c&63)<<6|d&63}else return r;else{if(!a)return r;g[i]=a}i==16383&&(m.push(String.fromCharCode.apply(String,g)),i=-1)}return i>0&&(g.length=i,m.push(String.fromCharCode.apply(String,g))),m.join("")};/**
 * @license
 * Copyright Filip Seman
 * SPDX-License-Identifier: MIT
 */function P0(o,r=5){const i=o instanceof ArrayBuffer?new Uint8Array(o):o,a=new lf().compress(i,r);return new Uint8Array(a)}function M0(o){const r=o instanceof ArrayBuffer?new Uint8Array(o):o,i=new lf().decompress(r);return new Uint8Array(i)}const R0=300,Mf=255,_o=4096,O0={item:1,outfit:2,effect:3,distance:4},U0={1:"item",2:"outfit",3:"effect",4:"distance"},oe={GROUND:0,GROUND_BORDER:1,ON_BOTTOM:2,ON_TOP:3,CONTAINER:4,STACKABLE:5,FORCE_USE:6,MULTI_USE:7,WRITABLE:8,WRITABLE_ONCE:9,FLUID_CONTAINER:10,FLUID:11,UNPASSABLE:12,UNMOVEABLE:13,BLOCK_MISSILE:14,BLOCK_PATHFIND:15,NO_MOVE_ANIMATION:16,PICKUPABLE:17,HANGABLE:18,HOOK_SOUTH:19,HOOK_EAST:20,ROTATABLE:21,HAS_LIGHT:22,DONT_HIDE:23,TRANSLUCENT:24,HAS_OFFSET:25,HAS_ELEVATION:26,LYING_OBJECT:27,ANIMATE_ALWAYS:28,MINI_MAP:29,LENS_HELP:30,FULL_GROUND:31,IGNORE_LOOK:32,CLOTH:33,MARKET_ITEM:34,DEFAULT_ACTION:35,WRAPPABLE:36,UNWRAPPABLE:37,TOP_EFFECT:38,HAS_CHARGES:252,FLOOR_CHANGE:253,USABLE:254};function z0(o){const r=new Uint8Array(o.length);for(let i=0;i<o.length;i+=4)r[i]=o[i+3],r[i+1]=o[i],r[i+2]=o[i+1],r[i+3]=o[i+2];return r}function H0(o){const r=new Uint8ClampedArray(o.length);for(let i=0;i<o.length;i+=4)r[i]=o[i+1],r[i+1]=o[i+2],r[i+2]=o[i+3],r[i+3]=o[i];return r}class G0{constructor(r=65536){R(this,"buf");R(this,"view");R(this,"pos",0);this.buf=new Uint8Array(r),this.view=new DataView(this.buf.buffer)}grow(r){for(;this.pos+r>this.buf.length;){const i=new Uint8Array(this.buf.length*2);i.set(this.buf),this.buf=i,this.view=new DataView(this.buf.buffer)}}u8(r){this.grow(1),this.view.setUint8(this.pos,r),this.pos+=1}u16(r){this.grow(2),this.view.setUint16(this.pos,r,!0),this.pos+=2}i16(r){this.grow(2),this.view.setInt16(this.pos,r,!0),this.pos+=2}u32(r){this.grow(4),this.view.setUint32(this.pos,r,!0),this.pos+=4}i32(r){this.grow(4),this.view.setInt32(this.pos,r,!0),this.pos+=4}bytes(r){this.grow(r.length),this.buf.set(r,this.pos),this.pos+=r.length}result(){return this.buf.slice(0,this.pos)}patchU32(r,i){this.view.setUint32(r,i,!0)}}class W0{constructor(r){R(this,"view");R(this,"pos",0);this.data=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength)}u8(){const r=this.view.getUint8(this.pos);return this.pos+=1,r}u16(){const r=this.view.getUint16(this.pos,!0);return this.pos+=2,r}i16(){const r=this.view.getInt16(this.pos,!0);return this.pos+=2,r}u32(){const r=this.view.getUint32(this.pos,!0);return this.pos+=4,r}i32(){const r=this.view.getInt32(this.pos,!0);return this.pos+=4,r}bytes(r){const i=this.data.slice(this.pos,this.pos+r);return this.pos+=r,i}str(r){return new TextDecoder("latin1").decode(this.bytes(r))}}function V0(o,r){if(r.ground?(o.u8(oe.GROUND),o.u16(r.groundSpeed??0)):r.groundBorder?o.u8(oe.GROUND_BORDER):r.onBottom?o.u8(oe.ON_BOTTOM):r.onTop&&o.u8(oe.ON_TOP),r.container&&o.u8(oe.CONTAINER),r.stackable&&o.u8(oe.STACKABLE),r.forceUse&&o.u8(oe.FORCE_USE),r.multiUse&&o.u8(oe.MULTI_USE),r.writable&&(o.u8(oe.WRITABLE),o.u16(r.writableMaxLen??0)),r.writableOnce&&(o.u8(oe.WRITABLE_ONCE),o.u16(r.writableOnceMaxLen??0)),r.fluidContainer&&o.u8(oe.FLUID_CONTAINER),r.splash&&o.u8(oe.FLUID),r.notWalkable&&o.u8(oe.UNPASSABLE),r.notMoveable&&o.u8(oe.UNMOVEABLE),r.blockProjectile&&o.u8(oe.BLOCK_MISSILE),r.notPathable&&o.u8(oe.BLOCK_PATHFIND),r.noMoveAnimation&&o.u8(oe.NO_MOVE_ANIMATION),r.pickupable&&o.u8(oe.PICKUPABLE),r.hangable&&o.u8(oe.HANGABLE),r.hookSouth&&o.u8(oe.HOOK_SOUTH),r.hookEast&&o.u8(oe.HOOK_EAST),r.rotateable&&o.u8(oe.ROTATABLE),r.hasLight&&(o.u8(oe.HAS_LIGHT),o.u16(r.lightLevel??0),o.u16(r.lightColor??0)),r.dontHide&&o.u8(oe.DONT_HIDE),r.translucent&&o.u8(oe.TRANSLUCENT),r.hasDisplacement&&(o.u8(oe.HAS_OFFSET),o.i16(r.displacementX??0),o.i16(r.displacementY??0)),r.hasElevation&&(o.u8(oe.HAS_ELEVATION),o.u16(r.elevation??0)),r.lyingCorpse&&o.u8(oe.LYING_OBJECT),r.animateAlways&&o.u8(oe.ANIMATE_ALWAYS),r.hasMinimapColor&&(o.u8(oe.MINI_MAP),o.u16(r.minimapColor??0)),r.lensHelp!=null&&(o.u8(oe.LENS_HELP),o.u16(r.lensHelp)),r.fullGround&&o.u8(oe.FULL_GROUND),r.look&&o.u8(oe.IGNORE_LOOK),r.cloth&&(o.u8(oe.CLOTH),o.u16(r.clothSlot??0)),r.hasMarket){o.u8(oe.MARKET_ITEM),o.u16(r.marketCategory??0),o.u16(r.marketTradeAs??0),o.u16(r.marketShowAs??0);const i=r.marketName??"";o.u16(i.length);for(let a=0;a<i.length;a++)o.u8(i.charCodeAt(a)&255);o.u16(r.marketRestrictVocation??0),o.u16(r.marketRequiredLevel??0)}r.usable&&(o.u8(oe.DEFAULT_ACTION),o.u16(r.usableActionId??0)),r.wrapable&&o.u8(oe.WRAPPABLE),r.unwrapable&&o.u8(oe.UNWRAPPABLE),r.topEffect&&o.u8(oe.TOP_EFFECT),r.chargeable&&o.u8(oe.HAS_CHARGES),o.u8(Mf)}function $0(o){const r={ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1};for(;;){const i=o.u8();if(i===Mf)break;switch(i){case oe.GROUND:r.ground=!0,r.groundSpeed=o.u16();break;case oe.GROUND_BORDER:r.groundBorder=!0;break;case oe.ON_BOTTOM:r.onBottom=!0;break;case oe.ON_TOP:r.onTop=!0;break;case oe.CONTAINER:r.container=!0;break;case oe.STACKABLE:r.stackable=!0;break;case oe.FORCE_USE:r.forceUse=!0;break;case oe.MULTI_USE:r.multiUse=!0;break;case oe.WRITABLE:r.writable=!0,r.writableMaxLen=o.u16();break;case oe.WRITABLE_ONCE:r.writableOnce=!0,r.writableOnceMaxLen=o.u16();break;case oe.FLUID_CONTAINER:r.fluidContainer=!0;break;case oe.FLUID:r.splash=!0;break;case oe.UNPASSABLE:r.notWalkable=!0;break;case oe.UNMOVEABLE:r.notMoveable=!0;break;case oe.BLOCK_MISSILE:r.blockProjectile=!0;break;case oe.BLOCK_PATHFIND:r.notPathable=!0;break;case oe.NO_MOVE_ANIMATION:r.noMoveAnimation=!0;break;case oe.PICKUPABLE:r.pickupable=!0;break;case oe.HANGABLE:r.hangable=!0;break;case oe.HOOK_SOUTH:r.hookSouth=!0;break;case oe.HOOK_EAST:r.hookEast=!0;break;case oe.ROTATABLE:r.rotateable=!0;break;case oe.HAS_LIGHT:r.hasLight=!0,r.lightLevel=o.u16(),r.lightColor=o.u16();break;case oe.DONT_HIDE:r.dontHide=!0;break;case oe.TRANSLUCENT:r.translucent=!0;break;case oe.HAS_OFFSET:r.hasDisplacement=!0,r.displacementX=o.i16(),r.displacementY=o.i16();break;case oe.HAS_ELEVATION:r.hasElevation=!0,r.elevation=o.u16();break;case oe.LYING_OBJECT:r.lyingCorpse=!0;break;case oe.ANIMATE_ALWAYS:r.animateAlways=!0;break;case oe.MINI_MAP:r.hasMinimapColor=!0,r.minimapColor=o.u16();break;case oe.LENS_HELP:r.lensHelp=o.u16();break;case oe.FULL_GROUND:r.fullGround=!0;break;case oe.IGNORE_LOOK:r.look=!0;break;case oe.CLOTH:r.cloth=!0,r.clothSlot=o.u16();break;case oe.MARKET_ITEM:{r.hasMarket=!0,r.marketCategory=o.u16(),r.marketTradeAs=o.u16(),r.marketShowAs=o.u16();const a=o.u16();r.marketName=o.str(a),r.marketRestrictVocation=o.u16(),r.marketRequiredLevel=o.u16();break}case oe.DEFAULT_ACTION:r.usable=!0,r.usableActionId=o.u16();break;case oe.HAS_CHARGES:r.chargeable=!0;break;case oe.FLOOR_CHANGE:break;case oe.WRAPPABLE:r.wrapable=!0;break;case oe.UNWRAPPABLE:r.unwrapable=!0;break;case oe.TOP_EFFECT:r.topEffect=!0;break;case oe.USABLE:r.usable=!0;break;default:throw new Error(`Unknown OBD flag 0x${i.toString(16)}`)}}return r}function Y0(o){const{thing:r,clientVersion:i,spriteData:a,spriteOverrides:c}=o,d=new G0;d.u16(R0),d.u16(i),d.u8(O0[r.category]??1);const h=d.pos;d.u32(0),V0(d,r.flags),d.patchU32(h,d.pos);const m=r.category==="outfit",g=r.frameGroups.length;m&&d.u8(g);for(let w=0;w<g;w++){m&&d.u8(g<2?1:w);const b=r.frameGroups[w];if(d.u8(b.width),d.u8(b.height),(b.width>1||b.height>1)&&d.u8(32),d.u8(b.layers),d.u8(b.patternX),d.u8(b.patternY),d.u8(b.patternZ||1),d.u8(b.animationLength),b.animationLength>1){d.u8(b.asynchronous),d.i32(b.nLoop),d.u8(b.start);for(let x=0;x<b.animationLength;x++){const S=b.animationLengths[x]??{min:100,max:100};d.u32(S.min),d.u32(S.max)}}for(let x=0;x<b.sprites.length;x++){const S=b.sprites[x];d.u32(S);let _;if(S===0)_=new Uint8Array(_o);else{const P=c.get(S)??Fr(a,S);P?_=z0(new Uint8Array(P.data.buffer,P.data.byteOffset,P.data.byteLength)):_=new Uint8Array(_o)}d.u32(_.length),d.bytes(_)}}return P0(d.result(),5)}function K0(o){let r;try{r=M0(o)}catch(_){throw new Error(`Failed to decompress OBD file. Ensure this is a valid .obd file.
${_ instanceof Error?_.message:_}`)}if(r.length<9)throw new Error("OBD file too small.");const i=new W0(r),a=i.u16();let c,d;if(a===300)c=3,d=i.u16();else if(a===200)c=2,d=i.u16();else throw a>=710?new Error(`This is an OBD Version 1 file (client ${a}). V1 is not supported  please re-export from the Object Builder as V2 or V3.`):new Error(`Unrecognised OBD header: 0x${a.toString(16)} (${a}). Not a valid .obd file.`);const h=i.u8(),m=U0[h];if(!m)throw new Error(`Invalid category byte: ${h}`);i.u32();const g=$0(i),w=m==="outfit";let b=1;w&&c===3&&(b=i.u8());const x=[],S=new Map;for(let _=0;_<b;_++){w&&c===3&&i.u8();const N=i.u8(),P=i.u8();(N>1||P>1)&&i.u8();const W=i.u8(),z=i.u8(),U=i.u8(),V=i.u8()||1,j=i.u8();let se=0,O=0,ge=0;const be=[];if(j>1){se=i.u8(),O=i.i32(),ge=i.u8();for(let Ee=0;Ee<j;Ee++)be.push({min:i.u32(),max:i.u32()})}else be.push({min:0,max:0});const pe=N*P*W*z*U*V*j,Ce=[];for(let Ee=0;Ee<pe;Ee++){const Ie=i.u32();Ce.push(Ie);let K;if(c===3){const ie=i.u32();K=i.bytes(ie)}else K=i.bytes(_o);if(Ie>0&&K.length===_o&&!S.has(Ie)){const ie=H0(K),ye=new ImageData(ie,32,32);S.set(Ie,ye)}}x.push({type:_,width:N,height:P,layers:W,patternX:z,patternY:U,patternZ:V,animationLength:j,asynchronous:se,nLoop:O,start:ge,animationLengths:be,sprites:Ce})}return{category:m,clientVersion:d,flags:g,frameGroups:x,spritePixels:S}}const Q0=["North","East","South","West"],X0=["","","",""];function Z0(){var Ir;const o=G(H=>H.selectedThingId),r=G(H=>H.objectData),i=G(H=>H.spriteData),a=G(H=>H.spriteOverrides),c=G(H=>H.replaceSprite),d=G(H=>H.addSprite);G(H=>H.editVersion);const h=o!=null?(r==null?void 0:r.things.get(o))??null:null,[m,g]=Y.useState(0),[w,b]=Y.useState(0),[x,S]=Y.useState(!1),[_,N]=Y.useState(4),[P,W]=Y.useState(!1),[z,U]=Y.useState(!1),[V,j]=Y.useState(!1),[se,O]=Y.useState(null),[ge,be]=Y.useState(0),[pe,Ce]=Y.useState(0),[Ee,Ie]=Y.useState(!1),[K,ie]=Y.useState({head:0,body:0,legs:0,feet:0}),[ye,Be]=Y.useState(!1),[ue,T]=Y.useState(2),[te,Z]=Y.useState(0),[v,B]=Y.useState(null),[Q,ne]=Y.useState(!1),le=Y.useRef(null),J=Y.useRef(null),Se=Y.useRef(0),Ae=Y.useRef(null),ve=G(H=>H.activeCategory),Oe=ve==="outfit",ot=ve==="effect",Mt=ve==="distance";Y.useEffect(()=>{g(0),b(0),S(!1),be(0),Ce(0),T(2),Z(0),Be(Oe||ot||Mt),Ie(Oe)},[o,Oe,ot,Mt]),Y.useEffect(()=>{if(!Q)return;const H=ce=>{le.current&&!le.current.contains(ce.target)&&ne(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[Q]);const D=(h==null?void 0:h.frameGroups[m])??null,wt=Y.useCallback(H=>{const ce=J.current;if(!ce||!D||!i)return;const we=D.width*32,je=D.height*32,Re=ye?[ue<D.patternX?ue:0]:Array.from({length:D.patternX},(gt,rt)=>rt),Le=ye?[te<D.patternY?te:0]:Array.from({length:D.patternY},(gt,rt)=>rt),Pe=Re.length,ft=Le.length,Xe=Pe*we,qe=ft*je;ce.width=Xe,ce.height=qe;const $e=ce.getContext("2d");$e.clearRect(0,0,Xe,qe);const Ke=Oe&&Ee&&D.layers>=2,mt=Ke?[0]:Ee?Array.from({length:D.layers},(gt,rt)=>rt):[ge];for(const gt of mt)for(let rt=0;rt<Le.length;rt++){const Ot=Le[rt];for(let un=0;un<Re.length;un++){const ar=Re[un],es=un*we,ts=rt*je;for(let wn=0;wn<D.height;wn++)for(let Fn=0;Fn<D.width;Fn++){const In=ii(D,H,ar,Ot,pe,gt,Fn,wn);if(In>=D.sprites.length)continue;const cr=D.sprites[In];if(cr<=0)continue;const jn=a.get(cr)??Fr(i,cr);if(!jn)continue;const fi=new ImageData(new Uint8ClampedArray(jn.data),32,32);if(Ke){const Vt=ii(D,H,ar,Ot,pe,1,Fn,wn);if(Vt<D.sprites.length){const dr=D.sprites[Vt];if(dr>0){const ns=a.get(dr)??Fr(i,dr);ns&&nf(fi,ns,K)}}}const Ln=es+(D.width-1-Fn)*32,ur=ts+(D.height-1-wn)*32;if(Ee&&!Ke&&gt>0){const Vt=document.createElement("canvas");Vt.width=32,Vt.height=32,Vt.getContext("2d").putImageData(fi,0,0),$e.drawImage(Vt,Ln,ur)}else $e.putImageData(fi,Ln,ur)}}}},[D,i,a,ge,pe,Ee,ye,ue,te,Oe,K]);Y.useEffect(()=>{wt(w)},[w,wt]),Y.useEffect(()=>{var je;if(!x||!D||D.animationLength<=1)return;let H=w;const ce=()=>{var Le;H=(H+1)%D.animationLength,b(H),wt(H);const Re=((Le=D.animationLengths[H])==null?void 0:Le.min)??200;Se.current=window.setTimeout(ce,Re)},we=((je=D.animationLengths[H])==null?void 0:je.min)??200;return Se.current=window.setTimeout(ce,we),()=>{clearTimeout(Se.current)}},[x,D,wt]);const A=D?ye?1:D.patternX:1,tt=D?ye?1:D.patternY:1,sr=Y.useCallback((H,ce)=>{if(!D||!J.current)return 0;const we=J.current.getBoundingClientRect(),je=(H-we.left)/_,Re=(ce-we.top)/_,Le=Math.floor(je/32),Pe=Math.floor(Re/32),ft=A*D.width,Xe=tt*D.height;if(Le<0||Le>=ft||Pe<0||Pe>=Xe)return 0;const qe=Math.floor(Le/D.width),$e=Math.floor(Pe/D.height),Ke=ye?ue<D.patternX?ue:0:qe,mt=ye?te<D.patternY?te:0:$e,gt=D.width-1-Le%D.width,rt=D.height-1-Pe%D.height,Ot=ii(D,w,Ke,mt,pe,ge,gt,rt);return Ot<D.sprites.length?D.sprites[Ot]:0},[D,_,w,ge,pe,ye,ue,te,A,tt]),ci=Y.useCallback((H,ce)=>{if(!D||!J.current)return-1;const we=J.current.getBoundingClientRect(),je=(H-we.left)/_,Re=(ce-we.top)/_,Le=Math.floor(je/32),Pe=Math.floor(Re/32),ft=A*D.width,Xe=tt*D.height;if(Le<0||Le>=ft||Pe<0||Pe>=Xe)return-1;const qe=Math.floor(Le/D.width),$e=Math.floor(Pe/D.height),Ke=ye?ue<D.patternX?ue:0:qe,mt=ye?te<D.patternY?te:0:$e,gt=D.width-1-Le%D.width,rt=D.height-1-Pe%D.height,Ot=ii(D,w,Ke,mt,pe,ge,gt,rt);return Ot<D.sprites.length?Ot:-1},[D,_,w,ge,pe,ye,ue,te,A,tt]),or=Y.useCallback((H,ce,we)=>{if(!D||!i)return;const je=H[0];if(!je||!je.type.startsWith("image/"))return;const Re=new Image;Re.onload=()=>{const Le=document.createElement("canvas");Le.width=32,Le.height=32;const Pe=Le.getContext("2d"),ft=(Xe,qe)=>{const $e=D.sprites[Xe];if($e>0)c($e,qe);else{const Ke=d(qe);if(Ke!=null&&(D.sprites[Xe]=Ke,h)){const mt=new Set(G.getState().dirtyIds);mt.add(h.id),G.setState({dirty:!0,dirtyIds:mt})}}};if(Re.width<=32&&Re.height<=32){Pe.clearRect(0,0,32,32),Pe.drawImage(Re,0,0,32,32);const Xe=Pe.getImageData(0,0,32,32);let qe=-1;if(ce!=null&&we!=null){const $e=sr(ce,we);$e>0&&(qe=D.sprites.indexOf($e))}qe<0&&(qe=ii(D,w,0,0,0,0,0,0)),qe>=0&&qe<D.sprites.length&&ft(qe,Xe)}else{const Xe=D.patternX*D.width,qe=D.patternY*D.height;for(let $e=0;$e<qe&&$e*32<Re.height;$e++)for(let Ke=0;Ke<Xe&&Ke*32<Re.width;Ke++){const mt=Math.floor(Ke/D.width),gt=Math.floor($e/D.height),rt=D.width-1-Ke%D.width,Ot=D.height-1-$e%D.height,un=ii(D,w,mt,gt,0,0,rt,Ot);if(un>=D.sprites.length)continue;Pe.clearRect(0,0,32,32),Pe.drawImage(Re,Ke*32,$e*32,32,32,0,0,32,32);const ar=Pe.getImageData(0,0,32,32);ft(un,ar)}}},Re.src=URL.createObjectURL(je)},[D,h,i,w,c,d,sr]),lr=Y.useCallback(H=>{H.preventDefault(),j(!1),O(null);const ce=H.dataTransfer.getData("application/x-sprite-id");if(ce&&h&&D){const we=parseInt(ce,10);if(!isNaN(we)&&we>0){const je=ci(H.clientX,H.clientY);if(je>=0){D.sprites[je]=we,h.rawBytes=void 0,nr();const Re=G.getState(),Le=new Set(Re.dirtyIds);Le.add(h.id),G.setState({dirty:!0,dirtyIds:Le,editVersion:Re.editVersion+1})}return}}H.dataTransfer.files.length>0&&or(H.dataTransfer.files,H.clientX,H.clientY)},[or,h,D,ci]),Bn=()=>{const H=J.current;if(!H)return;const ce=H.toDataURL("image/png"),we=document.createElement("a");we.href=ce,we.download=`sprite_${(h==null?void 0:h.id)??0}_frame${w}.png`,we.click()},ui=()=>{if(!(!h||!i))try{const H=Y0({thing:h,clientVersion:1098,spriteData:i,spriteOverrides:a}),ce=new Blob([new Uint8Array(H)],{type:"application/octet-stream"}),we=URL.createObjectURL(ce),je=document.createElement("a");je.href=we;const Re=r?rr(r,h.id):h.id;je.download=`${ve}_${Re}.obd`,je.click(),URL.revokeObjectURL(we)}catch(H){alert(`Export failed: ${H instanceof Error?H.message:H}`)}},di=Y.useRef(null),qi=H=>{var je;const ce=(je=H.target.files)==null?void 0:je[0];if(!ce)return;const we=new FileReader;we.onload=()=>{var Re;try{const Le=new Uint8Array(we.result),Pe=K0(Le),ft=G.getState(),Xe=ft.selectedThingId,qe=Xe!=null?(Re=ft.objectData)==null?void 0:Re.things.get(Xe):null;if(Xe!=null&&qe&&qe.category===Pe.category)if(ft.replaceThing(Xe,Pe.flags,Pe.frameGroups,Pe.spritePixels)){const Ke=G.getState().objectData,mt=Ke?rr(Ke,Xe):Xe;alert(`Replaced ${Pe.category} #${mt} with ${Pe.spritePixels.size} sprites.`)}else alert("Replace failed  could not overwrite selected thing.");else{const $e=ft.importThing(Pe.category,Pe.flags,Pe.frameGroups,Pe.spritePixels);if($e!=null){const Ke=G.getState().objectData,mt=Ke?rr(Ke,$e):$e;alert(`Imported ${Pe.category} #${mt} with ${Pe.spritePixels.size} sprites.`)}}}catch(Le){alert(`Import failed: ${Le instanceof Error?Le.message:Le}`)}},we.readAsArrayBuffer(ce),H.target.value=""},Rt=Y.useCallback((H,ce)=>{if(!h||!D)return;D[H]=ce;const we=D.width*D.height*D.layers*D.patternX*D.patternY*D.patternZ*D.animationLength;if(D.sprites.length<we)for(;D.sprites.length<we;)D.sprites.push(0);else D.sprites.length>we&&(D.sprites.length=we);for(;D.animationLengths.length<D.animationLength;)D.animationLengths.push({min:100,max:100});D.animationLengths.length>D.animationLength&&(D.animationLengths.length=D.animationLength),h.rawBytes=void 0,nr();const je=G.getState(),Re=new Set(je.dirtyIds);Re.add(h.id),G.setState({dirty:!0,dirtyIds:Re,editVersion:je.editVersion+1})},[h,D]);if(!h)return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm",children:"Select an object to preview"});const Ji=D?D.animationLength>1:!1;return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-emperia-border gap-3",children:[f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Zoom:"}),f.jsx("input",{type:"range",min:1,max:8,value:_,onChange:H=>N(Number(H.target.value)),className:"flex-1 h-1 accent-emperia-accent"}),f.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-right",children:[_,"x"]})]}),f.jsx("div",{className:"flex-1 flex items-center justify-center overflow-auto min-h-0",children:f.jsxs("div",{className:`checkerboard rounded-lg border relative transition-colors
            ${V?"border-emperia-accent border-2":"border-emperia-border"}`,style:{padding:8},onDragOver:H=>{if(H.preventDefault(),j(!0),J.current&&D){const ce=J.current.getBoundingClientRect(),we=Math.floor((H.clientX-ce.left)/(32*_)),je=Math.floor((H.clientY-ce.top)/(32*_)),Re=A*D.width,Le=tt*D.height;we>=0&&we<Re&&je>=0&&je<Le?O({col:we,row:je}):O(null)}},onDragLeave:()=>{j(!1),O(null)},onDrop:H=>{O(null),lr(H)},children:[f.jsx("canvas",{ref:J,className:"cursor-pointer",onClick:H=>{const ce=sr(H.clientX,H.clientY);ce>0&&G.setState({focusSpriteId:ce})},style:{width:(D?A*D.width:1)*32*_,height:(D?tt*D.height:1)*32*_,imageRendering:"pixelated"}}),P&&D&&f.jsx("div",{className:"absolute inset-2 pointer-events-none",style:{backgroundImage:`
                  repeating-linear-gradient(0deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*_}px),
                  repeating-linear-gradient(90deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*_}px)
                `,backgroundSize:`${32*_}px ${32*_}px`}}),z&&D&&f.jsx("div",{className:"absolute pointer-events-none border border-yellow-400/60",style:{bottom:8,left:8,width:D.width*32*_,height:D.height*32*_}}),V&&!se&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emperia-accent/10 rounded-lg pointer-events-none",children:f.jsx("span",{className:"text-emperia-accent text-xs font-medium",children:"Drop PNG to replace"})}),se&&f.jsx("div",{className:"absolute pointer-events-none border-2 border-emperia-accent bg-emperia-accent/15 rounded-sm",style:{left:8+se.col*32*_,top:8+se.row*32*_,width:32*_,height:32*_}})]})}),f.jsxs("div",{className:"flex items-center px-3 py-1.5 gap-1 border-t border-emperia-border flex-wrap",children:[f.jsx("button",{onClick:()=>N(Math.max(1,_-1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom out",children:f.jsx(Lm,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-center",children:[_,"x"]}),f.jsx("button",{onClick:()=>N(Math.min(8,_+1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom in",children:f.jsx(jm,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:()=>W(!P),className:`p-1 rounded transition-colors ${P?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:"Toggle Grid",children:f.jsx(wm,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>U(!z),className:`p-1 rounded transition-colors ${z?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:"Toggle Crop Outline",children:f.jsx(xm,{className:"w-3.5 h-3.5"})}),D&&(D.patternX>1||D.patternY>1)&&f.jsx("button",{onClick:()=>Be(!ye),className:`p-1 rounded transition-colors ${ye?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:"Toggle Preview Mode",children:f.jsx(ym,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("input",{ref:Ae,type:"file",accept:"image/png,image/gif,image/bmp",className:"hidden",onChange:H=>H.target.files&&or(H.target.files)}),f.jsx("button",{onClick:()=>{var H;return(H=Ae.current)==null?void 0:H.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import PNG",children:f.jsx(Sm,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:Bn,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export PNG",children:f.jsx(km,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("input",{ref:di,type:"file",accept:".obd",className:"hidden",onChange:qi}),f.jsx("button",{onClick:()=>{var H;return(H=di.current)==null?void 0:H.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import OBD",children:f.jsx(Xd,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:ui,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export OBD",children:f.jsx(Ba,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsxs("div",{className:"relative",ref:le,children:[f.jsx("button",{onClick:()=>ne(!Q),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Copy properties",children:f.jsx(gm,{className:"w-3.5 h-3.5"})}),Q&&h&&f.jsx("div",{className:"absolute bottom-full mb-1 left-0 bg-emperia-surface border border-emperia-border rounded shadow-lg py-1 z-50 min-w-[160px]",onClick:()=>ne(!1),children:[{label:"Everything",key:"all"},{label:"Flags Only",key:"flags"},{label:"Server Properties",key:"server"},{label:"Sprites Only",key:"sprites"}].map(({label:H,key:ce})=>f.jsx("button",{className:"w-full text-left px-3 py-1.5 text-[11px] text-emperia-text hover:bg-emperia-hover transition-colors",onClick:()=>{if(!h)return;const{clientToServerIds:we,itemDefinitions:je}=G.getState(),Re=we.get(h.id),Le=Re!=null?je.get(Re)??null:null,Pe={label:H};(ce==="all"||ce==="flags")&&(Pe.flags={...h.flags}),(ce==="all"||ce==="sprites")&&(Pe.frameGroups=h.frameGroups.map(ft=>({...ft,sprites:[...ft.sprites],animationLengths:ft.animationLengths.map(Xe=>({...Xe}))}))),(ce==="all"||ce==="server")&&(Pe.serverDef=Le?{...Le,properties:Le.properties?{...Le.properties}:null}:null),G.setState({copiedThing:Pe})},children:H},ce))})]}),f.jsx("button",{onClick:()=>{const{copiedThing:H}=G.getState();if(!H||!h)return;const ce=G.getState(),we=new Set(ce.dirtyIds);if(we.add(h.id),H.frameGroups&&(h.frameGroups=H.frameGroups.map(je=>({...je,sprites:[...je.sprites],animationLengths:je.animationLengths.map(Re=>({...Re}))}))),h.rawBytes=void 0,nr(),H.serverDef&&h.category==="item"){const{clientToServerIds:je,itemDefinitions:Re}=ce,Le=je.get(h.id);if(Le!=null){const Pe=new Map(Re);Pe.set(Le,{...H.serverDef,serverId:Le,id:h.id}),G.setState({dirty:!0,dirtyIds:we,editVersion:ce.editVersion+1,itemDefinitions:Pe})}}H.flags?ce.updateThingFlags(h.id,{...H.flags}):G.setState({dirty:!0,dirtyIds:we,editVersion:ce.editVersion+1})},disabled:!G.getState().copiedThing,className:`p-1 rounded transition-colors ${G.getState().copiedThing?"hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text":"text-emperia-muted/30 cursor-not-allowed"}`,title:(Ir=G.getState().copiedThing)!=null&&Ir.label?`Paste: ${G.getState().copiedThing.label}`:"Paste properties",children:f.jsx(mm,{className:"w-3.5 h-3.5"})}),Ji&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:()=>{b((w-1+((D==null?void 0:D.animationLength)??1))%((D==null?void 0:D.animationLength)??1)),S(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Previous frame",children:f.jsx(hm,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>S(!x),className:`p-1 rounded transition-colors ${x?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:x?"Pause":"Play",children:x?f.jsx(Am,{className:"w-3.5 h-3.5"}):f.jsx(Dm,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>{b((w+1)%((D==null?void 0:D.animationLength)??1)),S(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Next frame",children:f.jsx(Kd,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[w+1,"/",D==null?void 0:D.animationLength]})]})]}),D&&h.flags.hasDisplacement&&f.jsxs("div",{className:"flex items-center justify-end px-4 py-1.5 gap-4 border-t border-emperia-border",children:[f.jsx(gn,{label:"Offset X",value:h.flags.displacementX??0,readOnly:!0}),f.jsx(gn,{label:"Offset Y",value:h.flags.displacementY??0,readOnly:!0})]}),h.frameGroups.length>1&&f.jsx("div",{className:"flex items-center justify-center px-4 py-1.5 gap-1 border-t border-emperia-border",children:h.frameGroups.map((H,ce)=>f.jsx("button",{onClick:()=>{g(ce),b(0),S(!1),be(0),Ce(0)},className:`px-2 py-0.5 rounded text-[10px] transition-colors
                ${m===ce?"bg-emperia-accent text-white":"bg-emperia-surface text-emperia-muted hover:bg-emperia-hover"}
              `,children:ce===0?"Idle":ce===1?"Moving":`Group ${ce}`},ce))}),D&&(D.animationLength>1||D.layers>1||D.patternZ>1||ye&&(D.patternX>1||D.patternY>1)||Oe)&&f.jsxs("div",{className:"border-t border-emperia-border",children:[f.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:Oe?"Outfit":ot?"Effect":Mt?"Distance":"Animation"})}),f.jsx("div",{className:"px-4 py-2",children:f.jsx("table",{className:"w-full text-[10px]",style:{borderSpacing:"0 3px",borderCollapse:"separate"},children:f.jsxs("tbody",{children:[ye&&D.patternX>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Direction:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(D.patternX,4)},(H,ce)=>f.jsx("button",{onClick:()=>T(ce),className:`w-6 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${ue===ce?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,title:Q0[ce]??`Dir ${ce}`,children:X0[ce]??ce},ce)),D.patternX>4&&f.jsxs(f.Fragment,{children:[f.jsx(qt,{onClick:()=>T(Math.max(0,ue-1)),children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[ue+1,"/",D.patternX]}),f.jsx(qt,{onClick:()=>T(Math.min(D.patternX-1,ue+1)),children:""})]})]})})]}),ye&&D.patternY>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:Oe?"Addon:":"Pattern Y:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qt,{onClick:()=>Z(Math.max(0,te-1)),children:""}),f.jsx("span",{className:"text-emperia-text font-mono w-10 text-center",children:Oe?te===0?"None":`#${te}`:`${te+1}/${D.patternY}`}),f.jsx(qt,{onClick:()=>Z(Math.min(D.patternY-1,te+1)),children:""})]})})]}),D.animationLength>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Frame:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qt,{onClick:()=>{b((w-1+D.animationLength)%D.animationLength),S(!1)},children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[w+1,"/",D.animationLength]}),f.jsx(qt,{onClick:()=>{b((w+1)%D.animationLength),S(!1)},children:""}),f.jsx("button",{onClick:()=>S(!x),className:`ml-1 px-2 py-0.5 rounded text-[10px] transition-colors ${x?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,children:x?"Stop":"Play"})]})})]}),D.layers>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Layer:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qt,{onClick:()=>be(Math.max(0,ge-1)),disabled:Ee,children:""}),f.jsx("span",{className:`font-mono w-10 text-center ${Ee?"text-emperia-muted":"text-emperia-text"}`,children:Ee?"All":`${ge+1}/${D.layers}`}),f.jsx(qt,{onClick:()=>be(Math.min(D.layers-1,ge+1)),disabled:Ee,children:""}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer ml-1",children:[f.jsx("input",{type:"checkbox",checked:Ee,onChange:()=>Ie(!Ee),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-emperia-muted",children:"Blend"})]})]})})]}),D.patternZ>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Pattern Z:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(qt,{onClick:()=>Ce(Math.max(0,pe-1)),children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[pe+1,"/",D.patternZ]}),f.jsx(qt,{onClick:()=>Ce(Math.min(D.patternZ-1,pe+1)),children:""})]})})]}),Oe&&Ee&&D.layers>=2&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),["head","body","legs","feet"].map(H=>f.jsxs("tr",{children:[f.jsxs("td",{className:"text-emperia-muted text-right pr-2 capitalize",children:[H,":"]}),f.jsxs("td",{children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>B(v===H?null:H),className:"w-5 h-5 rounded border border-emperia-border",style:{backgroundColor:jd(K[H])},title:`Color ${K[H]}`}),f.jsx("span",{className:"text-emperia-text font-mono w-8 text-center",children:K[H]}),f.jsx(qt,{onClick:()=>ie({...K,[H]:Math.max(0,K[H]-1)}),children:""}),f.jsx(qt,{onClick:()=>ie({...K,[H]:Math.min(oi-1,K[H]+1)}),children:""})]}),v===H&&f.jsx("div",{className:"mt-1 p-1 bg-emperia-surface border border-emperia-border rounded grid gap-px",style:{gridTemplateColumns:"repeat(19, 14px)"},children:Nr.map((ce,we)=>f.jsx("button",{onClick:()=>{ie({...K,[H]:we}),B(null)},className:`w-3.5 h-3.5 rounded-sm border ${K[H]===we?"border-white":"border-transparent"}`,style:{backgroundColor:jd(we)},title:`${we}`},we))})]})]},H))]}),D.animationLength>1&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Anim mode:"}),f.jsx("td",{children:f.jsxs("select",{value:D.asynchronous,onChange:H=>Rt("asynchronous",Number(H.target.value)),className:"w-full px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text outline-none focus:border-emperia-accent",children:[f.jsx("option",{value:0,children:"Synchronous"}),f.jsx("option",{value:1,children:"Asynchronous"})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Loop count:"}),f.jsx("td",{children:f.jsx(po,{value:D.nLoop,min:0,max:255,onChange:H=>Rt("nLoop",H)})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Start frame:"}),f.jsx("td",{children:f.jsx(po,{value:D.start,min:0,max:D.animationLength-1,onChange:H=>Rt("start",H)})})]}),D.animationLengths[w]&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Min (ms):"}),f.jsx("td",{children:f.jsx(po,{value:D.animationLengths[w].min,min:0,max:65535,onChange:H=>{D.animationLengths[w].min=H,h.rawBytes=void 0;const ce=G.getState(),we=new Set(ce.dirtyIds);we.add(h.id),G.setState({dirty:!0,dirtyIds:we,editVersion:ce.editVersion+1})}})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Max (ms):"}),f.jsx("td",{children:f.jsx(po,{value:D.animationLengths[w].max,min:0,max:65535,onChange:H=>{D.animationLengths[w].max=H,h.rawBytes=void 0;const ce=G.getState(),we=new Set(ce.dirtyIds);we.add(h.id),G.setState({dirty:!0,dirtyIds:we,editVersion:ce.editVersion+1})}})})]}),f.jsx("tr",{children:f.jsxs("td",{colSpan:2,className:"text-emperia-muted/60 text-right pt-0.5",children:["Frame ",w+1," of ",D.animationLength]})})]})]})]})})})]}),D&&f.jsxs("div",{className:"border-t border-emperia-border",children:[f.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Patterns"})}),f.jsxs("div",{className:"px-4 py-2 grid grid-cols-2 gap-x-6 gap-y-1",children:[f.jsx(gn,{label:"Width",value:D.width,onChange:H=>Rt("width",H),min:1,max:4}),f.jsx(gn,{label:"Height",value:D.height,onChange:H=>Rt("height",H),min:1,max:4}),f.jsx(gn,{label:"Crop Size",value:32,readOnly:!0}),f.jsx(gn,{label:"Layers",value:D.layers,onChange:H=>Rt("layers",H),min:1,max:4}),f.jsx(gn,{label:"Pattern X",value:D.patternX,onChange:H=>Rt("patternX",H),min:1,max:8}),f.jsx(gn,{label:"Pattern Y",value:D.patternY,onChange:H=>Rt("patternY",H),min:1,max:8}),f.jsx(gn,{label:"Pattern Z",value:D.patternZ,onChange:H=>Rt("patternZ",H),min:1,max:8}),f.jsx(gn,{label:"Animations",value:D.animationLength,onChange:H=>Rt("animationLength",H),min:1,max:255})]})]})]})}function gn({label:o,value:r,onChange:i,min:a,max:c,readOnly:d}){return f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[o,":"]}),d?f.jsx("span",{className:"text-[10px] text-emperia-text font-mono w-14 text-right",children:r}):f.jsxs("div",{className:"flex items-center gap-0.5",children:[f.jsx("button",{onClick:()=>i==null?void 0:i(Math.max(a??0,r-1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"-"}),f.jsx("input",{type:"number",value:r,min:a,max:c,onChange:h=>{const m=parseInt(h.target.value,10);isNaN(m)||i==null||i(Math.max(a??0,Math.min(c??9999,m)))},className:"w-10 px-1 py-0 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-center outline-none focus:border-emperia-accent"}),f.jsx("button",{onClick:()=>i==null?void 0:i(Math.min(c??9999,r+1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"+"})]})]})}function qt({onClick:o,disabled:r,children:i}){return f.jsx("button",{onClick:o,disabled:r,className:"w-5 h-5 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px] disabled:opacity-30",children:i})}function po({value:o,min:r,max:i,onChange:a}){return f.jsx("input",{type:"number",value:o,min:r,max:i,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||a(Math.max(r,Math.min(i,d)))},className:"w-16 px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-right outline-none focus:border-emperia-accent"})}function ii(o,r,i,a,c,d,h,m){return(((((r*o.patternZ+c)*o.patternY+a)*o.patternX+i)*o.layers+d)*o.height+m)*o.width+h}const Rf=[{title:"Ground & Stacking",wide:!0,flags:[{key:"ground",label:"Ground",numericProps:[{key:"groundSpeed",label:"Speed",min:0,max:65535}]},{key:"groundBorder",label:"Ground Border"},{key:"onBottom",label:"On Bottom"},{key:"onTop",label:"On Top"},{key:"fullGround",label:"Full Ground"},{key:"topEffect",label:"Top Effect"}]},{title:"Blocking",flags:[{key:"notWalkable",label:"Not Walkable"},{key:"notMoveable",label:"Not Moveable"},{key:"blockProjectile",label:"Block Projectile"},{key:"notPathable",label:"Not Pathable"}]},{title:"Fluids",flags:[{key:"fluidContainer",label:"Fluid Container"},{key:"splash",label:"Splash"}]},{title:"Interaction",flags:[{key:"pickupable",label:"Pickupable"},{key:"stackable",label:"Stackable"},{key:"container",label:"Container"},{key:"forceUse",label:"Force Use"},{key:"multiUse",label:"Multi Use"},{key:"usable",label:"Usable"},{key:"rotateable",label:"Rotateable"},{key:"wrapable",label:"Wrapable"},{key:"unwrapable",label:"Unwrapable"}]},{title:"Hooks & Hanging",flags:[{key:"hangable",label:"Hangable"},{key:"hookSouth",label:"Hook South"},{key:"hookEast",label:"Hook East"}]},{title:"Writing",wide:!0,flags:[{key:"writable",label:"Writable",numericProps:[{key:"writableMaxLen",label:"Max Length",min:0,max:65535}]},{key:"writableOnce",label:"Writable Once",numericProps:[{key:"writableOnceMaxLen",label:"Max Length",min:0,max:65535}]}]},{title:"Visual",wide:!0,flags:[{key:"hasLight",label:"Light",numericProps:[{key:"lightLevel",label:"Level",min:0,max:65535},{key:"lightColor",label:"Color",min:0,max:65535}]},{key:"hasDisplacement",label:"Displacement",numericProps:[{key:"displacementX",label:"X",min:0,max:65535},{key:"displacementY",label:"Y",min:0,max:65535}]},{key:"hasElevation",label:"Elevation",numericProps:[{key:"elevation",label:"Height",min:0,max:65535}]},{key:"hasMinimapColor",label:"Minimap Color",numericProps:[{key:"minimapColor",label:"Color",min:0,max:65535}]},{key:"translucent",label:"Translucent"},{key:"dontHide",label:"Don't Hide"},{key:"animateAlways",label:"Animate Always"},{key:"noMoveAnimation",label:"No Move Animation"}]},{title:"Equipment & Market",wide:!0,flags:[{key:"cloth",label:"Cloth",numericProps:[{key:"clothSlot",label:"Slot",min:0,max:65535}]},{key:"hasMarket",label:"Market"},{key:"chargeable",label:"Chargeable"}]},{title:"Miscellaneous",flags:[{key:"lyingCorpse",label:"Lying Corpse"},{key:"look",label:"Look"}]}],Od=Rf.flatMap(o=>o.flags);function Ud({showAttributesOnly:o}={}){const r=G(m=>m.selectedThingId),i=G(m=>m.objectData),a=G(m=>m.updateThingFlags);G(m=>m.editVersion);const c=r!=null?(i==null?void 0:i.things.get(r))??null:null,d=Y.useCallback(m=>{if(!c)return;const g={...c.flags};g[m]=!g[m],g[m]||(m==="ground"&&(g.groundSpeed=void 0),m==="hasLight"&&(g.lightLevel=void 0,g.lightColor=void 0),m==="hasDisplacement"&&(g.displacementX=void 0,g.displacementY=void 0),m==="hasElevation"&&(g.elevation=void 0),m==="hasMinimapColor"&&(g.minimapColor=void 0),m==="cloth"&&(g.clothSlot=void 0)),g[m]&&(m==="ground"&&g.groundSpeed==null&&(g.groundSpeed=100),m==="hasLight"&&(g.lightLevel==null&&(g.lightLevel=7),g.lightColor==null&&(g.lightColor=215)),m==="hasDisplacement"&&(g.displacementX==null&&(g.displacementX=8),g.displacementY==null&&(g.displacementY=8)),m==="hasElevation"&&g.elevation==null&&(g.elevation=8),m==="hasMinimapColor"&&g.minimapColor==null&&(g.minimapColor=0),m==="cloth"&&g.clothSlot==null&&(g.clothSlot=0)),a(c.id,g)},[c,a]),h=Y.useCallback((m,g)=>{if(!c)return;const w={...c.flags,[m]:g};a(c.id,w)},[c,a]);return c?o?f.jsxs("div",{className:"p-3 text-xs space-y-4",children:[c.frameGroups.map((m,g)=>f.jsxs(zd,{title:`Frame Group ${g}${c.category==="outfit"?g===0?" (Idle)":" (Moving)":""}`,children:[f.jsx(xn,{label:"Size",value:`${m.width}x${m.height}`}),f.jsx(xn,{label:"Layers",value:m.layers}),f.jsx(xn,{label:"Pattern X",value:m.patternX}),f.jsx(xn,{label:"Pattern Y",value:m.patternY}),f.jsx(xn,{label:"Pattern Z",value:m.patternZ}),f.jsx(xn,{label:"Animations",value:m.animationLength}),f.jsx(xn,{label:"Sprites",value:m.sprites.length}),m.animationLength>1&&f.jsxs(f.Fragment,{children:[f.jsx(xn,{label:"Async",value:m.asynchronous?"Yes":"No"}),f.jsx(xn,{label:"Loop Count",value:m.nLoop===0?"Infinite":m.nLoop}),f.jsx(xn,{label:"Start Frame",value:m.start})]})]},g)),f.jsx(zd,{title:"Active Flags",children:f.jsxs("div",{className:"space-y-0.5",children:[Od.filter(({key:m})=>!!c.flags[m]).map(({key:m,label:g})=>f.jsx("div",{className:"text-emperia-text text-xs",children:g},m)),Od.every(({key:m})=>!c.flags[m])&&f.jsx("span",{className:"text-emperia-muted italic",children:"None"})]})})]}):f.jsx("div",{className:"p-3 text-xs space-y-1",children:f.jsx("div",{className:"grid grid-cols-4 gap-1",children:Rf.map(m=>{const g=m.flags.filter(b=>!!c.flags[b.key]).length,w=m.wide?"col-span-2":"";return f.jsx("div",{className:w,children:f.jsx(q0,{title:m.title,activeCount:g,flags:m.flags,thingFlags:c.flags,onToggle:d,onNumericChange:h})},m.title)})})}):f.jsx("div",{className:"p-4 text-emperia-muted text-sm",children:"No object selected"})}function zd({title:o,children:r}){return f.jsxs("div",{children:[f.jsx("h3",{className:"text-emperia-accent font-semibold text-[11px] uppercase tracking-wider mb-1.5 pb-1 border-b border-emperia-border",children:o}),f.jsx("div",{className:"space-y-0.5",children:r})]})}function xn({label:o,value:r}){return f.jsxs("div",{className:"flex justify-between py-0.5",children:[f.jsx("span",{className:"text-emperia-muted",children:o}),f.jsx("span",{className:"text-emperia-text font-mono",children:String(r)})]})}function q0({title:o,activeCount:r,flags:i,thingFlags:a,onToggle:c,onNumericChange:d}){const[h,m]=Y.useState(!0);return f.jsxs("div",{className:"border border-emperia-border/50 rounded overflow-hidden",children:[f.jsxs("button",{onClick:()=>m(!h),className:"w-full flex items-center gap-1.5 px-2 py-1.5 bg-emperia-surface/60 hover:bg-emperia-surface transition-colors text-left",children:[h?f.jsx(Yd,{className:"w-3 h-3 text-emperia-muted shrink-0"}):f.jsx(Kd,{className:"w-3 h-3 text-emperia-muted shrink-0"}),f.jsx("span",{className:"text-[10px] font-semibold text-emperia-text uppercase tracking-wider flex-1",children:o}),r>0&&f.jsx("span",{className:"text-[9px] font-medium text-emperia-accent bg-emperia-accent/15 px-1.5 py-0.5 rounded-full",children:r})]}),h&&f.jsx("div",{className:"px-1 py-0.5",children:i.map(({key:g,label:w,numericProps:b})=>{const x=!!a[g];return f.jsxs("div",{children:[f.jsxs("label",{className:"flex items-center gap-2 py-[3px] px-1 rounded hover:bg-emperia-hover cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:x,onChange:()=>c(g),className:"w-3 h-3 rounded border-emperia-border bg-emperia-surface accent-emperia-accent cursor-pointer"}),f.jsx("span",{className:x?"text-emperia-text":"text-emperia-muted",children:w})]}),x&&b&&b.length>0&&f.jsx("div",{className:"ml-7 mb-1 flex flex-wrap gap-x-3 gap-y-0.5",children:b.map(S=>f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-emperia-muted text-[10px]",children:S.label}),f.jsx("input",{type:"number",value:a[S.key]??0,min:S.min,max:S.max,onChange:_=>{const N=parseInt(_.target.value,10);isNaN(N)||d(S.key,Math.max(S.min??0,Math.min(S.max??65535,N)))},className:`w-16 px-1 py-0.5 rounded bg-emperia-surface border border-emperia-border
                                     text-emperia-text font-mono text-right text-[10px] outline-none
                                     focus:border-emperia-accent transition-colors`})]},S.key))})]},g)})})]})}const ln=40,Er=6;function J0(){const o=G(v=>v.selectedThingId),r=G(v=>v.objectData),i=G(v=>v.spriteData),a=G(v=>v.spriteOverrides),c=G(v=>v.focusSpriteId),[d,h]=Y.useState(null),[m,g]=Y.useState(""),[w,b]=Y.useState(0),[x,S]=Y.useState(0),[_,N]=Y.useState(null),[P,W]=Y.useState(null),z=Y.useRef(null),U=Y.useRef(null),V=o!=null?(r==null?void 0:r.things.get(o))??null:null,j=Y.useCallback(v=>{const B=G.getState().addSprite;Array.from(v).forEach(Q=>{const ne=new Image;ne.onload=()=>{const le=document.createElement("canvas"),J=le.getContext("2d"),Se=Math.max(1,Math.floor(ne.width/32)),Ae=Math.max(1,Math.floor(ne.height/32));le.width=32,le.height=32;const ve=[];for(let Oe=0;Oe<Ae;Oe++)for(let ot=0;ot<Se;ot++){J.clearRect(0,0,32,32),J.drawImage(ne,ot*32,Oe*32,32,32,0,0,32,32);const Mt=J.getImageData(0,0,32,32);let D=!1;for(let A=3;A<Mt.data.length;A+=4)if(Mt.data[A]>0){D=!0;break}if(!D)continue;const wt=B(Mt);wt!=null&&ve.push(wt)}if(ve.length>0&&(g(""),N(ve[0]),setTimeout(()=>N(null),2e3),z.current&&i)){const Oe=ve[0]-1,ot=Math.floor(Oe/Er);z.current.scrollTop=ot*ln}},ne.src=URL.createObjectURL(Q)})},[i]),se=Y.useCallback(v=>{v<=0||confirm(`Delete sprite #${v}? It will be replaced with a blank sprite.`)&&G.getState().deleteSprite(v)},[]);Y.useEffect(()=>{h(null)},[o]),Y.useEffect(()=>{if(c!=null&&c>0&&z.current&&i){g("");const v=c-1,B=Math.floor(v/Er);z.current.scrollTop=B*ln,N(c),G.setState({focusSpriteId:null}),setTimeout(()=>N(null),2e3)}},[c,i]);const O=G(v=>v.editVersion),ge=Y.useMemo(()=>{if(!V)return[];const v=[];return V.frameGroups.forEach((B,Q)=>{B.sprites.forEach((ne,le)=>{v.push({spriteId:ne,group:Q,index:le})})}),v},[V,O]),be=Y.useMemo(()=>{if(!i)return[];if(m){const B=parseInt(m,10);if(!isNaN(B)){const Q=[];for(let ne=Math.max(1,B-50);ne<=Math.min(i.spriteCount,B+200);ne++)Q.push(ne);return Q}}const v=[];for(let B=1;B<=i.spriteCount;B++)v.push(B);return v},[i,m,O]),pe=Math.ceil(be.length/Er),Ce=pe*ln,Ee=Y.useCallback(()=>{z.current&&(b(z.current.scrollTop),S(z.current.clientHeight))},[]);Y.useEffect(()=>{Ee();const v=z.current;if(v){const B=new ResizeObserver(Ee);return B.observe(v),()=>B.disconnect()}},[Ee]),Y.useEffect(()=>{if(m&&z.current){const v=parseInt(m,10);if(!isNaN(v)){const B=be.indexOf(v);if(B>=0){const Q=Math.floor(B/Er);z.current.scrollTop=Q*ln}}}},[m,be]);const Ie=Math.max(0,Math.floor(w/ln)-2),K=Math.min(pe,Math.ceil((w+x)/ln)+2),ie=be.slice(Ie*Er,K*Er),ye=Y.useCallback((v,B)=>{if(!V)return;const Q=V.frameGroups[v.group];if(!Q)return;Q.sprites[v.index]=B,V.rawBytes=void 0,nr();const ne=G.getState(),le=new Set(ne.dirtyIds);le.add(V.id),G.setState({dirty:!0,dirtyIds:le,editVersion:ne.editVersion+1})},[V]),Be=Y.useCallback(v=>{!d||!V||ye(d,v)},[d,V,ye]),ue=Y.useCallback((v,B)=>{v.dataTransfer.setData("application/x-sprite-id",String(B)),v.dataTransfer.effectAllowed="copy"},[]),T=Y.useCallback((v,B,Q)=>{v.dataTransfer.types.includes("application/x-sprite-id")&&(v.preventDefault(),v.dataTransfer.dropEffect="copy",W({group:B,index:Q}))},[]),te=Y.useCallback(()=>{W(null)},[]),Z=Y.useCallback((v,B,Q)=>{v.preventDefault(),W(null);const ne=v.dataTransfer.getData("application/x-sprite-id"),le=parseInt(ne,10);!isNaN(le)&&le>0&&ye({group:B,index:Q},le)},[ye]);return i?f.jsxs("div",{className:"flex flex-col h-full",children:[V&&f.jsxs("div",{className:"shrink-0 border-b border-emperia-border",children:[f.jsxs("div",{className:"px-2 py-1.5 flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Object Sprites"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:ge.length})]}),f.jsx("div",{className:"overflow-y-auto max-h-40 px-1.5 pb-1.5",children:f.jsx("div",{className:"grid grid-cols-6 gap-0.5",children:ge.map(({spriteId:v,group:B,index:Q},ne)=>{const le=v>0?ya(i,v,a):null,J=(d==null?void 0:d.group)===B&&(d==null?void 0:d.index)===Q,Se=a.has(v),Ae=(P==null?void 0:P.group)===B&&(P==null?void 0:P.index)===Q;return f.jsxs("button",{onClick:()=>h(J?null:{group:B,index:Q}),onDragOver:ve=>T(ve,B,Q),onDragLeave:te,onDrop:ve=>Z(ve,B,Q),className:`relative flex items-center justify-center rounded border transition-colors
                      ${Ae?"border-green-400 bg-green-400/20":J?"border-emperia-accent bg-emperia-accent/20":Se?"border-amber-500/50 bg-amber-500/10":"border-emperia-border/40 hover:border-emperia-muted"}
                    `,style:{width:ln,height:ln},title:`Slot ${ne}  Sprite #${v}${J?" (selected  click atlas sprite to assign)":`
Drag a sprite here or click to select`}`,children:[le?f.jsx("img",{src:le,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-8 h-8 bg-emperia-border/20 rounded-sm"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/50 leading-none",children:v})]},`${B}-${Q}`)})})}),d&&f.jsx("div",{className:"px-2 pb-1.5 text-[10px] text-emperia-accent",children:"Click a sprite below to assign it to the selected slot"})]}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider shrink-0",children:"Sprite Atlas"}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(Eo,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted"}),f.jsx("input",{type:"text",value:m,onChange:v=>g(v.target.value),placeholder:"Go to ID...",className:"w-full pl-6 pr-2 py-0.5 bg-emperia-bg border border-emperia-border rounded text-[10px] text-emperia-text placeholder:text-emperia-muted/50 focus:outline-none focus:border-emperia-accent"})]}),f.jsx("input",{ref:U,type:"file",accept:"image/png,image/gif,image/bmp",multiple:!0,className:"hidden",onChange:v=>{v.target.files&&j(v.target.files),v.target.value=""}}),f.jsx("button",{onClick:()=>{var v;return(v=U.current)==null?void 0:v.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-green-400 transition-colors shrink-0",title:"Add new sprites from PNG (auto-splits into 3232 tiles)",children:f.jsx(Fa,{className:"w-3.5 h-3.5"})})]}),f.jsx("div",{ref:z,onScroll:Ee,className:"flex-1 overflow-y-auto",children:f.jsx("div",{style:{height:Ce,position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:Ie*ln,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${Er}, 1fr)`},children:ie.map(v=>{const B=ya(i,v,a),Q=v===_;return f.jsxs("div",{draggable:!0,onDragStart:ne=>ue(ne,v),className:`group relative flex items-center justify-center border transition-colors cursor-grab active:cursor-grabbing
                      ${Q?"border-green-400 bg-green-400/20":d?"border-transparent hover:bg-emperia-accent/10 hover:border-emperia-accent/30 cursor-pointer":"border-transparent hover:bg-emperia-hover"}
                    `,style:{width:ln,height:ln},title:`#${v}  drag to a slot above`,onClick:()=>Be(v),onContextMenu:ne=>{ne.preventDefault(),se(v)},children:[B?f.jsx("img",{src:B,alt:"",draggable:!1,className:"w-8 h-8 pointer-events-none",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-6 h-6"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/40 leading-none",children:v}),f.jsx("button",{className:"absolute top-0 right-0 p-0.5 rounded-bl bg-red-500/80 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:ne=>{ne.stopPropagation(),se(v)},title:`Delete sprite #${v}`,children:f.jsx(ko,{className:"w-2.5 h-2.5"})})]},v)})})})})]})]}):f.jsx("div",{className:"p-3 text-emperia-muted text-xs",children:"Load files to browse sprites"})}const e1=[{key:"name",label:"Name",type:"string"},{key:"article",label:"Article",type:"string",placeholder:"a / an"},{key:"description",label:"Description",type:"string"},{key:"type",label:"Type",type:"select",options:["","bed","container","corpse","depot","door","fluidContainer","key","magicfield","mailbox","readable","rune","splash","teleport","trashholder","window"]}],t1=[{key:"weaponType",label:"Weapon Type",type:"select",options:["","sword","axe","club","distance","shield","wand","orb","magical"]},{key:"slotType",label:"Slot Type",type:"select",options:["","hand","two-handed","head","body","legs","feet","ring","necklace","backpack","ammo"]},{key:"ammoType",label:"Ammo Type",type:"string"},{key:"shootType",label:"Shoot Type",type:"string"},{key:"damageElement",label:"Damage Element",type:"select",options:["","fire","ice","energy","earth","death","holy","arcane","wind"]}],n1=[{key:"physicalAttack",label:"Physical Attack",type:"number"},{key:"magicalAttack",label:"Magical Attack",type:"number"},{key:"physicalDefense",label:"Physical Defense",type:"number"},{key:"magicalDefense",label:"Magical Defense",type:"number"},{key:"armor",label:"Armor",type:"number"},{key:"extradef",label:"Extra Def",type:"number"},{key:"hitChance",label:"Hit Chance",type:"number"},{key:"maxHitChance",label:"Max Hit Chance",type:"number"},{key:"range",label:"Range",type:"number"}],r1=[{key:"weight",label:"Weight",type:"number"},{key:"speed",label:"Speed",type:"number"},{key:"friction",label:"Friction",type:"number"},{key:"floorchange",label:"Floor Change",type:"select",options:["","down","north","south","east","west"]}],i1=[{key:"level",label:"Level",type:"number"},{key:"expertise",label:"Expertise",type:"number"}],s1=[{key:"containerSize",label:"Container Size",type:"number"},{key:"containerSizePotions",label:"Container Size (Potions)",type:"number"},{key:"weightReduction",label:"Weight Reduction",type:"number"}],o1=[{key:"charges",label:"Charges",type:"number"},{key:"duration",label:"Duration",type:"number"},{key:"decayTo",label:"Decay To (Item ID)",type:"number"},{key:"destroyTo",label:"Destroy To (Item ID)",type:"number"},{key:"rotateTo",label:"Rotate To (Item ID)",type:"number"},{key:"transformEquipTo",label:"Transform Equip To",type:"number"},{key:"transformDeEquipTo",label:"Transform DeEquip To",type:"number"}],l1=[{key:"fluidSource",label:"Fluid Source",type:"string"},{key:"field",label:"Field",type:"string"},{key:"readable",label:"Readable",type:"boolean"},{key:"writeable",label:"Writeable",type:"boolean"},{key:"maxTextLen",label:"Max Text Length",type:"number"}],a1=[{key:"healthGain",label:"Health Gain",type:"number"},{key:"healthTicks",label:"Health Ticks",type:"number"},{key:"manaGain",label:"Mana Gain",type:"number"},{key:"manaTicks",label:"Mana Ticks",type:"number"}],c1=[{key:"skillSword",label:"Skill Sword",type:"number"},{key:"skillAxe",label:"Skill Axe",type:"number"},{key:"skillClub",label:"Skill Club",type:"number"},{key:"skillDist",label:"Skill Distance",type:"number"},{key:"skillShield",label:"Skill Shield",type:"number"},{key:"skillFist",label:"Skill Fist",type:"number"},{key:"magiclevelpoints",label:"Magic Level Points",type:"number"}],u1=[{key:"absorbPercentPhysical",label:"Absorb Physical %",type:"number"},{key:"absorbPercentFire",label:"Absorb Fire %",type:"number"},{key:"absorbPercentIce",label:"Absorb Ice %",type:"number"},{key:"absorbPercentEnergy",label:"Absorb Energy %",type:"number"},{key:"absorbPercentEarth",label:"Absorb Earth %",type:"number"},{key:"absorbPercentDeath",label:"Absorb Death %",type:"number"},{key:"absorbPercentHoly",label:"Absorb Holy %",type:"number"}],d1=[{key:"bonusStrength",label:"Strength",type:"number"},{key:"bonusDexterity",label:"Dexterity",type:"number"},{key:"bonusEndurance",label:"Endurance",type:"number"},{key:"bonusAgility",label:"Agility",type:"number"},{key:"bonusIntelligence",label:"Intelligence",type:"number"},{key:"bonusWisdom",label:"Wisdom",type:"number"},{key:"bonusFocus",label:"Focus",type:"number"},{key:"bonusSpirit",label:"Spirit",type:"number"}],f1=[{key:"bonusCritChance",label:"Crit Chance",type:"number"},{key:"bonusCritDamage",label:"Crit Damage",type:"number"},{key:"bonusDodge",label:"Dodge",type:"number"},{key:"bonusCDR",label:"CDR",type:"number"},{key:"bonusHealingPower",label:"Healing Power",type:"number"},{key:"bonusAttackSpeed",label:"Attack Speed",type:"number"},{key:"bonusPhysicalHit",label:"Physical Hit",type:"number"},{key:"bonusSpellHit",label:"Spell Hit",type:"number"},{key:"bonusMaxHealth",label:"Max Health",type:"number"},{key:"bonusMaxMana",label:"Max Mana",type:"number"},{key:"bonusCapacity",label:"Capacity",type:"number"},{key:"bonusHealthRegen",label:"Health Regen",type:"number"},{key:"bonusManaRegen",label:"Mana Regen",type:"number"},{key:"bonusMaxStamina",label:"Max Stamina",type:"number"},{key:"bonusStaminaRegen",label:"Stamina Regen",type:"number"},{key:"bonusStatusResist",label:"Status Resist",type:"number"}],h1=[{value:0,label:"0  Normal"},{value:1,label:"1  Ground"},{value:2,label:"2  Container"},{value:3,label:"3  Weapon"},{value:4,label:"4  Ammunition"},{value:5,label:"5  Armor"},{value:6,label:"6  Charges"},{value:7,label:"7  Teleport"},{value:9,label:"9  Write"},{value:10,label:"10  Write Once"},{value:11,label:"11  Fluid (Splash)"},{value:12,label:"12  Fluid Container"}];function p1(){const o=G(N=>N.selectedThingId),r=G(N=>N.objectData),i=G(N=>N.activeCategory),a=G(N=>N.itemDefinitions),c=G(N=>N.clientToServerIds),d=G(N=>N.updateItemDefinition);G(N=>N.editVersion);const h=o!=null?(r==null?void 0:r.things.get(o))??null:null,m=o!=null?c.get(o):void 0,g=m!=null?a.get(m)??null:null,w=Y.useMemo(()=>(g==null?void 0:g.properties)??{},[g]),b=Y.useCallback((N,P)=>{if(o==null)return;const W=c.get(o),z=W!=null?a.get(W):void 0,U=z!=null&&z.properties?{...z.properties}:{};P===void 0||P===""||P===!1?delete U[N]:U[N]=P,d(o,{properties:Object.keys(U).length>0?U:null})},[o,a,d]);if(i!=="item")return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm p-4",children:"Server properties are only available for items."});if(!h)return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm p-4",children:"No item selected"});const x=(g==null?void 0:g.flags)??0,S=(g==null?void 0:g.group)??0;g==null||g.serverId;const _=im.filter((N,P)=>(x&1<<P)!==0).map(N=>N.replace("FLAG_",""));return f.jsxs("div",{className:"p-3 text-xs space-y-3 overflow-y-auto",children:[f.jsx(Of,{title:"OTB Flags & Group",children:f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-16 text-emperia-muted shrink-0",children:"Group"}),f.jsx("select",{value:S,onChange:N=>{const P=parseInt(N.target.value,10);o!=null&&d(o,{group:P})},className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs",children:h1.map(N=>f.jsx("option",{value:N.value,children:N.label},N.value))})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-16 text-emperia-muted shrink-0",children:"Flags"}),f.jsx("span",{className:"text-emperia-text font-mono text-[10px]",children:x})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-16 text-emperia-muted shrink-0",children:"Active"}),f.jsx("span",{className:"text-emperia-text font-mono text-[10px] leading-relaxed",children:_.length>0?_.join(", "):f.jsx("span",{className:"text-emperia-muted/50",children:"none"})})]}),f.jsx("p",{className:"text-[9px] text-emperia-muted/50 mt-1",children:"Groups 1 (Ground), 2 (Container), 11 (Splash), 12 (Fluid) are used by the server for gameplay logic."})]})}),f.jsx(Wt,{title:"Identity",fields:e1,props:w,setProperty:b}),f.jsx(Wt,{title:"Equipment",fields:t1,props:w,setProperty:b}),f.jsx(Wt,{title:"Combat Stats",fields:n1,props:w,setProperty:b}),f.jsx(Wt,{title:"Weight / Speed",fields:r1,props:w,setProperty:b}),f.jsx(Wt,{title:"Requirements",fields:i1,props:w,setProperty:b}),f.jsx(Wt,{title:"Container",fields:s1,props:w,setProperty:b}),f.jsx(Wt,{title:"Decay / Transform",fields:o1,props:w,setProperty:b}),f.jsx(Wt,{title:"Special",fields:l1,props:w,setProperty:b}),f.jsx(Wt,{title:"Regeneration",fields:a1,props:w,setProperty:b}),f.jsx(Wt,{title:"Skill Bonuses",fields:c1,props:w,setProperty:b}),f.jsx(Wt,{title:"Absorb %",fields:u1,props:w,setProperty:b}),f.jsx(Wt,{title:"Stat Bonuses",fields:d1,props:w,setProperty:b}),f.jsx(Wt,{title:"Combat Bonuses",fields:f1,props:w,setProperty:b})]})}function Of({title:o,children:r}){return f.jsxs("div",{children:[f.jsx("h3",{className:"text-[10px] font-semibold text-emperia-muted uppercase tracking-wider mb-1",children:o}),r]})}function Wt({title:o,fields:r,props:i,setProperty:a}){return!r.some(h=>i[h.key]!==void 0&&i[h.key]!=="")&&!(o==="Identity")?f.jsxs("details",{children:[f.jsx("summary",{className:"text-[10px] font-semibold text-emperia-muted uppercase tracking-wider cursor-pointer hover:text-emperia-text select-none",children:o}),f.jsx("div",{className:"mt-1 space-y-1",children:r.map(h=>f.jsx(Hd,{field:h,value:i[h.key],onChange:m=>a(h.key,m)},h.key))})]}):f.jsx(Of,{title:o,children:f.jsx("div",{className:"space-y-1",children:r.map(h=>f.jsx(Hd,{field:h,value:i[h.key],onChange:m=>a(h.key,m)},h.key))})})}function Hd({field:o,value:r,onChange:i}){const{label:a,type:c,options:d,placeholder:h}=o;return c==="boolean"?f.jsxs("label",{className:"flex items-center gap-2 py-[2px] px-1 rounded hover:bg-emperia-hover cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:!!r,onChange:()=>i(!r),className:"accent-emperia-accent"}),f.jsx("span",{className:"text-emperia-text",children:a})]}):c==="select"?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-28 text-emperia-muted shrink-0",children:a}),f.jsx("select",{value:r!=null?String(r):"",onChange:m=>i(m.target.value||void 0),className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs",children:d.map(m=>f.jsx("option",{value:m,children:m||""},m))})]}):c==="number"?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-28 text-emperia-muted shrink-0",children:a}),f.jsx("input",{type:"number",value:r!=null?String(r):"",placeholder:h,onChange:m=>{const g=m.target.value;if(g===""){i(void 0);return}const w=parseFloat(g);isNaN(w)||i(w)},className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs w-0"})]}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-28 text-emperia-muted shrink-0",children:a}),f.jsx("input",{type:"text",value:r!=null?String(r):"",placeholder:h,onChange:m=>i(m.target.value||void 0),className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs w-0"})]})}const m1=[{value:"all",label:"All"},{value:"head",label:"Head"},{value:"body",label:"Body"},{value:"legs",label:"Legs"},{value:"feet",label:"Feet"},{value:"left-hand",label:"Left Hand"},{value:"right-hand",label:"Right Hand"},{value:"backpack",label:"Backpack"},{value:"belt",label:"Belt"}];function g1(o,r){const i=o.name.toLowerCase();return i.includes("left-hand")||i.includes("lefthand")||i.includes("left hand")?"left-hand":i.includes("right-hand")||i.includes("righthand")||i.includes("right hand")?"right-hand":r==="head"||i.includes("helmet")||i.includes("hat")||i.includes("crown helmet")?"head":r==="body"||i.includes("armor")||i.includes("armour")?"body":r==="legs"||i.includes(" legs")||i.includes(" leg")?"legs":r==="feet"||i.includes("boots")||i.includes("boot")||i.includes("shoes")?"feet":r==="backpack"||i.includes("backpack")||i.includes("cape")?"backpack":i.includes("belt")?"belt":i.includes("shield")||i.includes("orb")?"right-hand":i.includes("bow")||i.includes("crossbow")||i.includes("sword")||i.includes("axe")||i.includes("club")||i.includes("wand")?"left-hand":null}function Gd(o,r,i,a,c,d,h,m){return(((((r*o.patternZ+c)*o.patternY+a)*o.patternX+i)*o.layers+d)*o.height+m)*o.width+h}const Da=new Map;function x1(){Da.clear()}function Uf(o,r,i,a,c=2){const d=`${a}:${c}`,h=Da.get(d);if(h)return h;const m=o.things.get(a);if(!m)return null;const g=m.frameGroups[0];if(!g||g.sprites.length===0)return null;const w=g.width*32,b=g.height*32,x=document.createElement("canvas");x.width=w,x.height=b;const S=x.getContext("2d");S.clearRect(0,0,w,b);const _=Math.min(c,g.patternX-1),N=g.layers>=2,P={head:0,body:0,legs:0,feet:0};for(let z=0;z<g.height;z++)for(let U=0;U<g.width;U++){const V=Gd(g,0,_,0,0,0,U,z);if(V>=g.sprites.length)continue;const j=g.sprites[V];if(j<=0)continue;const se=i.get(j)??Fr(r,j);if(!se)continue;const O=new ImageData(new Uint8ClampedArray(se.data),32,32);if(N){const pe=Gd(g,0,_,0,0,1,U,z);if(pe<g.sprites.length){const Ce=g.sprites[pe];if(Ce>0){const Ee=i.get(Ce)??Fr(r,Ce);Ee&&nf(O,Ee,P)}}}const ge=(g.width-1-U)*32,be=(g.height-1-z)*32;S.putImageData(O,ge,be)}const W=x.toDataURL();return Da.set(d,W),W}function y1(o,r){return o.itemCount+r}function Ia({onSelect:o,onClose:r}){const i=G(_=>_.objectData),a=G(_=>_.spriteData),c=G(_=>_.spriteOverrides),d=G(_=>_.getCategoryRange),[h,m]=Y.useState(""),[g,w]=Y.useState(2),b=Y.useRef(null),x=d("outfit"),S=Y.useMemo(()=>{if(!i||!x)return[];const _=h.trim().toLowerCase(),N=[];for(let P=x.start;P<=x.end;P++){if(!i.things.get(P))continue;const z=rr(i,P);_&&!z.toString().includes(_)||N.push({id:P,displayId:z})}return N},[i,x,h]);return Y.useEffect(()=>{const _=N=>{b.current&&!b.current.contains(N.target)&&r()};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[r]),f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:f.jsxs("div",{ref:b,className:"bg-emperia-surface border border-emperia-border rounded-lg shadow-2xl w-[520px] max-h-[80vh] flex flex-col",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border-b border-emperia-border shrink-0",children:[f.jsx("h3",{className:"text-sm font-semibold text-emperia-text flex-1",children:"Select Outfit Sprite"}),f.jsx("div",{className:"flex items-center gap-1 text-[10px] text-emperia-muted",children:["N","E","S","W"].map((_,N)=>f.jsx("button",{onClick:()=>w(N),className:`px-1.5 py-0.5 rounded ${g===N?"bg-emperia-accent/30 text-emperia-accent":"hover:bg-emperia-hover"}`,children:_},_))}),f.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:f.jsx(Zd,{className:"w-4 h-4"})})]}),f.jsx("div",{className:"px-3 py-1.5 border-b border-emperia-border shrink-0",children:f.jsxs("div",{className:"relative",children:[f.jsx(Eo,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted"}),f.jsx("input",{type:"text",value:h,onChange:_=>m(_.target.value),placeholder:"Search outfit ID...",className:"w-full pl-7 pr-2 py-1 bg-emperia-bg border border-emperia-border rounded text-xs text-emperia-text",autoFocus:!0})]})}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[f.jsx("div",{className:"grid grid-cols-8 gap-1",children:S.map(({id:_,displayId:N})=>{if(!i||!a)return null;const P=Uf(i,a,c,_,g);return f.jsxs("button",{onClick:()=>o(N+1),className:"flex flex-col items-center gap-0.5 p-1 rounded hover:bg-emperia-hover border border-transparent hover:border-emperia-accent/40 transition-colors",title:`Outfit #${N+1}`,children:[f.jsx("div",{className:"w-10 h-10 checkerboard rounded flex items-center justify-center overflow-hidden",children:P?f.jsx("img",{src:P,alt:"",className:"pixelated max-w-full max-h-full",style:{imageRendering:"pixelated"},draggable:!1}):f.jsx("div",{className:"w-10 h-10 bg-emperia-bg/50 rounded"})}),f.jsx("span",{className:"text-[9px] text-emperia-muted",children:N+1})]},_)})}),S.length===0&&f.jsx("p",{className:"text-center text-emperia-muted text-xs py-8",children:"No outfits found."})]})]})})}function yo({outfitDisplayId:o,size:r=32,direction:i=2}){const a=G(w=>w.objectData),c=G(w=>w.spriteData),d=G(w=>w.spriteOverrides),h=G(w=>w.editVersion);if(Y.useEffect(()=>{x1()},[h]),!a||!c||o<=0)return f.jsx("div",{className:"checkerboard rounded border border-emperia-border/50 flex items-center justify-center text-emperia-muted/30 text-[9px]",style:{width:r,height:r},children:""});const m=y1(a,o),g=Uf(a,c,d,m,i);return f.jsx("div",{className:"checkerboard rounded border border-emperia-border/50 overflow-hidden flex items-center justify-center",style:{width:r,height:r},children:g?f.jsx("img",{src:g,alt:`outfit#${o}`,className:"pixelated max-w-full max-h-full",style:{imageRendering:"pixelated"},draggable:!1}):f.jsx("div",{className:"flex items-center justify-center text-emperia-muted/30 text-[9px]",style:{width:r,height:r},children:"?"})})}function v1({onAdd:o,onCancel:r}){const[i,a]=Y.useState(""),[c,d]=Y.useState(""),[h,m]=Y.useState(""),[g,w]=Y.useState(!1),b=()=>{const x=parseInt(c,10),S=parseInt(h,10);!i.trim()||isNaN(x)||isNaN(S)||o({name:i.trim(),id:x,sprite_id:S})};return f.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-emperia-accent/5 border-t border-emperia-border",children:[f.jsx("input",{type:"text",value:i,onChange:x=>a(x.target.value),placeholder:"Name (e.g. Left-Hand (katana))",className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-1 text-xs text-emperia-text min-w-0"}),f.jsx("input",{type:"number",value:c,onChange:x=>d(x.target.value),placeholder:"Item ID",className:"w-20 bg-emperia-bg border border-emperia-border rounded px-2 py-1 text-xs text-emperia-text"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("input",{type:"number",value:h,onChange:x=>m(x.target.value),placeholder:"Sprite ID",className:"w-20 bg-emperia-bg border border-emperia-border rounded px-2 py-1 text-xs text-emperia-text"}),f.jsx("button",{onClick:()=>w(!0),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-accent text-[10px] border border-emperia-border",title:"Pick from outfit sprites",children:"Pick"})]}),f.jsx("button",{onClick:b,className:"px-2 py-1 rounded bg-emperia-accent/20 text-emperia-accent text-xs font-medium hover:bg-emperia-accent/30",children:"Add"}),f.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted",children:f.jsx(Zd,{className:"w-3.5 h-3.5"})}),g&&f.jsx(Ia,{onSelect:x=>{m(x.toString()),w(!1)},onClose:()=>w(!1)})]})}function w1({entry:o,index:r,onUpdate:i,onRemove:a}){var W;const[c,d]=Y.useState(!1),[h,m]=Y.useState(!1),[g,w]=Y.useState(o.name),b=G(z=>z.itemDefinitions),S=G(z=>z.clientToServerIds).get(o.id),_=S!=null?b.get(S):void 0,N=(W=_==null?void 0:_.properties)==null?void 0:W.name,P=()=>{m(!1),g.trim()!==o.name&&i(r,{...o,name:g.trim()})};return f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 hover:bg-emperia-hover/50 group border-b border-emperia-border/30",children:[f.jsx(yo,{outfitDisplayId:o.sprite_id,size:28}),f.jsxs("div",{className:"flex-1 min-w-0",children:[h?f.jsx("input",{type:"text",value:g,onChange:z=>w(z.target.value),onBlur:P,onKeyDown:z=>{z.key==="Enter"&&P()},className:"w-full bg-emperia-bg border border-emperia-border rounded px-1.5 py-0.5 text-xs text-emperia-text",autoFocus:!0}):f.jsx("button",{onClick:()=>{m(!0),w(o.name)},className:"text-xs text-emperia-text truncate block text-left w-full hover:underline",title:o.name,children:o.name}),N&&f.jsx("span",{className:"text-[9px] text-emperia-muted/60 truncate block",children:N})]}),f.jsx("span",{className:"text-[10px] text-amber-400 font-mono w-12 text-right shrink-0",title:"Client Item ID",children:o.id}),f.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f.jsx("span",{className:"text-[10px] text-cyan-400 font-mono w-12 text-right",title:"Outfit Sprite ID",children:o.sprite_id}),f.jsx("button",{onClick:()=>d(!0),className:"px-1.5 py-0.5 rounded text-[10px] bg-emperia-accent/10 text-emperia-accent hover:bg-emperia-accent/20 opacity-0 group-hover:opacity-100 transition-opacity",children:"Change"})]}),f.jsx("button",{onClick:()=>a(r),className:"p-0.5 rounded text-red-400/40 hover:text-red-400 hover:bg-red-400/10 opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove entry",children:f.jsx(ko,{className:"w-3 h-3"})}),c&&f.jsx(Ia,{onSelect:z=>{i(r,{...o,sprite_id:z}),d(!1)},onClose:()=>d(!1)})]})}function k1({group:o,onUpdate:r,onRemove:i}){var b;const[a,c]=Y.useState(null),d=G(x=>x.itemDefinitions),m=G(x=>x.clientToServerIds).get(o.itemId),g=m!=null?d.get(m):void 0,w=(b=g==null?void 0:g.properties)==null?void 0:b.name;return f.jsxs("div",{className:"px-3 py-2 hover:bg-emperia-hover/50 border-b border-emperia-border/30 group",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[f.jsx("span",{className:"text-xs text-emperia-text font-medium truncate flex-1",children:o.baseName}),w&&f.jsx("span",{className:"text-[9px] text-emperia-muted/60",children:w}),f.jsx("span",{className:"text-[10px] text-amber-400 font-mono",title:"Item ID",children:o.itemId})]}),f.jsxs("div",{className:"flex items-center gap-4 pl-2",children:[f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[9px] text-emperia-muted w-8",children:"Left"}),o.leftEntry?f.jsxs(f.Fragment,{children:[f.jsx(yo,{outfitDisplayId:o.leftEntry.entry.sprite_id,size:28}),f.jsx("span",{className:"text-[10px] text-cyan-400 font-mono",children:o.leftEntry.entry.sprite_id}),f.jsx("button",{onClick:()=>c("left"),className:"px-1 py-0.5 rounded text-[9px] bg-emperia-accent/10 text-emperia-accent hover:bg-emperia-accent/20 opacity-0 group-hover:opacity-100 transition-opacity",children:"Change"}),f.jsx("button",{onClick:()=>i(o.leftEntry.index),className:"p-0.5 rounded text-red-400/40 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(ko,{className:"w-2.5 h-2.5"})})]}):f.jsx("button",{onClick:()=>c("left"),className:"text-[9px] text-emperia-muted/50 hover:text-emperia-accent underline",children:"Assign"})]}),f.jsx("div",{className:"w-px h-6 bg-emperia-border/40"}),f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[9px] text-emperia-muted w-8",children:"Right"}),o.rightEntry?f.jsxs(f.Fragment,{children:[f.jsx(yo,{outfitDisplayId:o.rightEntry.entry.sprite_id,size:28}),f.jsx("span",{className:"text-[10px] text-cyan-400 font-mono",children:o.rightEntry.entry.sprite_id}),f.jsx("button",{onClick:()=>c("right"),className:"px-1 py-0.5 rounded text-[9px] bg-emperia-accent/10 text-emperia-accent hover:bg-emperia-accent/20 opacity-0 group-hover:opacity-100 transition-opacity",children:"Change"}),f.jsx("button",{onClick:()=>i(o.rightEntry.index),className:"p-0.5 rounded text-red-400/40 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(ko,{className:"w-2.5 h-2.5"})})]}):f.jsx("button",{onClick:()=>c("right"),className:"text-[9px] text-emperia-muted/50 hover:text-emperia-accent underline",children:"Assign"})]})]}),o.otherEntries.map(({entry:x,index:S})=>f.jsxs("div",{className:"flex items-center gap-2 pl-2 mt-1",children:[f.jsx("span",{className:"text-[9px] text-emperia-muted w-8 truncate",children:x.name}),f.jsx(yo,{outfitDisplayId:x.sprite_id,size:24}),f.jsx("span",{className:"text-[10px] text-cyan-400 font-mono",children:x.sprite_id})]},S)),a&&f.jsx(Ia,{onSelect:x=>{const S=G.getState().addSpriteMapEntry,_=G.getState().updateSpriteMapEntry,N=a==="left"?"Left-Hand":"Right-Hand";a==="left"&&o.leftEntry?_(o.leftEntry.index,{...o.leftEntry.entry,sprite_id:x}):a==="right"&&o.rightEntry?_(o.rightEntry.index,{...o.rightEntry.entry,sprite_id:x}):S({name:`${N} (${o.baseName})`,id:o.itemId,sprite_id:x}),c(null)},onClose:()=>c(null)})]})}function S1(){const o=G(U=>U.spriteMapEntries),r=G(U=>U.spriteMapLoaded),i=G(U=>U.itemDefinitions),a=G(U=>U.clientToServerIds),c=G(U=>U.updateSpriteMapEntry),d=G(U=>U.addSpriteMapEntry),h=G(U=>U.removeSpriteMapEntry);G(U=>U.editVersion);const[m,g]=Y.useState("all"),[w,b]=Y.useState(""),[x,S]=Y.useState(!1),[_,N]=Y.useState("list"),P=Y.useCallback(U=>{var se;const V=a.get(U),j=V!=null?i.get(V):void 0;return(se=j==null?void 0:j.properties)==null?void 0:se.slotType},[a,i]),W=Y.useMemo(()=>{const U=w.trim().toLowerCase();return o.map((V,j)=>({entry:V,index:j})).filter(({entry:V})=>{if(m!=="all"&&g1(V,P(V.id))!==m)return!1;if(U){const j=V.name.toLowerCase().includes(U),se=V.id.toString().includes(U),O=V.sprite_id.toString().includes(U);if(!j&&!se&&!O)return!1}return!0})},[o,m,w,P]),z=Y.useMemo(()=>{if(_!=="weapons")return[];const U=new Map;for(const{entry:V,index:j}of W){const se=V.name.toLowerCase(),O=se.includes("left-hand")||se.includes("lefthand")||se.includes("left hand"),ge=se.includes("right-hand")||se.includes("righthand")||se.includes("right hand");if(!O&&!ge)continue;if(!U.has(V.id)){let pe=V.name.replace(/left-hand|lefthand|left hand|right-hand|righthand|right hand/gi,"").replace(/\(|\)/g,"").trim();pe||(pe=`Item ${V.id}`),U.set(V.id,{itemId:V.id,baseName:pe,leftEntry:null,rightEntry:null,otherEntries:[]})}const be=U.get(V.id);O&&!be.leftEntry?be.leftEntry={entry:V,index:j}:ge&&!be.rightEntry?be.rightEntry={entry:V,index:j}:be.otherEntries.push({entry:V,index:j})}return Array.from(U.values())},[W,_]);return r?f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 border-b border-emperia-border shrink-0",children:[f.jsxs("div",{className:"relative",children:[f.jsx("select",{value:m,onChange:U=>g(U.target.value),className:"appearance-none bg-emperia-bg border border-emperia-border rounded pl-2 pr-6 py-1 text-xs text-emperia-text cursor-pointer",children:m1.map(U=>f.jsx("option",{value:U.value,children:U.label},U.value))}),f.jsx(Yd,{className:"absolute right-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted pointer-events-none"})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx(Eo,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted"}),f.jsx("input",{type:"text",value:w,onChange:U=>b(U.target.value),placeholder:"Search by name, item ID, or sprite ID...",className:"w-full pl-7 pr-2 py-1 bg-emperia-bg border border-emperia-border rounded text-xs text-emperia-text"})]}),f.jsxs("div",{className:"flex items-center gap-0.5 border border-emperia-border rounded overflow-hidden",children:[f.jsx("button",{onClick:()=>N("list"),className:`px-2 py-1 text-[10px] ${_==="list"?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text"}`,children:"List"}),f.jsx("button",{onClick:()=>N("weapons"),className:`px-2 py-1 text-[10px] ${_==="weapons"?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text"}`,children:"Weapons"})]}),f.jsxs("button",{onClick:()=>S(!x),className:"flex items-center gap-1 px-2 py-1 rounded text-xs bg-emperia-accent/10 text-emperia-accent hover:bg-emperia-accent/20",children:[f.jsx(Fa,{className:"w-3 h-3"}),"Add"]}),f.jsxs("span",{className:"text-[10px] text-emperia-muted shrink-0",children:[W.length," / ",o.length]})]}),x&&f.jsx(v1,{onAdd:U=>{d(U),S(!1)},onCancel:()=>S(!1)}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:_==="list"?W.length===0?f.jsx("p",{className:"text-center text-emperia-muted text-xs py-8",children:"No entries match the current filter."}):W.map(({entry:U,index:V})=>f.jsx(w1,{entry:U,index:V,onUpdate:c,onRemove:h},`${V}-${U.id}-${U.sprite_id}`)):z.length===0?f.jsx("p",{className:"text-center text-emperia-muted text-xs py-8",children:"No weapon entries with left/right hand variants found."}):z.map(U=>f.jsx(k1,{group:U,onUpdate:c,onRemove:h},U.itemId))})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-emperia-muted text-sm p-8 gap-3",children:[f.jsx("p",{children:"No equipment sprite map loaded."}),f.jsxs("p",{className:"text-[10px] text-emperia-muted/50",children:["Drop an ",f.jsx("code",{className:"text-emperia-accent",children:"item-to-sprite.json"})," file or open a folder containing one."]})]})}const _1={texture:"Texture",properties:"Properties",attributes:"Attributes",server:"Server",equipment:"Equipment"};function b1(){const o=G(h=>h.selectedThingId),r=G(h=>h.objectData),i=G(h=>h.clientToServerIds);G(h=>h.editVersion);const a=o!=null?(r==null?void 0:r.things.get(o))??null:null;if(!a||!r)return null;const c=rr(r,a.id),d=i.get(a.id);return f.jsxs("div",{className:"flex items-center gap-3 text-[11px] font-mono",children:[f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-emperia-muted",children:"Client"}),f.jsx("span",{className:"text-cyan-400 font-semibold",children:c})]}),d!=null&&f.jsxs("span",{className:"flex items-center gap-1.5",children:[f.jsx("span",{className:"text-emperia-muted",children:"Server"}),f.jsx("span",{className:"text-amber-400 font-semibold",children:d})]}),f.jsx("span",{className:"text-emperia-muted/60 capitalize text-[10px]",children:a.category})]})}function C1(){const o=G(a=>a.loaded),[r,i]=Y.useState("texture");return o?f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsx(Qm,{}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"w-64 flex flex-col border-r border-emperia-border bg-emperia-bg",children:[f.jsx(r0,{}),f.jsx(i0,{})]}),f.jsxs("div",{className:"flex-1 flex flex-col bg-emperia-bg overflow-hidden",children:[f.jsxs("div",{className:"flex items-center border-b border-emperia-border shrink-0",children:[["texture","properties","attributes","server","equipment"].map(a=>f.jsx("button",{onClick:()=>i(a),className:`px-4 py-2 text-xs font-medium transition-colors
                  ${r===a?"text-emperia-accent border-b-2 border-emperia-accent":"text-emperia-muted hover:text-emperia-text"}
                `,children:_1[a]},a)),f.jsx("div",{className:"flex-1"}),f.jsx("div",{className:"pr-3",children:f.jsx(b1,{})})]}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="texture"&&f.jsx(Z0,{}),r==="properties"&&f.jsx(Ud,{}),r==="attributes"&&f.jsx(Ud,{showAttributesOnly:!0}),r==="server"&&f.jsx(p1,{}),r==="equipment"&&f.jsx(S1,{})]})]}),f.jsx("div",{className:"w-72 border-l border-emperia-border bg-emperia-bg overflow-hidden flex flex-col",children:f.jsx(J0,{})})]})]}):f.jsx(Hm,{})}Wp.createRoot(document.getElementById("root")).render(f.jsx(Yi.StrictMode,{children:f.jsx(C1,{})}));
