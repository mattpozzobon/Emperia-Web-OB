var cp=Object.defineProperty;var ed=a=>{throw TypeError(a)};var dp=(a,r,i)=>r in a?cp(a,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[r]=i;var L=(a,r,i)=>dp(a,typeof r!="symbol"?r+"":r,i),ta=(a,r,i)=>r.has(a)||ed("Cannot "+i);var x=(a,r,i)=>(ta(a,r,"read from private field"),i?i.call(a):r.get(a)),yr=(a,r,i)=>r.has(a)?ed("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(a):r.set(a,i),Kr=(a,r,i,l)=>(ta(a,r,"write to private field"),l?l.call(a,i):r.set(a,i),i),ne=(a,r,i)=>(ta(a,r,"access private method"),i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function bd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var na={exports:{}},Hi={},ra={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function fp(){if(td)return Le;td=1;var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,U={};function $(E,j,xe){this.props=E,this.context=j,this.refs=U,this.updater=xe||I}$.prototype.isReactComponent={},$.prototype.setState=function(E,j){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,j,"setState")},$.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function J(){}J.prototype=$.prototype;function Y(E,j,xe){this.props=E,this.context=j,this.refs=U,this.updater=xe||I}var se=Y.prototype=new J;se.constructor=Y,H(se,$.prototype),se.isPureReactComponent=!0;var q=Array.isArray,Q=Object.prototype.hasOwnProperty,N={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function V(E,j,xe){var ke,De={},ee=null,we=null;if(j!=null)for(ke in j.ref!==void 0&&(we=j.ref),j.key!==void 0&&(ee=""+j.key),j)Q.call(j,ke)&&!ae.hasOwnProperty(ke)&&(De[ke]=j[ke]);var Ne=arguments.length-2;if(Ne===1)De.children=xe;else if(1<Ne){for(var C=Array(Ne),tt=0;tt<Ne;tt++)C[tt]=arguments[tt+2];De.children=C}if(E&&E.defaultProps)for(ke in Ne=E.defaultProps,Ne)De[ke]===void 0&&(De[ke]=Ne[ke]);return{$$typeof:a,type:E,key:ee,ref:we,props:De,_owner:N.current}}function ye(E,j){return{$$typeof:a,type:E.type,key:j,ref:E.ref,props:E.props,_owner:E._owner}}function pe(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function fe(E){var j={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(xe){return j[xe]})}var Ee=/\/+/g;function be(E,j){return typeof E=="object"&&E!==null&&E.key!=null?fe(""+E.key):j.toString(36)}function P(E,j,xe,ke,De){var ee=typeof E;(ee==="undefined"||ee==="boolean")&&(E=null);var we=!1;if(E===null)we=!0;else switch(ee){case"string":case"number":we=!0;break;case"object":switch(E.$$typeof){case a:case r:we=!0}}if(we)return we=E,De=De(we),E=ke===""?"."+be(we,0):ke,q(De)?(xe="",E!=null&&(xe=E.replace(Ee,"$&/")+"/"),P(De,j,xe,"",function(tt){return tt})):De!=null&&(pe(De)&&(De=ye(De,xe+(!De.key||we&&we.key===De.key?"":(""+De.key).replace(Ee,"$&/")+"/")+E)),j.push(De)),1;if(we=0,ke=ke===""?".":ke+":",q(E))for(var Ne=0;Ne<E.length;Ne++){ee=E[Ne];var C=ke+be(ee,Ne);we+=P(ee,j,xe,C,De)}else if(C=A(E),typeof C=="function")for(E=C.call(E),Ne=0;!(ee=E.next()).done;)ee=ee.value,C=ke+be(ee,Ne++),we+=P(ee,j,xe,C,De);else if(ee==="object")throw j=String(E),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return we}function ve(E,j,xe){if(E==null)return E;var ke=[],De=0;return P(E,ke,"","",function(ee){return j.call(xe,ee,De++)}),ke}function Ae(E){if(E._status===-1){var j=E._result;j=j(),j.then(function(xe){(E._status===0||E._status===-1)&&(E._status=1,E._result=xe)},function(xe){(E._status===0||E._status===-1)&&(E._status=2,E._result=xe)}),E._status===-1&&(E._status=0,E._result=j)}if(E._status===1)return E._result.default;throw E._result}var ue={current:null},O={transition:null},ce={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function X(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:ve,forEach:function(E,j,xe){ve(E,function(){j.apply(this,arguments)},xe)},count:function(E){var j=0;return ve(E,function(){j++}),j},toArray:function(E){return ve(E,function(j){return j})||[]},only:function(E){if(!pe(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Le.Component=$,Le.Fragment=i,Le.Profiler=c,Le.PureComponent=Y,Le.StrictMode=l,Le.Suspense=p,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Le.act=X,Le.cloneElement=function(E,j,xe){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ke=H({},E.props),De=E.key,ee=E.ref,we=E._owner;if(j!=null){if(j.ref!==void 0&&(ee=j.ref,we=N.current),j.key!==void 0&&(De=""+j.key),E.type&&E.type.defaultProps)var Ne=E.type.defaultProps;for(C in j)Q.call(j,C)&&!ae.hasOwnProperty(C)&&(ke[C]=j[C]===void 0&&Ne!==void 0?Ne[C]:j[C])}var C=arguments.length-2;if(C===1)ke.children=xe;else if(1<C){Ne=Array(C);for(var tt=0;tt<C;tt++)Ne[tt]=arguments[tt+2];ke.children=Ne}return{$$typeof:a,type:E.type,key:De,ref:ee,props:ke,_owner:we}},Le.createContext=function(E){return E={$$typeof:m,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:d,_context:E},E.Consumer=E},Le.createElement=V,Le.createFactory=function(E){var j=V.bind(null,E);return j.type=E,j},Le.createRef=function(){return{current:null}},Le.forwardRef=function(E){return{$$typeof:g,render:E}},Le.isValidElement=pe,Le.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:Ae}},Le.memo=function(E,j){return{$$typeof:k,type:E,compare:j===void 0?null:j}},Le.startTransition=function(E){var j=O.transition;O.transition={};try{E()}finally{O.transition=j}},Le.unstable_act=X,Le.useCallback=function(E,j){return ue.current.useCallback(E,j)},Le.useContext=function(E){return ue.current.useContext(E)},Le.useDebugValue=function(){},Le.useDeferredValue=function(E){return ue.current.useDeferredValue(E)},Le.useEffect=function(E,j){return ue.current.useEffect(E,j)},Le.useId=function(){return ue.current.useId()},Le.useImperativeHandle=function(E,j,xe){return ue.current.useImperativeHandle(E,j,xe)},Le.useInsertionEffect=function(E,j){return ue.current.useInsertionEffect(E,j)},Le.useLayoutEffect=function(E,j){return ue.current.useLayoutEffect(E,j)},Le.useMemo=function(E,j){return ue.current.useMemo(E,j)},Le.useReducer=function(E,j,xe){return ue.current.useReducer(E,j,xe)},Le.useRef=function(E){return ue.current.useRef(E)},Le.useState=function(E){return ue.current.useState(E)},Le.useSyncExternalStore=function(E,j,xe){return ue.current.useSyncExternalStore(E,j,xe)},Le.useTransition=function(){return ue.current.useTransition()},Le.version="18.3.1",Le}var nd;function wa(){return nd||(nd=1,ra.exports=fp()),ra.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function hp(){if(rd)return Hi;rd=1;var a=wa(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function m(g,p,k){var w,y={},A=null,I=null;k!==void 0&&(A=""+k),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(I=p.ref);for(w in p)l.call(p,w)&&!d.hasOwnProperty(w)&&(y[w]=p[w]);if(g&&g.defaultProps)for(w in p=g.defaultProps,p)y[w]===void 0&&(y[w]=p[w]);return{$$typeof:r,type:g,key:A,ref:I,props:y,_owner:c.current}}return Hi.Fragment=i,Hi.jsx=m,Hi.jsxs=m,Hi}var id;function pp(){return id||(id=1,na.exports=hp()),na.exports}var f=pp(),te=wa();const Wi=bd(te);var no={},ia={exports:{}},Nt={},sa={exports:{}},oa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function mp(){return sd||(sd=1,(function(a){function r(O,ce){var X=O.length;O.push(ce);e:for(;0<X;){var E=X-1>>>1,j=O[E];if(0<c(j,ce))O[E]=ce,O[X]=j,X=E;else break e}}function i(O){return O.length===0?null:O[0]}function l(O){if(O.length===0)return null;var ce=O[0],X=O.pop();if(X!==ce){O[0]=X;e:for(var E=0,j=O.length,xe=j>>>1;E<xe;){var ke=2*(E+1)-1,De=O[ke],ee=ke+1,we=O[ee];if(0>c(De,X))ee<j&&0>c(we,De)?(O[E]=we,O[ee]=X,E=ee):(O[E]=De,O[ke]=X,E=ke);else if(ee<j&&0>c(we,X))O[E]=we,O[ee]=X,E=ee;else break e}}return ce}function c(O,ce){var X=O.sortIndex-ce.sortIndex;return X!==0?X:O.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;a.unstable_now=function(){return d.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var p=[],k=[],w=1,y=null,A=3,I=!1,H=!1,U=!1,$=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function se(O){for(var ce=i(k);ce!==null;){if(ce.callback===null)l(k);else if(ce.startTime<=O)l(k),ce.sortIndex=ce.expirationTime,r(p,ce);else break;ce=i(k)}}function q(O){if(U=!1,se(O),!H)if(i(p)!==null)H=!0,Ae(Q);else{var ce=i(k);ce!==null&&ue(q,ce.startTime-O)}}function Q(O,ce){H=!1,U&&(U=!1,J(V),V=-1),I=!0;var X=A;try{for(se(ce),y=i(p);y!==null&&(!(y.expirationTime>ce)||O&&!fe());){var E=y.callback;if(typeof E=="function"){y.callback=null,A=y.priorityLevel;var j=E(y.expirationTime<=ce);ce=a.unstable_now(),typeof j=="function"?y.callback=j:y===i(p)&&l(p),se(ce)}else l(p);y=i(p)}if(y!==null)var xe=!0;else{var ke=i(k);ke!==null&&ue(q,ke.startTime-ce),xe=!1}return xe}finally{y=null,A=X,I=!1}}var N=!1,ae=null,V=-1,ye=5,pe=-1;function fe(){return!(a.unstable_now()-pe<ye)}function Ee(){if(ae!==null){var O=a.unstable_now();pe=O;var ce=!0;try{ce=ae(!0,O)}finally{ce?be():(N=!1,ae=null)}}else N=!1}var be;if(typeof Y=="function")be=function(){Y(Ee)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ve=P.port2;P.port1.onmessage=Ee,be=function(){ve.postMessage(null)}}else be=function(){$(Ee,0)};function Ae(O){ae=O,N||(N=!0,be())}function ue(O,ce){V=$(function(){O(a.unstable_now())},ce)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_continueExecution=function(){H||I||(H=!0,Ae(Q))},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_getFirstCallbackNode=function(){return i(p)},a.unstable_next=function(O){switch(A){case 1:case 2:case 3:var ce=3;break;default:ce=A}var X=A;A=ce;try{return O()}finally{A=X}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(O,ce){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=A;A=O;try{return ce()}finally{A=X}},a.unstable_scheduleCallback=function(O,ce,X){var E=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?E+X:E):X=E,O){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=X+j,O={id:w++,callback:ce,priorityLevel:O,startTime:X,expirationTime:j,sortIndex:-1},X>E?(O.sortIndex=X,r(k,O),i(p)===null&&O===i(k)&&(U?(J(V),V=-1):U=!0,ue(q,X-E))):(O.sortIndex=j,r(p,O),H||I||(H=!0,Ae(Q))),O},a.unstable_shouldYield=fe,a.unstable_wrapCallback=function(O){var ce=A;return function(){var X=A;A=ce;try{return O.apply(this,arguments)}finally{A=X}}}})(oa)),oa}var od;function gp(){return od||(od=1,sa.exports=mp()),sa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ld;function xp(){if(ld)return Nt;ld=1;var a=wa(),r=gp();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function d(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},y={};function A(e){return p.call(y,e)?!0:p.call(w,e)?!1:k.test(e)?y[e]=!0:(w[e]=!0,!1)}function I(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function H(e,t,n,s){if(t===null||typeof t>"u"||I(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,n,s,o,u,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=h}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var J=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J,Y);$[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J,Y);$[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J,Y);$[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function se(e,t,n,s){var o=$.hasOwnProperty(t)?$[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(H(t,n,o,s)&&(n=null),s||o===null?A(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var q=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),N=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),fe=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),O=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,E;function j(e){if(E===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var xe=!1;function ke(e,t){if(!e||xe)return"";xe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var s=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){s=T}e.call(t.prototype)}else{try{throw Error()}catch(T){s=T}e()}}catch(T){if(T&&s&&typeof T.stack=="string"){for(var o=T.stack.split(`
`),u=s.stack.split(`
`),h=o.length-1,v=u.length-1;1<=h&&0<=v&&o[h]!==u[v];)v--;for(;1<=h&&0<=v;h--,v--)if(o[h]!==u[v]){if(h!==1||v!==1)do if(h--,v--,0>v||o[h]!==u[v]){var S=`
`+o[h].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=h&&0<=v);break}}}finally{xe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function De(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=ke(e.type,!1),e;case 11:return e=ke(e.type.render,!1),e;case 1:return e=ke(e.type,!0),e;default:return""}}function ee(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case N:return"Portal";case ye:return"Profiler";case V:return"StrictMode";case be:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case fe:return(e.displayName||"Context")+".Consumer";case pe:return(e._context.displayName||"Context")+".Provider";case Ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case Ae:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}function we(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tt(e){var t=C(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){s=""+h,u.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zt(e){e._valueTracker||(e._valueTracker=tt(e))}function fn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=C(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Jt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lt(e,t){var n=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function b(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ne(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ot(e,t){t=t.checked,t!=null&&se(e,"checked",t,!1)}function ti(e,t){ot(e,t);var n=Ne(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ri(e,t.type,n):t.hasOwnProperty("defaultValue")&&ri(e,t.type,Ne(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ni(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ri(e,t,n){(t!=="number"||Jt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gt=Array.isArray;function Tn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ne(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function R(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Se(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(gt(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ne(n)}}function Be(e,t){var n=Ne(t.value),s=Ne(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function He(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ue(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oe,_t=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oe=Oe||document.createElement("div"),Oe.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lt=["Webkit","ms","Moz","O"];Object.keys(Ze).forEach(function(e){lt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ze[t]=Ze[e]})});function xt(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ze.hasOwnProperty(e)&&Ze[e]?(""+t).trim():t+"px"}function Ht(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=xt(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var qt=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ct(e,t){if(t){if(qt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Gt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var en=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,Pn=null,Wt=null;function Ln(e){if(e=Ai(e)){if(typeof ii!="function")throw Error(i(280));var t=e.stateNode;t&&(t=xs(t),ii(e.stateNode,e.type,t))}}function si(e){Pn?Wt?Wt.push(e):Wt=[e]:Pn=e}function Cr(){if(Pn){var e=Pn,t=Wt;if(Wt=Pn=null,Ln(e),t)for(e=0;e<t.length;e++)Ln(t[e])}}function oi(e,t){return e(t)}function Er(){}var br=!1;function li(e,t,n){if(br)return e(t,n);br=!0;try{return oi(e,t,n)}finally{br=!1,(Pn!==null||Wt!==null)&&(Er(),Cr())}}function It(e,t){var n=e.stateNode;if(n===null)return null;var s=xs(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var ir=!1;if(g)try{var In={};Object.defineProperty(In,"passive",{get:function(){ir=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{ir=!1}function gf(e,t,n,s,o,u,h,v,S){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(G){this.onError(G)}}var ai=!1,Ki=null,Xi=!1,ko=null,xf={onError:function(e){ai=!0,Ki=e}};function yf(e,t,n,s,o,u,h,v,S){ai=!1,Ki=null,gf.apply(xf,arguments)}function vf(e,t,n,s,o,u,h,v,S){if(yf.apply(this,arguments),ai){if(ai){var T=Ki;ai=!1,Ki=null}else throw Error(i(198));Xi||(Xi=!0,ko=T)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _a(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ca(e){if(sr(e)!==e)throw Error(i(188))}function kf(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===n)return Ca(o),e;if(u===s)return Ca(o),t;u=u.sibling}throw Error(i(188))}if(n.return!==s.return)n=o,s=u;else{for(var h=!1,v=o.child;v;){if(v===n){h=!0,n=o,s=u;break}if(v===s){h=!0,s=o,n=u;break}v=v.sibling}if(!h){for(v=u.child;v;){if(v===n){h=!0,n=u,s=o;break}if(v===s){h=!0,s=u,n=o;break}v=v.sibling}if(!h)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function Ea(e){return e=kf(e),e!==null?ba(e):null}function ba(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ba(e);if(t!==null)return t;e=e.sibling}return null}var Aa=r.unstable_scheduleCallback,Da=r.unstable_cancelCallback,wf=r.unstable_shouldYield,Sf=r.unstable_requestPaint,nt=r.unstable_now,_f=r.unstable_getCurrentPriorityLevel,wo=r.unstable_ImmediatePriority,Fa=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,Cf=r.unstable_LowPriority,Ba=r.unstable_IdlePriority,Ji=null,hn=null;function Ef(e){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Ji,e,void 0,(e.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:Df,bf=Math.log,Af=Math.LN2;function Df(e){return e>>>=0,e===0?32:31-(bf(e)/Af|0)|0}var qi=64,es=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,u=e.pingedLanes,h=n&268435455;if(h!==0){var v=h&~o;v!==0?s=ui(v):(u&=h,u!==0&&(s=ui(u)))}else h=n&~o,h!==0?s=ui(h):u!==0&&(s=ui(u));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,u=t&-t,o>=u||o===16&&(u&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-tn(t),o=1<<n,s|=e[n],t&=~o;return s}function Ff(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var h=31-tn(u),v=1<<h,S=o[h];S===-1?((v&n)===0||(v&s)!==0)&&(o[h]=Ff(v,t)):S<=t&&(e.expiredLanes|=v),u&=~v}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ta(){var e=qi;return qi<<=1,(qi&4194240)===0&&(qi=64),e}function _o(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tn(t),e[t]=n}function Tf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-tn(n),u=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~u}}function Co(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-tn(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var ze=0;function Na(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Pa,Eo,La,Ia,ja,bo=!1,ns=[],jn=null,Mn=null,Rn=null,di=new Map,fi=new Map,On=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ma(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(t.pointerId)}}function hi(e,t,n,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ai(t),t!==null&&Eo(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Pf(e,t,n,s,o){switch(t){case"focusin":return jn=hi(jn,e,t,n,s,o),!0;case"dragenter":return Mn=hi(Mn,e,t,n,s,o),!0;case"mouseover":return Rn=hi(Rn,e,t,n,s,o),!0;case"pointerover":var u=o.pointerId;return di.set(u,hi(di.get(u)||null,e,t,n,s,o)),!0;case"gotpointercapture":return u=o.pointerId,fi.set(u,hi(fi.get(u)||null,e,t,n,s,o)),!0}return!1}function Ra(e){var t=or(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=_a(n),t!==null){e.blockedOn=t,ja(e.priority,function(){La(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Do(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);en=s,n.target.dispatchEvent(s),en=null}else return t=Ai(n),t!==null&&Eo(t),e.blockedOn=n,!1;t.shift()}return!0}function Oa(e,t,n){rs(e)&&n.delete(t)}function Lf(){bo=!1,jn!==null&&rs(jn)&&(jn=null),Mn!==null&&rs(Mn)&&(Mn=null),Rn!==null&&rs(Rn)&&(Rn=null),di.forEach(Oa),fi.forEach(Oa)}function pi(e,t){e.blockedOn===t&&(e.blockedOn=null,bo||(bo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lf)))}function mi(e){function t(o){return pi(o,e)}if(0<ns.length){pi(ns[0],e);for(var n=1;n<ns.length;n++){var s=ns[n];s.blockedOn===e&&(s.blockedOn=null)}}for(jn!==null&&pi(jn,e),Mn!==null&&pi(Mn,e),Rn!==null&&pi(Rn,e),di.forEach(t),fi.forEach(t),n=0;n<On.length;n++)s=On[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)Ra(n),n.blockedOn===null&&On.shift()}var Ar=q.ReactCurrentBatchConfig,is=!0;function If(e,t,n,s){var o=ze,u=Ar.transition;Ar.transition=null;try{ze=1,Ao(e,t,n,s)}finally{ze=o,Ar.transition=u}}function jf(e,t,n,s){var o=ze,u=Ar.transition;Ar.transition=null;try{ze=4,Ao(e,t,n,s)}finally{ze=o,Ar.transition=u}}function Ao(e,t,n,s){if(is){var o=Do(e,t,n,s);if(o===null)Vo(e,t,s,ss,n),Ma(e,s);else if(Pf(o,e,t,n,s))s.stopPropagation();else if(Ma(e,s),t&4&&-1<Nf.indexOf(e)){for(;o!==null;){var u=Ai(o);if(u!==null&&Pa(u),u=Do(e,t,n,s),u===null&&Vo(e,t,s,ss,n),u===o)break;o=u}o!==null&&s.stopPropagation()}else Vo(e,t,s,null,n)}}var ss=null;function Do(e,t,n,s){if(ss=null,e=Nn(s),e=or(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_a(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ss=e,null}function Ua(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_f()){case wo:return 1;case Fa:return 4;case Zi:case Cf:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var Un=null,Fo=null,os=null;function za(){if(os)return os;var e,t=Fo,n=t.length,s,o="value"in Un?Un.value:Un.textContent,u=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(s=1;s<=h&&t[n-s]===o[u-s];s++);return os=o.slice(e,1<s?1-s:void 0)}function ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function Ha(){return!1}function jt(e){function t(n,s,o,u,h){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=h,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?as:Ha,this.isPropagationStopped=Ha,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=jt(Dr),gi=X({},Dr,{view:0,detail:0}),Mf=jt(gi),To,No,xi,us=X({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xi&&(xi&&e.type==="mousemove"?(To=e.screenX-xi.screenX,No=e.screenY-xi.screenY):No=To=0,xi=e),To)},movementY:function(e){return"movementY"in e?e.movementY:No}}),Ga=jt(us),Rf=X({},us,{dataTransfer:0}),Of=jt(Rf),Uf=X({},gi,{relatedTarget:0}),Po=jt(Uf),zf=X({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=jt(zf),Gf=X({},Dr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wf=jt(Gf),Vf=X({},Dr,{data:0}),Wa=jt(Vf),$f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qf[e])?!!t[e]:!1}function Lo(){return Kf}var Xf=X({},gi,{key:function(e){if(e.key){var t=$f[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lo,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zf=jt(Xf),Jf=X({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Va=jt(Jf),qf=X({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lo}),eh=jt(qf),th=X({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nh=jt(th),rh=X({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ih=jt(rh),sh=[9,13,27,32],Io=g&&"CompositionEvent"in window,yi=null;g&&"documentMode"in document&&(yi=document.documentMode);var oh=g&&"TextEvent"in window&&!yi,$a=g&&(!Io||yi&&8<yi&&11>=yi),Ya=" ",Qa=!1;function Ka(e,t){switch(e){case"keyup":return sh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fr=!1;function lh(e,t){switch(e){case"compositionend":return Xa(t);case"keypress":return t.which!==32?null:(Qa=!0,Ya);case"textInput":return e=t.data,e===Ya&&Qa?null:e;default:return null}}function ah(e,t){if(Fr)return e==="compositionend"||!Io&&Ka(e,t)?(e=za(),os=Fo=Un=null,Fr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $a&&t.locale!=="ko"?null:t.data;default:return null}}var uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Za(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uh[e.type]:t==="textarea"}function Ja(e,t,n,s){si(s),t=ps(t,"onChange"),0<t.length&&(n=new Bo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var vi=null,ki=null;function ch(e){gu(e,0)}function cs(e){var t=Lr(e);if(fn(t))return e}function dh(e,t){if(e==="change")return t}var qa=!1;if(g){var jo;if(g){var Mo="oninput"in document;if(!Mo){var eu=document.createElement("div");eu.setAttribute("oninput","return;"),Mo=typeof eu.oninput=="function"}jo=Mo}else jo=!1;qa=jo&&(!document.documentMode||9<document.documentMode)}function tu(){vi&&(vi.detachEvent("onpropertychange",nu),ki=vi=null)}function nu(e){if(e.propertyName==="value"&&cs(ki)){var t=[];Ja(t,ki,e,Nn(e)),li(ch,t)}}function fh(e,t,n){e==="focusin"?(tu(),vi=t,ki=n,vi.attachEvent("onpropertychange",nu)):e==="focusout"&&tu()}function hh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(ki)}function ph(e,t){if(e==="click")return cs(t)}function mh(e,t){if(e==="input"||e==="change")return cs(t)}function gh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nn=typeof Object.is=="function"?Object.is:gh;function wi(e,t){if(nn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!p.call(t,o)||!nn(e[o],t[o]))return!1}return!0}function ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iu(e,t){var n=ru(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ru(n)}}function su(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?su(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ou(){for(var e=window,t=Jt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jt(e.document)}return t}function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xh(e){var t=ou(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&su(n.ownerDocument.documentElement,n)){if(s!==null&&Ro(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,u=Math.min(s.start,o);s=s.end===void 0?u:Math.min(s.end,o),!e.extend&&u>s&&(o=s,s=u,u=o),o=iu(n,u);var h=iu(n,s);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),u>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yh=g&&"documentMode"in document&&11>=document.documentMode,Br=null,Oo=null,Si=null,Uo=!1;function lu(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uo||Br==null||Br!==Jt(s)||(s=Br,"selectionStart"in s&&Ro(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Si&&wi(Si,s)||(Si=s,s=ps(Oo,"onSelect"),0<s.length&&(t=new Bo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Br)))}function ds(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tr={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},zo={},au={};g&&(au=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function fs(e){if(zo[e])return zo[e];if(!Tr[e])return e;var t=Tr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in au)return zo[e]=t[n];return e}var uu=fs("animationend"),cu=fs("animationiteration"),du=fs("animationstart"),fu=fs("transitionend"),hu=new Map,pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){hu.set(e,t),d(t,[e])}for(var Ho=0;Ho<pu.length;Ho++){var Go=pu[Ho],vh=Go.toLowerCase(),kh=Go[0].toUpperCase()+Go.slice(1);zn(vh,"on"+kh)}zn(uu,"onAnimationEnd"),zn(cu,"onAnimationIteration"),zn(du,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(fu,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wh=new Set("cancel close invalid load scroll toggle".split(" ").concat(_i));function mu(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,vf(s,t,void 0,e),e.currentTarget=null}function gu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var h=s.length-1;0<=h;h--){var v=s[h],S=v.instance,T=v.currentTarget;if(v=v.listener,S!==u&&o.isPropagationStopped())break e;mu(o,v,T),u=S}else for(h=0;h<s.length;h++){if(v=s[h],S=v.instance,T=v.currentTarget,v=v.listener,S!==u&&o.isPropagationStopped())break e;mu(o,v,T),u=S}}}if(Xi)throw e=ko,Xi=!1,ko=null,e}function Ye(e,t){var n=t[Zo];n===void 0&&(n=t[Zo]=new Set);var s=e+"__bubble";n.has(s)||(xu(t,e,2,!1),n.add(s))}function Wo(e,t,n){var s=0;t&&(s|=4),xu(n,e,s,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Ci(e){if(!e[hs]){e[hs]=!0,l.forEach(function(n){n!=="selectionchange"&&(wh.has(n)||Wo(n,!1,e),Wo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Wo("selectionchange",!1,t))}}function xu(e,t,n,s){switch(Ua(t)){case 1:var o=If;break;case 4:o=jf;break;default:o=Ao}n=o.bind(null,t,n,e),o=void 0,!ir||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vo(e,t,n,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var v=s.stateNode.containerInfo;if(v===o||v.nodeType===8&&v.parentNode===o)break;if(h===4)for(h=s.return;h!==null;){var S=h.tag;if((S===3||S===4)&&(S=h.stateNode.containerInfo,S===o||S.nodeType===8&&S.parentNode===o))return;h=h.return}for(;v!==null;){if(h=or(v),h===null)return;if(S=h.tag,S===5||S===6){s=u=h;continue e}v=v.parentNode}}s=s.return}li(function(){var T=u,G=Nn(n),W=[];e:{var z=hu.get(e);if(z!==void 0){var ie=Bo,de=e;switch(e){case"keypress":if(ls(n)===0)break e;case"keydown":case"keyup":ie=Zf;break;case"focusin":de="focus",ie=Po;break;case"focusout":de="blur",ie=Po;break;case"beforeblur":case"afterblur":ie=Po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Ga;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=eh;break;case uu:case cu:case du:ie=Hf;break;case fu:ie=nh;break;case"scroll":ie=Mf;break;case"wheel":ie=ih;break;case"copy":case"cut":case"paste":ie=Wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Va}var he=(t&4)!==0,rt=!he&&e==="scroll",D=he?z!==null?z+"Capture":null:z;he=[];for(var _=T,B;_!==null;){B=_;var K=B.stateNode;if(B.tag===5&&K!==null&&(B=K,D!==null&&(K=It(_,D),K!=null&&he.push(Ei(_,K,B)))),rt)break;_=_.return}0<he.length&&(z=new ie(z,de,null,n,G),W.push({event:z,listeners:he}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",z&&n!==en&&(de=n.relatedTarget||n.fromElement)&&(or(de)||de[wn]))break e;if((ie||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,ie?(de=n.relatedTarget||n.toElement,ie=T,de=de?or(de):null,de!==null&&(rt=sr(de),de!==rt||de.tag!==5&&de.tag!==6)&&(de=null)):(ie=null,de=T),ie!==de)){if(he=Ga,K="onMouseLeave",D="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(he=Va,K="onPointerLeave",D="onPointerEnter",_="pointer"),rt=ie==null?z:Lr(ie),B=de==null?z:Lr(de),z=new he(K,_+"leave",ie,n,G),z.target=rt,z.relatedTarget=B,K=null,or(G)===T&&(he=new he(D,_+"enter",de,n,G),he.target=B,he.relatedTarget=rt,K=he),rt=K,ie&&de)t:{for(he=ie,D=de,_=0,B=he;B;B=Nr(B))_++;for(B=0,K=D;K;K=Nr(K))B++;for(;0<_-B;)he=Nr(he),_--;for(;0<B-_;)D=Nr(D),B--;for(;_--;){if(he===D||D!==null&&he===D.alternate)break t;he=Nr(he),D=Nr(D)}he=null}else he=null;ie!==null&&yu(W,z,ie,he,!1),de!==null&&rt!==null&&yu(W,rt,de,he,!0)}}e:{if(z=T?Lr(T):window,ie=z.nodeName&&z.nodeName.toLowerCase(),ie==="select"||ie==="input"&&z.type==="file")var ge=dh;else if(Za(z))if(qa)ge=mh;else{ge=hh;var _e=fh}else(ie=z.nodeName)&&ie.toLowerCase()==="input"&&(z.type==="checkbox"||z.type==="radio")&&(ge=ph);if(ge&&(ge=ge(e,T))){Ja(W,ge,n,G);break e}_e&&_e(e,z,T),e==="focusout"&&(_e=z._wrapperState)&&_e.controlled&&z.type==="number"&&ri(z,"number",z.value)}switch(_e=T?Lr(T):window,e){case"focusin":(Za(_e)||_e.contentEditable==="true")&&(Br=_e,Oo=T,Si=null);break;case"focusout":Si=Oo=Br=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,lu(W,n,G);break;case"selectionchange":if(yh)break;case"keydown":case"keyup":lu(W,n,G)}var Ce;if(Io)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Fr?Ka(e,n)&&(Fe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Fe="onCompositionStart");Fe&&($a&&n.locale!=="ko"&&(Fr||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Fr&&(Ce=za()):(Un=G,Fo="value"in Un?Un.value:Un.textContent,Fr=!0)),_e=ps(T,Fe),0<_e.length&&(Fe=new Wa(Fe,e,null,n,G),W.push({event:Fe,listeners:_e}),Ce?Fe.data=Ce:(Ce=Xa(n),Ce!==null&&(Fe.data=Ce)))),(Ce=oh?lh(e,n):ah(e,n))&&(T=ps(T,"onBeforeInput"),0<T.length&&(G=new Wa("onBeforeInput","beforeinput",null,n,G),W.push({event:G,listeners:T}),G.data=Ce))}gu(W,t)})}function Ei(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ps(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;o.tag===5&&u!==null&&(o=u,u=It(e,n),u!=null&&s.unshift(Ei(e,u,o)),u=It(e,t),u!=null&&s.push(Ei(e,u,o))),e=e.return}return s}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yu(e,t,n,s,o){for(var u=t._reactName,h=[];n!==null&&n!==s;){var v=n,S=v.alternate,T=v.stateNode;if(S!==null&&S===s)break;v.tag===5&&T!==null&&(v=T,o?(S=It(n,u),S!=null&&h.unshift(Ei(n,S,v))):o||(S=It(n,u),S!=null&&h.push(Ei(n,S,v)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Sh=/\r\n?/g,_h=/\u0000|\uFFFD/g;function vu(e){return(typeof e=="string"?e:""+e).replace(Sh,`
`).replace(_h,"")}function ms(e,t,n){if(t=vu(t),vu(e)!==t&&n)throw Error(i(425))}function gs(){}var $o=null,Yo=null;function Qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,Ch=typeof clearTimeout=="function"?clearTimeout:void 0,ku=typeof Promise=="function"?Promise:void 0,Eh=typeof queueMicrotask=="function"?queueMicrotask:typeof ku<"u"?function(e){return ku.resolve(null).then(e).catch(bh)}:Ko;function bh(e){setTimeout(function(){throw e})}function Xo(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),mi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);mi(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),pn="__reactFiber$"+Pr,bi="__reactProps$"+Pr,wn="__reactContainer$"+Pr,Zo="__reactEvents$"+Pr,Ah="__reactListeners$"+Pr,Dh="__reactHandles$"+Pr;function or(e){var t=e[pn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wn]||n[pn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wu(e);e!==null;){if(n=e[pn])return n;e=wu(e)}return t}e=n,n=e.parentNode}return null}function Ai(e){return e=e[pn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function xs(e){return e[bi]||null}var Jo=[],Ir=-1;function Gn(e){return{current:e}}function Qe(e){0>Ir||(e.current=Jo[Ir],Jo[Ir]=null,Ir--)}function Ve(e,t){Ir++,Jo[Ir]=e.current,e.current=t}var Wn={},yt=Gn(Wn),At=Gn(!1),lr=Wn;function jr(e,t){var n=e.type.contextTypes;if(!n)return Wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},u;for(u in n)o[u]=t[u];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dt(e){return e=e.childContextTypes,e!=null}function ys(){Qe(At),Qe(yt)}function Su(e,t,n){if(yt.current!==Wn)throw Error(i(168));Ve(yt,t),Ve(At,n)}function _u(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(i(108,we(e)||"Unknown",o));return X({},n,s)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,lr=yt.current,Ve(yt,e),Ve(At,At.current),!0}function Cu(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=_u(e,t,lr),s.__reactInternalMemoizedMergedChildContext=e,Qe(At),Qe(yt),Ve(yt,e)):Qe(At),Ve(At,n)}var Sn=null,ks=!1,qo=!1;function Eu(e){Sn===null?Sn=[e]:Sn.push(e)}function Fh(e){ks=!0,Eu(e)}function Vn(){if(!qo&&Sn!==null){qo=!0;var e=0,t=ze;try{var n=Sn;for(ze=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Sn=null,ks=!1}catch(o){throw Sn!==null&&(Sn=Sn.slice(e+1)),Aa(wo,Vn),o}finally{ze=t,qo=!1}}return null}var Mr=[],Rr=0,ws=null,Ss=0,Vt=[],$t=0,ar=null,_n=1,Cn="";function ur(e,t){Mr[Rr++]=Ss,Mr[Rr++]=ws,ws=e,Ss=t}function bu(e,t,n){Vt[$t++]=_n,Vt[$t++]=Cn,Vt[$t++]=ar,ar=e;var s=_n;e=Cn;var o=32-tn(s)-1;s&=~(1<<o),n+=1;var u=32-tn(t)+o;if(30<u){var h=o-o%5;u=(s&(1<<h)-1).toString(32),s>>=h,o-=h,_n=1<<32-tn(t)+o|n<<o|s,Cn=u+e}else _n=1<<u|n<<o|s,Cn=e}function el(e){e.return!==null&&(ur(e,1),bu(e,1,0))}function tl(e){for(;e===ws;)ws=Mr[--Rr],Mr[Rr]=null,Ss=Mr[--Rr],Mr[Rr]=null;for(;e===ar;)ar=Vt[--$t],Vt[$t]=null,Cn=Vt[--$t],Vt[$t]=null,_n=Vt[--$t],Vt[$t]=null}var Mt=null,Rt=null,Xe=!1,rn=null;function Au(e,t){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Du(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Rt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ar!==null?{id:_n,overflow:Cn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Rt=null,!0):!1;default:return!1}}function nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rl(e){if(Xe){var t=Rt;if(t){var n=t;if(!Du(e,t)){if(nl(e))throw Error(i(418));t=Hn(n.nextSibling);var s=Mt;t&&Du(e,t)?Au(s,n):(e.flags=e.flags&-4097|2,Xe=!1,Mt=e)}}else{if(nl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Xe=!1,Mt=e}}}function Fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function _s(e){if(e!==Mt)return!1;if(!Xe)return Fu(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qo(e.type,e.memoizedProps)),t&&(t=Rt)){if(nl(e))throw Bu(),Error(i(418));for(;t;)Au(e,t),t=Hn(t.nextSibling)}if(Fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Rt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Mt?Hn(e.stateNode.nextSibling):null;return!0}function Bu(){for(var e=Rt;e;)e=Hn(e.nextSibling)}function Or(){Rt=Mt=null,Xe=!1}function il(e){rn===null?rn=[e]:rn.push(e)}var Bh=q.ReactCurrentBatchConfig;function Di(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var o=s,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(h){var v=o.refs;h===null?delete v[u]:v[u]=h},t._stringRef=u,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tu(e){var t=e._init;return t(e._payload)}function Nu(e){function t(D,_){if(e){var B=D.deletions;B===null?(D.deletions=[_],D.flags|=16):B.push(_)}}function n(D,_){if(!e)return null;for(;_!==null;)t(D,_),_=_.sibling;return null}function s(D,_){for(D=new Map;_!==null;)_.key!==null?D.set(_.key,_):D.set(_.index,_),_=_.sibling;return D}function o(D,_){return D=qn(D,_),D.index=0,D.sibling=null,D}function u(D,_,B){return D.index=B,e?(B=D.alternate,B!==null?(B=B.index,B<_?(D.flags|=2,_):B):(D.flags|=2,_)):(D.flags|=1048576,_)}function h(D){return e&&D.alternate===null&&(D.flags|=2),D}function v(D,_,B,K){return _===null||_.tag!==6?(_=Kl(B,D.mode,K),_.return=D,_):(_=o(_,B),_.return=D,_)}function S(D,_,B,K){var ge=B.type;return ge===ae?G(D,_,B.props.children,K,B.key):_!==null&&(_.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ae&&Tu(ge)===_.type)?(K=o(_,B.props),K.ref=Di(D,_,B),K.return=D,K):(K=Qs(B.type,B.key,B.props,null,D.mode,K),K.ref=Di(D,_,B),K.return=D,K)}function T(D,_,B,K){return _===null||_.tag!==4||_.stateNode.containerInfo!==B.containerInfo||_.stateNode.implementation!==B.implementation?(_=Xl(B,D.mode,K),_.return=D,_):(_=o(_,B.children||[]),_.return=D,_)}function G(D,_,B,K,ge){return _===null||_.tag!==7?(_=xr(B,D.mode,K,ge),_.return=D,_):(_=o(_,B),_.return=D,_)}function W(D,_,B){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Kl(""+_,D.mode,B),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Q:return B=Qs(_.type,_.key,_.props,null,D.mode,B),B.ref=Di(D,null,_),B.return=D,B;case N:return _=Xl(_,D.mode,B),_.return=D,_;case Ae:var K=_._init;return W(D,K(_._payload),B)}if(gt(_)||ce(_))return _=xr(_,D.mode,B,null),_.return=D,_;Cs(D,_)}return null}function z(D,_,B,K){var ge=_!==null?_.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ge!==null?null:v(D,_,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:return B.key===ge?S(D,_,B,K):null;case N:return B.key===ge?T(D,_,B,K):null;case Ae:return ge=B._init,z(D,_,ge(B._payload),K)}if(gt(B)||ce(B))return ge!==null?null:G(D,_,B,K,null);Cs(D,B)}return null}function ie(D,_,B,K,ge){if(typeof K=="string"&&K!==""||typeof K=="number")return D=D.get(B)||null,v(_,D,""+K,ge);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return D=D.get(K.key===null?B:K.key)||null,S(_,D,K,ge);case N:return D=D.get(K.key===null?B:K.key)||null,T(_,D,K,ge);case Ae:var _e=K._init;return ie(D,_,B,_e(K._payload),ge)}if(gt(K)||ce(K))return D=D.get(B)||null,G(_,D,K,ge,null);Cs(_,K)}return null}function de(D,_,B,K){for(var ge=null,_e=null,Ce=_,Fe=_=0,ht=null;Ce!==null&&Fe<B.length;Fe++){Ce.index>Fe?(ht=Ce,Ce=null):ht=Ce.sibling;var Re=z(D,Ce,B[Fe],K);if(Re===null){Ce===null&&(Ce=ht);break}e&&Ce&&Re.alternate===null&&t(D,Ce),_=u(Re,_,Fe),_e===null?ge=Re:_e.sibling=Re,_e=Re,Ce=ht}if(Fe===B.length)return n(D,Ce),Xe&&ur(D,Fe),ge;if(Ce===null){for(;Fe<B.length;Fe++)Ce=W(D,B[Fe],K),Ce!==null&&(_=u(Ce,_,Fe),_e===null?ge=Ce:_e.sibling=Ce,_e=Ce);return Xe&&ur(D,Fe),ge}for(Ce=s(D,Ce);Fe<B.length;Fe++)ht=ie(Ce,D,Fe,B[Fe],K),ht!==null&&(e&&ht.alternate!==null&&Ce.delete(ht.key===null?Fe:ht.key),_=u(ht,_,Fe),_e===null?ge=ht:_e.sibling=ht,_e=ht);return e&&Ce.forEach(function(er){return t(D,er)}),Xe&&ur(D,Fe),ge}function he(D,_,B,K){var ge=ce(B);if(typeof ge!="function")throw Error(i(150));if(B=ge.call(B),B==null)throw Error(i(151));for(var _e=ge=null,Ce=_,Fe=_=0,ht=null,Re=B.next();Ce!==null&&!Re.done;Fe++,Re=B.next()){Ce.index>Fe?(ht=Ce,Ce=null):ht=Ce.sibling;var er=z(D,Ce,Re.value,K);if(er===null){Ce===null&&(Ce=ht);break}e&&Ce&&er.alternate===null&&t(D,Ce),_=u(er,_,Fe),_e===null?ge=er:_e.sibling=er,_e=er,Ce=ht}if(Re.done)return n(D,Ce),Xe&&ur(D,Fe),ge;if(Ce===null){for(;!Re.done;Fe++,Re=B.next())Re=W(D,Re.value,K),Re!==null&&(_=u(Re,_,Fe),_e===null?ge=Re:_e.sibling=Re,_e=Re);return Xe&&ur(D,Fe),ge}for(Ce=s(D,Ce);!Re.done;Fe++,Re=B.next())Re=ie(Ce,D,Fe,Re.value,K),Re!==null&&(e&&Re.alternate!==null&&Ce.delete(Re.key===null?Fe:Re.key),_=u(Re,_,Fe),_e===null?ge=Re:_e.sibling=Re,_e=Re);return e&&Ce.forEach(function(up){return t(D,up)}),Xe&&ur(D,Fe),ge}function rt(D,_,B,K){if(typeof B=="object"&&B!==null&&B.type===ae&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Q:e:{for(var ge=B.key,_e=_;_e!==null;){if(_e.key===ge){if(ge=B.type,ge===ae){if(_e.tag===7){n(D,_e.sibling),_=o(_e,B.props.children),_.return=D,D=_;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Ae&&Tu(ge)===_e.type){n(D,_e.sibling),_=o(_e,B.props),_.ref=Di(D,_e,B),_.return=D,D=_;break e}n(D,_e);break}else t(D,_e);_e=_e.sibling}B.type===ae?(_=xr(B.props.children,D.mode,K,B.key),_.return=D,D=_):(K=Qs(B.type,B.key,B.props,null,D.mode,K),K.ref=Di(D,_,B),K.return=D,D=K)}return h(D);case N:e:{for(_e=B.key;_!==null;){if(_.key===_e)if(_.tag===4&&_.stateNode.containerInfo===B.containerInfo&&_.stateNode.implementation===B.implementation){n(D,_.sibling),_=o(_,B.children||[]),_.return=D,D=_;break e}else{n(D,_);break}else t(D,_);_=_.sibling}_=Xl(B,D.mode,K),_.return=D,D=_}return h(D);case Ae:return _e=B._init,rt(D,_,_e(B._payload),K)}if(gt(B))return de(D,_,B,K);if(ce(B))return he(D,_,B,K);Cs(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,_!==null&&_.tag===6?(n(D,_.sibling),_=o(_,B),_.return=D,D=_):(n(D,_),_=Kl(B,D.mode,K),_.return=D,D=_),h(D)):n(D,_)}return rt}var Ur=Nu(!0),Pu=Nu(!1),Es=Gn(null),bs=null,zr=null,sl=null;function ol(){sl=zr=bs=null}function ll(e){var t=Es.current;Qe(Es),e._currentValue=t}function al(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Hr(e,t){bs=e,sl=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ft=!0),e.firstContext=null)}function Yt(e){var t=e._currentValue;if(sl!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(bs===null)throw Error(i(308));zr=e,bs.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var cr=null;function ul(e){cr===null?cr=[e]:cr.push(e)}function Lu(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,ul(t)):(n.next=o.next,o.next=n),t.interleaved=n,En(e,s)}function En(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var $n=!1;function cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,En(e,n)}return o=s.interleaved,o===null?(t.next=t,ul(s)):(t.next=o.next,o.next=t),s.interleaved=t,En(e,n)}function As(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Co(e,n)}}function ju(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?o=u=h:u=u.next=h,n=n.next}while(n!==null);u===null?o=u=t:u=u.next=t}else o=u=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ds(e,t,n,s){var o=e.updateQueue;$n=!1;var u=o.firstBaseUpdate,h=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var S=v,T=S.next;S.next=null,h===null?u=T:h.next=T,h=S;var G=e.alternate;G!==null&&(G=G.updateQueue,v=G.lastBaseUpdate,v!==h&&(v===null?G.firstBaseUpdate=T:v.next=T,G.lastBaseUpdate=S))}if(u!==null){var W=o.baseState;h=0,G=T=S=null,v=u;do{var z=v.lane,ie=v.eventTime;if((s&z)===z){G!==null&&(G=G.next={eventTime:ie,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var de=e,he=v;switch(z=t,ie=n,he.tag){case 1:if(de=he.payload,typeof de=="function"){W=de.call(ie,W,z);break e}W=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,z=typeof de=="function"?de.call(ie,W,z):de,z==null)break e;W=X({},W,z);break e;case 2:$n=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,z=o.effects,z===null?o.effects=[v]:z.push(v))}else ie={eventTime:ie,lane:z,tag:v.tag,payload:v.payload,callback:v.callback,next:null},G===null?(T=G=ie,S=W):G=G.next=ie,h|=z;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;z=v,v=z.next,z.next=null,o.lastBaseUpdate=z,o.shared.pending=null}}while(!0);if(G===null&&(S=W),o.baseState=S,o.firstBaseUpdate=T,o.lastBaseUpdate=G,t=o.shared.interleaved,t!==null){o=t;do h|=o.lane,o=o.next;while(o!==t)}else u===null&&(o.shared.lanes=0);hr|=h,e.lanes=h,e.memoizedState=W}}function Mu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(i(191,o));o.call(s)}}}var Fi={},mn=Gn(Fi),Bi=Gn(Fi),Ti=Gn(Fi);function dr(e){if(e===Fi)throw Error(i(174));return e}function dl(e,t){switch(Ve(Ti,t),Ve(Bi,e),Ve(mn,Fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ge(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ge(t,e)}Qe(mn),Ve(mn,t)}function Gr(){Qe(mn),Qe(Bi),Qe(Ti)}function Ru(e){dr(Ti.current);var t=dr(mn.current),n=Ge(t,e.type);t!==n&&(Ve(Bi,e),Ve(mn,n))}function fl(e){Bi.current===e&&(Qe(mn),Qe(Bi))}var Je=Gn(0);function Fs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hl=[];function pl(){for(var e=0;e<hl.length;e++)hl[e]._workInProgressVersionPrimary=null;hl.length=0}var Bs=q.ReactCurrentDispatcher,ml=q.ReactCurrentBatchConfig,fr=0,qe=null,at=null,dt=null,Ts=!1,Ni=!1,Pi=0,Th=0;function vt(){throw Error(i(321))}function gl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nn(e[n],t[n]))return!1;return!0}function xl(e,t,n,s,o,u){if(fr=u,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bs.current=e===null||e.memoizedState===null?Ih:jh,e=n(s,o),Ni){u=0;do{if(Ni=!1,Pi=0,25<=u)throw Error(i(301));u+=1,dt=at=null,t.updateQueue=null,Bs.current=Mh,e=n(s,o)}while(Ni)}if(Bs.current=Ls,t=at!==null&&at.next!==null,fr=0,dt=at=qe=null,Ts=!1,t)throw Error(i(300));return e}function yl(){var e=Pi!==0;return Pi=0,e}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?qe.memoizedState=dt=e:dt=dt.next=e,dt}function Qt(){if(at===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var t=dt===null?qe.memoizedState:dt.next;if(t!==null)dt=t,at=e;else{if(e===null)throw Error(i(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?qe.memoizedState=dt=e:dt=dt.next=e}return dt}function Li(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=at,o=s.baseQueue,u=n.pending;if(u!==null){if(o!==null){var h=o.next;o.next=u.next,u.next=h}s.baseQueue=o=u,n.pending=null}if(o!==null){u=o.next,s=s.baseState;var v=h=null,S=null,T=u;do{var G=T.lane;if((fr&G)===G)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),s=T.hasEagerState?T.eagerState:e(s,T.action);else{var W={lane:G,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(v=S=W,h=s):S=S.next=W,qe.lanes|=G,hr|=G}T=T.next}while(T!==null&&T!==u);S===null?h=s:S.next=v,nn(s,t.memoizedState)||(Ft=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=S,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do u=o.lane,qe.lanes|=u,hr|=u,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kl(e){var t=Qt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,u=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do u=e(u,h.action),h=h.next;while(h!==o);nn(u,t.memoizedState)||(Ft=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function Ou(){}function Uu(e,t){var n=qe,s=Qt(),o=t(),u=!nn(s.memoizedState,o);if(u&&(s.memoizedState=o,Ft=!0),s=s.queue,wl(Gu.bind(null,n,s,e),[e]),s.getSnapshot!==t||u||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Ii(9,Hu.bind(null,n,s,o,t),void 0,null),ft===null)throw Error(i(349));(fr&30)!==0||zu(n,t,o)}return o}function zu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hu(e,t,n,s){t.value=n,t.getSnapshot=s,Wu(t)&&Vu(e)}function Gu(e,t,n){return n(function(){Wu(t)&&Vu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nn(e,n)}catch{return!0}}function Vu(e){var t=En(e,1);t!==null&&an(t,e,1,-1)}function $u(e){var t=gn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=Lh.bind(null,qe,e),[t.memoizedState,e]}function Ii(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Yu(){return Qt().memoizedState}function Ns(e,t,n,s){var o=gn();qe.flags|=e,o.memoizedState=Ii(1|t,n,void 0,s===void 0?null:s)}function Ps(e,t,n,s){var o=Qt();s=s===void 0?null:s;var u=void 0;if(at!==null){var h=at.memoizedState;if(u=h.destroy,s!==null&&gl(s,h.deps)){o.memoizedState=Ii(t,n,u,s);return}}qe.flags|=e,o.memoizedState=Ii(1|t,n,u,s)}function Qu(e,t){return Ns(8390656,8,e,t)}function wl(e,t){return Ps(2048,8,e,t)}function Ku(e,t){return Ps(4,2,e,t)}function Xu(e,t){return Ps(4,4,e,t)}function Zu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4,4,Zu.bind(null,t,e),n)}function Sl(){}function qu(e,t){var n=Qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&gl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ec(e,t){var n=Qt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&gl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function tc(e,t,n){return(fr&21)===0?(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=n):(nn(n,t)||(n=Ta(),qe.lanes|=n,hr|=n,e.baseState=!0),t)}function Nh(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var s=ml.transition;ml.transition={};try{e(!1),t()}finally{ze=n,ml.transition=s}}function nc(){return Qt().memoizedState}function Ph(e,t,n){var s=Zn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},rc(e))ic(t,n);else if(n=Lu(e,t,n,s),n!==null){var o=Et();an(n,e,s,o),sc(n,t,s)}}function Lh(e,t,n){var s=Zn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(rc(e))ic(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var h=t.lastRenderedState,v=u(h,n);if(o.hasEagerState=!0,o.eagerState=v,nn(v,h)){var S=t.interleaved;S===null?(o.next=o,ul(t)):(o.next=S.next,S.next=o),t.interleaved=o;return}}catch{}finally{}n=Lu(e,t,o,s),n!==null&&(o=Et(),an(n,e,s,o),sc(n,t,s))}}function rc(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function ic(e,t){Ni=Ts=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Co(e,n)}}var Ls={readContext:Yt,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},Ih={readContext:Yt,useCallback:function(e,t){return gn().memoizedState=[e,t===void 0?null:t],e},useContext:Yt,useEffect:Qu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4194308,4,Zu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=gn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=gn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Ph.bind(null,qe,e),[s.memoizedState,e]},useRef:function(e){var t=gn();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:Sl,useDeferredValue:function(e){return gn().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=Nh.bind(null,e[1]),gn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=qe,o=gn();if(Xe){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ft===null)throw Error(i(349));(fr&30)!==0||zu(s,t,n)}o.memoizedState=n;var u={value:n,getSnapshot:t};return o.queue=u,Qu(Gu.bind(null,s,u,e),[e]),s.flags|=2048,Ii(9,Hu.bind(null,s,u,n,t),void 0,null),n},useId:function(){var e=gn(),t=ft.identifierPrefix;if(Xe){var n=Cn,s=_n;n=(s&~(1<<32-tn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Pi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Th++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jh={readContext:Yt,useCallback:qu,useContext:Yt,useEffect:wl,useImperativeHandle:Ju,useInsertionEffect:Ku,useLayoutEffect:Xu,useMemo:ec,useReducer:vl,useRef:Yu,useState:function(){return vl(Li)},useDebugValue:Sl,useDeferredValue:function(e){var t=Qt();return tc(t,at.memoizedState,e)},useTransition:function(){var e=vl(Li)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Uu,useId:nc,unstable_isNewReconciler:!1},Mh={readContext:Yt,useCallback:qu,useContext:Yt,useEffect:wl,useImperativeHandle:Ju,useInsertionEffect:Ku,useLayoutEffect:Xu,useMemo:ec,useReducer:kl,useRef:Yu,useState:function(){return kl(Li)},useDebugValue:Sl,useDeferredValue:function(e){var t=Qt();return at===null?t.memoizedState=e:tc(t,at.memoizedState,e)},useTransition:function(){var e=kl(Li)[0],t=Qt().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Uu,useId:nc,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _l(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:X({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Is={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Et(),o=Zn(e),u=bn(s,o);u.payload=t,n!=null&&(u.callback=n),t=Yn(e,u,o),t!==null&&(an(t,e,o,s),As(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Et(),o=Zn(e),u=bn(s,o);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Yn(e,u,o),t!==null&&(an(t,e,o,s),As(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Et(),s=Zn(e),o=bn(n,s);o.tag=2,t!=null&&(o.callback=t),t=Yn(e,o,s),t!==null&&(an(t,e,s,n),As(t,e,s))}};function oc(e,t,n,s,o,u,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,h):t.prototype&&t.prototype.isPureReactComponent?!wi(n,s)||!wi(o,u):!0}function lc(e,t,n){var s=!1,o=Wn,u=t.contextType;return typeof u=="object"&&u!==null?u=Yt(u):(o=Dt(t)?lr:yt.current,s=t.contextTypes,u=(s=s!=null)?jr(e,o):Wn),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Is,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=u),t}function ac(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function Cl(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},cl(e);var u=t.contextType;typeof u=="object"&&u!==null?o.context=Yt(u):(u=Dt(t)?lr:yt.current,o.context=jr(e,u)),o.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(_l(e,t,u,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Is.enqueueReplaceState(o,o.state,null),Ds(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Wr(e,t){try{var n="",s=t;do n+=De(s),s=s.return;while(s);var o=n}catch(u){o=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:o,digest:null}}function El(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rh=typeof WeakMap=="function"?WeakMap:Map;function uc(e,t,n){n=bn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Hs||(Hs=!0,zl=s),bl(e,t)},n}function cc(e,t,n){n=bn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){bl(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){bl(e,t),typeof s!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function dc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Rh;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=Jh.bind(null,e,t,n),t.then(e,e))}function fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hc(e,t,n,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bn(-1,1),t.tag=2,Yn(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Oh=q.ReactCurrentOwner,Ft=!1;function Ct(e,t,n,s){t.child=e===null?Pu(t,null,n,s):Ur(t,e.child,n,s)}function pc(e,t,n,s,o){n=n.render;var u=t.ref;return Hr(t,o),s=xl(e,t,n,s,u,o),n=yl(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,An(e,t,o)):(Xe&&n&&el(t),t.flags|=1,Ct(e,t,s,o),t.child)}function mc(e,t,n,s,o){if(e===null){var u=n.type;return typeof u=="function"&&!Ql(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,gc(e,t,u,s,o)):(e=Qs(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&o)===0){var h=u.memoizedProps;if(n=n.compare,n=n!==null?n:wi,n(h,s)&&e.ref===t.ref)return An(e,t,o)}return t.flags|=1,e=qn(u,s),e.ref=t.ref,e.return=t,t.child=e}function gc(e,t,n,s,o){if(e!==null){var u=e.memoizedProps;if(wi(u,s)&&e.ref===t.ref)if(Ft=!1,t.pendingProps=s=u,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ft=!0);else return t.lanes=e.lanes,An(e,t,o)}return Al(e,t,n,s,o)}function xc(e,t,n){var s=t.pendingProps,o=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve($r,Ot),Ot|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve($r,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=u!==null?u.baseLanes:n,Ve($r,Ot),Ot|=s}else u!==null?(s=u.baseLanes|n,t.memoizedState=null):s=n,Ve($r,Ot),Ot|=s;return Ct(e,t,o,n),t.child}function yc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Al(e,t,n,s,o){var u=Dt(n)?lr:yt.current;return u=jr(t,u),Hr(t,o),n=xl(e,t,n,s,u,o),s=yl(),e!==null&&!Ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,An(e,t,o)):(Xe&&s&&el(t),t.flags|=1,Ct(e,t,n,o),t.child)}function vc(e,t,n,s,o){if(Dt(n)){var u=!0;vs(t)}else u=!1;if(Hr(t,o),t.stateNode===null)Ms(e,t),lc(t,n,s),Cl(t,n,s,o),s=!0;else if(e===null){var h=t.stateNode,v=t.memoizedProps;h.props=v;var S=h.context,T=n.contextType;typeof T=="object"&&T!==null?T=Yt(T):(T=Dt(n)?lr:yt.current,T=jr(t,T));var G=n.getDerivedStateFromProps,W=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function";W||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==s||S!==T)&&ac(t,h,s,T),$n=!1;var z=t.memoizedState;h.state=z,Ds(t,s,h,o),S=t.memoizedState,v!==s||z!==S||At.current||$n?(typeof G=="function"&&(_l(t,n,G,s),S=t.memoizedState),(v=$n||oc(t,n,v,s,z,S,T))?(W||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=T,s=v):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Iu(e,t),v=t.memoizedProps,T=t.type===t.elementType?v:sn(t.type,v),h.props=T,W=t.pendingProps,z=h.context,S=n.contextType,typeof S=="object"&&S!==null?S=Yt(S):(S=Dt(n)?lr:yt.current,S=jr(t,S));var ie=n.getDerivedStateFromProps;(G=typeof ie=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==W||z!==S)&&ac(t,h,s,S),$n=!1,z=t.memoizedState,h.state=z,Ds(t,s,h,o);var de=t.memoizedState;v!==W||z!==de||At.current||$n?(typeof ie=="function"&&(_l(t,n,ie,s),de=t.memoizedState),(T=$n||oc(t,n,T,s,z,de,S)||!1)?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,de,S),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,de,S)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=de),h.props=s,h.state=de,h.context=S,s=T):(typeof h.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return Dl(e,t,n,s,u,o)}function Dl(e,t,n,s,o,u){yc(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return o&&Cu(t,n,!1),An(e,t,u);s=t.stateNode,Oh.current=t;var v=h&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=Ur(t,e.child,null,u),t.child=Ur(t,null,v,u)):Ct(e,t,v,u),t.memoizedState=s.state,o&&Cu(t,n,!0),t.child}function kc(e){var t=e.stateNode;t.pendingContext?Su(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Su(e,t.context,!1),dl(e,t.containerInfo)}function wc(e,t,n,s,o){return Or(),il(o),t.flags|=256,Ct(e,t,n,s),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Sc(e,t,n){var s=t.pendingProps,o=Je.current,u=!1,h=(t.flags&128)!==0,v;if((v=h)||(v=e!==null&&e.memoizedState===null?!1:(o&2)!==0),v?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ve(Je,o&1),e===null)return rl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(h=s.children,e=s.fallback,u?(s=t.mode,u=t.child,h={mode:"hidden",children:h},(s&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=h):u=Ks(h,s,0,null),e=xr(e,s,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Bl(n),t.memoizedState=Fl,e):Tl(t,h));if(o=e.memoizedState,o!==null&&(v=o.dehydrated,v!==null))return Uh(e,t,h,s,v,o,n);if(u){u=s.fallback,h=t.mode,o=e.child,v=o.sibling;var S={mode:"hidden",children:s.children};return(h&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=S,t.deletions=null):(s=qn(o,S),s.subtreeFlags=o.subtreeFlags&14680064),v!==null?u=qn(v,u):(u=xr(u,h,n,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,s=u,u=t.child,h=e.child.memoizedState,h=h===null?Bl(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},u.memoizedState=h,u.childLanes=e.childLanes&~n,t.memoizedState=Fl,s}return u=e.child,e=u.sibling,s=qn(u,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Tl(e,t){return t=Ks({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,n,s){return s!==null&&il(s),Ur(t,e.child,null,n),e=Tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uh(e,t,n,s,o,u,h){if(n)return t.flags&256?(t.flags&=-257,s=El(Error(i(422))),js(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=s.fallback,o=t.mode,s=Ks({mode:"visible",children:s.children},o,0,null),u=xr(u,o,h,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,(t.mode&1)!==0&&Ur(t,e.child,null,h),t.child.memoizedState=Bl(h),t.memoizedState=Fl,u);if((t.mode&1)===0)return js(e,t,h,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var v=s.dgst;return s=v,u=Error(i(419)),s=El(u,s,void 0),js(e,t,h,s)}if(v=(h&e.childLanes)!==0,Ft||v){if(s=ft,s!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|h))!==0?0:o,o!==0&&o!==u.retryLane&&(u.retryLane=o,En(e,o),an(s,e,o,-1))}return Yl(),s=El(Error(i(421))),js(e,t,h,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=qh.bind(null,e),o._reactRetry=t,null):(e=u.treeContext,Rt=Hn(o.nextSibling),Mt=t,Xe=!0,rn=null,e!==null&&(Vt[$t++]=_n,Vt[$t++]=Cn,Vt[$t++]=ar,_n=e.id,Cn=e.overflow,ar=t),t=Tl(t,s.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),al(e.return,t,n)}function Nl(e,t,n,s,o){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=n,u.tailMode=o)}function Cc(e,t,n){var s=t.pendingProps,o=s.revealOrder,u=s.tail;if(Ct(e,t,s.children,n),s=Je.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ve(Je,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Fs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Nl(t,!1,o,n,u);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Fs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Nl(t,!0,n,null,u);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ms(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function An(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=qn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function zh(e,t,n){switch(t.tag){case 3:kc(t),Or();break;case 5:Ru(t);break;case 1:Dt(t.type)&&vs(t);break;case 4:dl(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Ve(Es,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ve(Je,Je.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Sc(e,t,n):(Ve(Je,Je.current&1),e=An(e,t,n),e!==null?e.sibling:null);Ve(Je,Je.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return Cc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ve(Je,Je.current),s)break;return null;case 22:case 23:return t.lanes=0,xc(e,t,n)}return An(e,t,n)}var Ec,Pl,bc,Ac;Ec=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pl=function(){},bc=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,dr(mn.current);var u=null;switch(n){case"input":o=Lt(e,o),s=Lt(e,s),u=[];break;case"select":o=X({},o,{value:void 0}),s=X({},s,{value:void 0}),u=[];break;case"textarea":o=R(e,o),s=R(e,s),u=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=gs)}ct(n,s);var h;n=null;for(T in o)if(!s.hasOwnProperty(T)&&o.hasOwnProperty(T)&&o[T]!=null)if(T==="style"){var v=o[T];for(h in v)v.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(c.hasOwnProperty(T)?u||(u=[]):(u=u||[]).push(T,null));for(T in s){var S=s[T];if(v=o!=null?o[T]:void 0,s.hasOwnProperty(T)&&S!==v&&(S!=null||v!=null))if(T==="style")if(v){for(h in v)!v.hasOwnProperty(h)||S&&S.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in S)S.hasOwnProperty(h)&&v[h]!==S[h]&&(n||(n={}),n[h]=S[h])}else n||(u||(u=[]),u.push(T,n)),n=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,v=v?v.__html:void 0,S!=null&&v!==S&&(u=u||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(u=u||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(c.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&Ye("scroll",e),u||v===S||(u=[])):(u=u||[]).push(T,S))}n&&(u=u||[]).push("style",n);var T=u;(t.updateQueue=T)&&(t.flags|=4)}},Ac=function(e,t,n,s){n!==s&&(t.flags|=4)};function ji(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Hh(e,t,n){var s=t.pendingProps;switch(tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Dt(t.type)&&ys(),kt(t),null;case 3:return s=t.stateNode,Gr(),Qe(At),Qe(yt),pl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,rn!==null&&(Wl(rn),rn=null))),Pl(e,t),kt(t),null;case 5:fl(t);var o=dr(Ti.current);if(n=t.type,e!==null&&t.stateNode!=null)bc(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return kt(t),null}if(e=dr(mn.current),_s(t)){s=t.stateNode,n=t.type;var u=t.memoizedProps;switch(s[pn]=t,s[bi]=u,e=(t.mode&1)!==0,n){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(o=0;o<_i.length;o++)Ye(_i[o],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":b(s,u),Ye("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!u.multiple},Ye("invalid",s);break;case"textarea":Se(s,u),Ye("invalid",s)}ct(n,u),o=null;for(var h in u)if(u.hasOwnProperty(h)){var v=u[h];h==="children"?typeof v=="string"?s.textContent!==v&&(u.suppressHydrationWarning!==!0&&ms(s.textContent,v,e),o=["children",v]):typeof v=="number"&&s.textContent!==""+v&&(u.suppressHydrationWarning!==!0&&ms(s.textContent,v,e),o=["children",""+v]):c.hasOwnProperty(h)&&v!=null&&h==="onScroll"&&Ye("scroll",s)}switch(n){case"input":zt(s),ni(s,u,!0);break;case"textarea":zt(s),He(s);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(s.onclick=gs)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ue(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(n,{is:s.is}):(e=h.createElement(n),n==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,n),e[pn]=t,e[bi]=s,Ec(e,t,!1,!1),t.stateNode=e;e:{switch(h=Gt(n,s),n){case"dialog":Ye("cancel",e),Ye("close",e),o=s;break;case"iframe":case"object":case"embed":Ye("load",e),o=s;break;case"video":case"audio":for(o=0;o<_i.length;o++)Ye(_i[o],e);o=s;break;case"source":Ye("error",e),o=s;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),o=s;break;case"details":Ye("toggle",e),o=s;break;case"input":b(e,s),o=Lt(e,s),Ye("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=X({},s,{value:void 0}),Ye("invalid",e);break;case"textarea":Se(e,s),o=R(e,s),Ye("invalid",e);break;default:o=s}ct(n,o),v=o;for(u in v)if(v.hasOwnProperty(u)){var S=v[u];u==="style"?Ht(e,S):u==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&_t(e,S)):u==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&$e(e,S):typeof S=="number"&&$e(e,""+S):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?S!=null&&u==="onScroll"&&Ye("scroll",e):S!=null&&se(e,u,S,h))}switch(n){case"input":zt(e),ni(e,s,!1);break;case"textarea":zt(e),He(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ne(s.value));break;case"select":e.multiple=!!s.multiple,u=s.value,u!=null?Tn(e,!!s.multiple,u,!1):s.defaultValue!=null&&Tn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=gs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)Ac(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=dr(Ti.current),dr(mn.current),_s(t)){if(s=t.stateNode,n=t.memoizedProps,s[pn]=t,(u=s.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:ms(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ms(s.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[pn]=t,t.stateNode=s}return kt(t),null;case 13:if(Qe(Je),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&Rt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Bu(),Or(),t.flags|=98560,u=!1;else if(u=_s(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[pn]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;kt(t),u=!1}else rn!==null&&(Wl(rn),rn=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Je.current&1)!==0?ut===0&&(ut=3):Yl())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return Gr(),Pl(e,t),e===null&&Ci(t.stateNode.containerInfo),kt(t),null;case 10:return ll(t.type._context),kt(t),null;case 17:return Dt(t.type)&&ys(),kt(t),null;case 19:if(Qe(Je),u=t.memoizedState,u===null)return kt(t),null;if(s=(t.flags&128)!==0,h=u.rendering,h===null)if(s)ji(u,!1);else{if(ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Fs(e),h!==null){for(t.flags|=128,ji(u,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)u=n,e=s,u.flags&=14680066,h=u.alternate,h===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ve(Je,Je.current&1|2),t.child}e=e.sibling}u.tail!==null&&nt()>Yr&&(t.flags|=128,s=!0,ji(u,!1),t.lanes=4194304)}else{if(!s)if(e=Fs(h),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ji(u,!0),u.tail===null&&u.tailMode==="hidden"&&!h.alternate&&!Xe)return kt(t),null}else 2*nt()-u.renderingStartTime>Yr&&n!==1073741824&&(t.flags|=128,s=!0,ji(u,!1),t.lanes=4194304);u.isBackwards?(h.sibling=t.child,t.child=h):(n=u.last,n!==null?n.sibling=h:t.child=h,u.last=h)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=nt(),t.sibling=null,n=Je.current,Ve(Je,s?n&1|2:n&1),t):(kt(t),null);case 22:case 23:return $l(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Ot&1073741824)!==0&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Gh(e,t){switch(tl(t),t.tag){case 1:return Dt(t.type)&&ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),Qe(At),Qe(yt),pl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return fl(t),null;case 13:if(Qe(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Je),null;case 4:return Gr(),null;case 10:return ll(t.type._context),null;case 22:case 23:return $l(),null;case 24:return null;default:return null}}var Rs=!1,wt=!1,Wh=typeof WeakSet=="function"?WeakSet:Set,le=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){et(e,t,s)}else n.current=null}function Ll(e,t,n){try{n()}catch(s){et(e,t,s)}}var Dc=!1;function Vh(e,t){if($o=is,e=ou(),Ro(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var h=0,v=-1,S=-1,T=0,G=0,W=e,z=null;t:for(;;){for(var ie;W!==n||o!==0&&W.nodeType!==3||(v=h+o),W!==u||s!==0&&W.nodeType!==3||(S=h+s),W.nodeType===3&&(h+=W.nodeValue.length),(ie=W.firstChild)!==null;)z=W,W=ie;for(;;){if(W===e)break t;if(z===n&&++T===o&&(v=h),z===u&&++G===s&&(S=h),(ie=W.nextSibling)!==null)break;W=z,z=W.parentNode}W=ie}n=v===-1||S===-1?null:{start:v,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yo={focusedElem:e,selectionRange:n},is=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var de=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var he=de.memoizedProps,rt=de.memoizedState,D=t.stateNode,_=D.getSnapshotBeforeUpdate(t.elementType===t.type?he:sn(t.type,he),rt);D.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var B=t.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(K){et(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return de=Dc,Dc=!1,de}function Mi(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var u=o.destroy;o.destroy=void 0,u!==void 0&&Ll(t,n,u)}o=o.next}while(o!==s)}}function Os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Il(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fc(e){var t=e.alternate;t!==null&&(e.alternate=null,Fc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[bi],delete t[Zo],delete t[Ah],delete t[Dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bc(e){return e.tag===5||e.tag===3||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gs));else if(s!==4&&(e=e.child,e!==null))for(jl(e,t,n),e=e.sibling;e!==null;)jl(e,t,n),e=e.sibling}function Ml(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}var pt=null,on=!1;function Qn(e,t,n){for(n=n.child;n!==null;)Nc(e,t,n),n=n.sibling}function Nc(e,t,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Ji,n)}catch{}switch(n.tag){case 5:wt||Vr(n,t);case 6:var s=pt,o=on;pt=null,Qn(e,t,n),pt=s,on=o,pt!==null&&(on?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(on?(e=pt,n=n.stateNode,e.nodeType===8?Xo(e.parentNode,n):e.nodeType===1&&Xo(e,n),mi(e)):Xo(pt,n.stateNode));break;case 4:s=pt,o=on,pt=n.stateNode.containerInfo,on=!0,Qn(e,t,n),pt=s,on=o;break;case 0:case 11:case 14:case 15:if(!wt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var u=o,h=u.destroy;u=u.tag,h!==void 0&&((u&2)!==0||(u&4)!==0)&&Ll(n,t,h),o=o.next}while(o!==s)}Qn(e,t,n);break;case 1:if(!wt&&(Vr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(v){et(n,t,v)}Qn(e,t,n);break;case 21:Qn(e,t,n);break;case 22:n.mode&1?(wt=(s=wt)||n.memoizedState!==null,Qn(e,t,n),wt=s):Qn(e,t,n);break;default:Qn(e,t,n)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Wh),t.forEach(function(s){var o=ep.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function ln(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var u=e,h=t,v=h;e:for(;v!==null;){switch(v.tag){case 5:pt=v.stateNode,on=!1;break e;case 3:pt=v.stateNode.containerInfo,on=!0;break e;case 4:pt=v.stateNode.containerInfo,on=!0;break e}v=v.return}if(pt===null)throw Error(i(160));Nc(u,h,o),pt=null,on=!1;var S=o.alternate;S!==null&&(S.return=null),o.return=null}catch(T){et(o,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lc(t,e),t=t.sibling}function Lc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ln(t,e),xn(e),s&4){try{Mi(3,e,e.return),Os(3,e)}catch(he){et(e,e.return,he)}try{Mi(5,e,e.return)}catch(he){et(e,e.return,he)}}break;case 1:ln(t,e),xn(e),s&512&&n!==null&&Vr(n,n.return);break;case 5:if(ln(t,e),xn(e),s&512&&n!==null&&Vr(n,n.return),e.flags&32){var o=e.stateNode;try{$e(o,"")}catch(he){et(e,e.return,he)}}if(s&4&&(o=e.stateNode,o!=null)){var u=e.memoizedProps,h=n!==null?n.memoizedProps:u,v=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{v==="input"&&u.type==="radio"&&u.name!=null&&ot(o,u),Gt(v,h);var T=Gt(v,u);for(h=0;h<S.length;h+=2){var G=S[h],W=S[h+1];G==="style"?Ht(o,W):G==="dangerouslySetInnerHTML"?_t(o,W):G==="children"?$e(o,W):se(o,G,W,T)}switch(v){case"input":ti(o,u);break;case"textarea":Be(o,u);break;case"select":var z=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!u.multiple;var ie=u.value;ie!=null?Tn(o,!!u.multiple,ie,!1):z!==!!u.multiple&&(u.defaultValue!=null?Tn(o,!!u.multiple,u.defaultValue,!0):Tn(o,!!u.multiple,u.multiple?[]:"",!1))}o[bi]=u}catch(he){et(e,e.return,he)}}break;case 6:if(ln(t,e),xn(e),s&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,u=e.memoizedProps;try{o.nodeValue=u}catch(he){et(e,e.return,he)}}break;case 3:if(ln(t,e),xn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{mi(t.containerInfo)}catch(he){et(e,e.return,he)}break;case 4:ln(t,e),xn(e);break;case 13:ln(t,e),xn(e),o=e.child,o.flags&8192&&(u=o.memoizedState!==null,o.stateNode.isHidden=u,!u||o.alternate!==null&&o.alternate.memoizedState!==null||(Ul=nt())),s&4&&Pc(e);break;case 22:if(G=n!==null&&n.memoizedState!==null,e.mode&1?(wt=(T=wt)||G,ln(t,e),wt=T):ln(t,e),xn(e),s&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!G&&(e.mode&1)!==0)for(le=e,G=e.child;G!==null;){for(W=le=G;le!==null;){switch(z=le,ie=z.child,z.tag){case 0:case 11:case 14:case 15:Mi(4,z,z.return);break;case 1:Vr(z,z.return);var de=z.stateNode;if(typeof de.componentWillUnmount=="function"){s=z,n=z.return;try{t=s,de.props=t.memoizedProps,de.state=t.memoizedState,de.componentWillUnmount()}catch(he){et(s,n,he)}}break;case 5:Vr(z,z.return);break;case 22:if(z.memoizedState!==null){Mc(W);continue}}ie!==null?(ie.return=z,le=ie):Mc(W)}G=G.sibling}e:for(G=null,W=e;;){if(W.tag===5){if(G===null){G=W;try{o=W.stateNode,T?(u=o.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(v=W.stateNode,S=W.memoizedProps.style,h=S!=null&&S.hasOwnProperty("display")?S.display:null,v.style.display=xt("display",h))}catch(he){et(e,e.return,he)}}}else if(W.tag===6){if(G===null)try{W.stateNode.nodeValue=T?"":W.memoizedProps}catch(he){et(e,e.return,he)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;G===W&&(G=null),W=W.return}G===W&&(G=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:ln(t,e),xn(e),s&4&&Pc(e);break;case 21:break;default:ln(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Bc(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&($e(o,""),s.flags&=-33);var u=Tc(e);Ml(e,u,o);break;case 3:case 4:var h=s.stateNode.containerInfo,v=Tc(e);jl(e,v,h);break;default:throw Error(i(161))}}catch(S){et(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $h(e,t,n){le=e,Ic(e)}function Ic(e,t,n){for(var s=(e.mode&1)!==0;le!==null;){var o=le,u=o.child;if(o.tag===22&&s){var h=o.memoizedState!==null||Rs;if(!h){var v=o.alternate,S=v!==null&&v.memoizedState!==null||wt;v=Rs;var T=wt;if(Rs=h,(wt=S)&&!T)for(le=o;le!==null;)h=le,S=h.child,h.tag===22&&h.memoizedState!==null?Rc(o):S!==null?(S.return=h,le=S):Rc(o);for(;u!==null;)le=u,Ic(u),u=u.sibling;le=o,Rs=v,wt=T}jc(e)}else(o.subtreeFlags&8772)!==0&&u!==null?(u.return=o,le=u):jc(e)}}function jc(e){for(;le!==null;){var t=le;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:wt||Os(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!wt)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&Mu(t,u,s);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mu(t,h,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var G=T.memoizedState;if(G!==null){var W=G.dehydrated;W!==null&&mi(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}wt||t.flags&512&&Il(t)}catch(z){et(t,t.return,z)}}if(t===e){le=null;break}if(n=t.sibling,n!==null){n.return=t.return,le=n;break}le=t.return}}function Mc(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var n=t.sibling;if(n!==null){n.return=t.return,le=n;break}le=t.return}}function Rc(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Os(4,t)}catch(S){et(t,n,S)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(S){et(t,o,S)}}var u=t.return;try{Il(t)}catch(S){et(t,u,S)}break;case 5:var h=t.return;try{Il(t)}catch(S){et(t,h,S)}}}catch(S){et(t,t.return,S)}if(t===e){le=null;break}var v=t.sibling;if(v!==null){v.return=t.return,le=v;break}le=t.return}}var Yh=Math.ceil,Us=q.ReactCurrentDispatcher,Rl=q.ReactCurrentOwner,Kt=q.ReactCurrentBatchConfig,Me=0,ft=null,it=null,mt=0,Ot=0,$r=Gn(0),ut=0,Ri=null,hr=0,zs=0,Ol=0,Oi=null,Bt=null,Ul=0,Yr=1/0,Dn=null,Hs=!1,zl=null,Kn=null,Gs=!1,Xn=null,Ws=0,Ui=0,Hl=null,Vs=-1,$s=0;function Et(){return(Me&6)!==0?nt():Vs!==-1?Vs:Vs=nt()}function Zn(e){return(e.mode&1)===0?1:(Me&2)!==0&&mt!==0?mt&-mt:Bh.transition!==null?($s===0&&($s=Ta()),$s):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Ua(e.type)),e)}function an(e,t,n,s){if(50<Ui)throw Ui=0,Hl=null,Error(i(185));ci(e,n,s),((Me&2)===0||e!==ft)&&(e===ft&&((Me&2)===0&&(zs|=n),ut===4&&Jn(e,mt)),Tt(e,s),n===1&&Me===0&&(t.mode&1)===0&&(Yr=nt()+500,ks&&Vn()))}function Tt(e,t){var n=e.callbackNode;Bf(e,t);var s=ts(e,e===ft?mt:0);if(s===0)n!==null&&Da(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Da(n),t===1)e.tag===0?Fh(Uc.bind(null,e)):Eu(Uc.bind(null,e)),Eh(function(){(Me&6)===0&&Vn()}),n=null;else{switch(Na(s)){case 1:n=wo;break;case 4:n=Fa;break;case 16:n=Zi;break;case 536870912:n=Ba;break;default:n=Zi}n=Qc(n,Oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oc(e,t){if(Vs=-1,$s=0,(Me&6)!==0)throw Error(i(327));var n=e.callbackNode;if(Qr()&&e.callbackNode!==n)return null;var s=ts(e,e===ft?mt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Ys(e,s);else{t=s;var o=Me;Me|=2;var u=Hc();(ft!==e||mt!==t)&&(Dn=null,Yr=nt()+500,mr(e,t));do try{Xh();break}catch(v){zc(e,v)}while(!0);ol(),Us.current=u,Me=o,it!==null?t=0:(ft=null,mt=0,t=ut)}if(t!==0){if(t===2&&(o=So(e),o!==0&&(s=o,t=Gl(e,o))),t===1)throw n=Ri,mr(e,0),Jn(e,s),Tt(e,nt()),n;if(t===6)Jn(e,s);else{if(o=e.current.alternate,(s&30)===0&&!Qh(o)&&(t=Ys(e,s),t===2&&(u=So(e),u!==0&&(s=u,t=Gl(e,u))),t===1))throw n=Ri,mr(e,0),Jn(e,s),Tt(e,nt()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:gr(e,Bt,Dn);break;case 3:if(Jn(e,s),(s&130023424)===s&&(t=Ul+500-nt(),10<t)){if(ts(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){Et(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ko(gr.bind(null,e,Bt,Dn),t);break}gr(e,Bt,Dn);break;case 4:if(Jn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var h=31-tn(s);u=1<<h,h=t[h],h>o&&(o=h),s&=~u}if(s=o,s=nt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Yh(s/1960))-s,10<s){e.timeoutHandle=Ko(gr.bind(null,e,Bt,Dn),s);break}gr(e,Bt,Dn);break;case 5:gr(e,Bt,Dn);break;default:throw Error(i(329))}}}return Tt(e,nt()),e.callbackNode===n?Oc.bind(null,e):null}function Gl(e,t){var n=Oi;return e.current.memoizedState.isDehydrated&&(mr(e,t).flags|=256),e=Ys(e,t),e!==2&&(t=Bt,Bt=n,t!==null&&Wl(t)),e}function Wl(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function Qh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],u=o.getSnapshot;o=o.value;try{if(!nn(u(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t){for(t&=~Ol,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tn(t),s=1<<n;e[n]=-1,t&=~s}}function Uc(e){if((Me&6)!==0)throw Error(i(327));Qr();var t=ts(e,0);if((t&1)===0)return Tt(e,nt()),null;var n=Ys(e,t);if(e.tag!==0&&n===2){var s=So(e);s!==0&&(t=s,n=Gl(e,s))}if(n===1)throw n=Ri,mr(e,0),Jn(e,t),Tt(e,nt()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,Bt,Dn),Tt(e,nt()),null}function Vl(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(Yr=nt()+500,ks&&Vn())}}function pr(e){Xn!==null&&Xn.tag===0&&(Me&6)===0&&Qr();var t=Me;Me|=1;var n=Kt.transition,s=ze;try{if(Kt.transition=null,ze=1,e)return e()}finally{ze=s,Kt.transition=n,Me=t,(Me&6)===0&&Vn()}}function $l(){Ot=$r.current,Qe($r)}function mr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ch(n)),it!==null)for(n=it.return;n!==null;){var s=n;switch(tl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ys();break;case 3:Gr(),Qe(At),Qe(yt),pl();break;case 5:fl(s);break;case 4:Gr();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:ll(s.type._context);break;case 22:case 23:$l()}n=n.return}if(ft=e,it=e=qn(e.current,null),mt=Ot=t,ut=0,Ri=null,Ol=zs=hr=0,Bt=Oi=null,cr!==null){for(t=0;t<cr.length;t++)if(n=cr[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,u=n.pending;if(u!==null){var h=u.next;u.next=o,s.next=h}n.pending=s}cr=null}return e}function zc(e,t){do{var n=it;try{if(ol(),Bs.current=Ls,Ts){for(var s=qe.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Ts=!1}if(fr=0,dt=at=qe=null,Ni=!1,Pi=0,Rl.current=null,n===null||n.return===null){ut=1,Ri=t,it=null;break}e:{var u=e,h=n.return,v=n,S=t;if(t=mt,v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,G=v,W=G.tag;if((G.mode&1)===0&&(W===0||W===11||W===15)){var z=G.alternate;z?(G.updateQueue=z.updateQueue,G.memoizedState=z.memoizedState,G.lanes=z.lanes):(G.updateQueue=null,G.memoizedState=null)}var ie=fc(h);if(ie!==null){ie.flags&=-257,hc(ie,h,v,u,t),ie.mode&1&&dc(u,T,t),t=ie,S=T;var de=t.updateQueue;if(de===null){var he=new Set;he.add(S),t.updateQueue=he}else de.add(S);break e}else{if((t&1)===0){dc(u,T,t),Yl();break e}S=Error(i(426))}}else if(Xe&&v.mode&1){var rt=fc(h);if(rt!==null){(rt.flags&65536)===0&&(rt.flags|=256),hc(rt,h,v,u,t),il(Wr(S,v));break e}}u=S=Wr(S,v),ut!==4&&(ut=2),Oi===null?Oi=[u]:Oi.push(u),u=h;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var D=uc(u,S,t);ju(u,D);break e;case 1:v=S;var _=u.type,B=u.stateNode;if((u.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Kn===null||!Kn.has(B)))){u.flags|=65536,t&=-t,u.lanes|=t;var K=cc(u,v,t);ju(u,K);break e}}u=u.return}while(u!==null)}Wc(n)}catch(ge){t=ge,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function Hc(){var e=Us.current;return Us.current=Ls,e===null?Ls:e}function Yl(){(ut===0||ut===3||ut===2)&&(ut=4),ft===null||(hr&268435455)===0&&(zs&268435455)===0||Jn(ft,mt)}function Ys(e,t){var n=Me;Me|=2;var s=Hc();(ft!==e||mt!==t)&&(Dn=null,mr(e,t));do try{Kh();break}catch(o){zc(e,o)}while(!0);if(ol(),Me=n,Us.current=s,it!==null)throw Error(i(261));return ft=null,mt=0,ut}function Kh(){for(;it!==null;)Gc(it)}function Xh(){for(;it!==null&&!wf();)Gc(it)}function Gc(e){var t=Yc(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?Wc(e):it=t,Rl.current=null}function Wc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Hh(n,t,Ot),n!==null){it=n;return}}else{if(n=Gh(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,it=null;return}}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ut===0&&(ut=5)}function gr(e,t,n){var s=ze,o=Kt.transition;try{Kt.transition=null,ze=1,Zh(e,t,n,s)}finally{Kt.transition=o,ze=s}return null}function Zh(e,t,n,s){do Qr();while(Xn!==null);if((Me&6)!==0)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(Tf(e,u),e===ft&&(it=ft=null,mt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Gs||(Gs=!0,Qc(Zi,function(){return Qr(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=Kt.transition,Kt.transition=null;var h=ze;ze=1;var v=Me;Me|=4,Rl.current=null,Vh(e,n),Lc(n,e),xh(Yo),is=!!$o,Yo=$o=null,e.current=n,$h(n),Sf(),Me=v,ze=h,Kt.transition=u}else e.current=n;if(Gs&&(Gs=!1,Xn=e,Ws=o),u=e.pendingLanes,u===0&&(Kn=null),Ef(n.stateNode),Tt(e,nt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(Hs)throw Hs=!1,e=zl,zl=null,e;return(Ws&1)!==0&&e.tag!==0&&Qr(),u=e.pendingLanes,(u&1)!==0?e===Hl?Ui++:(Ui=0,Hl=e):Ui=0,Vn(),null}function Qr(){if(Xn!==null){var e=Na(Ws),t=Kt.transition,n=ze;try{if(Kt.transition=null,ze=16>e?16:e,Xn===null)var s=!1;else{if(e=Xn,Xn=null,Ws=0,(Me&6)!==0)throw Error(i(331));var o=Me;for(Me|=4,le=e.current;le!==null;){var u=le,h=u.child;if((le.flags&16)!==0){var v=u.deletions;if(v!==null){for(var S=0;S<v.length;S++){var T=v[S];for(le=T;le!==null;){var G=le;switch(G.tag){case 0:case 11:case 15:Mi(8,G,u)}var W=G.child;if(W!==null)W.return=G,le=W;else for(;le!==null;){G=le;var z=G.sibling,ie=G.return;if(Fc(G),G===T){le=null;break}if(z!==null){z.return=ie,le=z;break}le=ie}}}var de=u.alternate;if(de!==null){var he=de.child;if(he!==null){de.child=null;do{var rt=he.sibling;he.sibling=null,he=rt}while(he!==null)}}le=u}}if((u.subtreeFlags&2064)!==0&&h!==null)h.return=u,le=h;else e:for(;le!==null;){if(u=le,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Mi(9,u,u.return)}var D=u.sibling;if(D!==null){D.return=u.return,le=D;break e}le=u.return}}var _=e.current;for(le=_;le!==null;){h=le;var B=h.child;if((h.subtreeFlags&2064)!==0&&B!==null)B.return=h,le=B;else e:for(h=_;le!==null;){if(v=le,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:Os(9,v)}}catch(ge){et(v,v.return,ge)}if(v===h){le=null;break e}var K=v.sibling;if(K!==null){K.return=v.return,le=K;break e}le=v.return}}if(Me=o,Vn(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Ji,e)}catch{}s=!0}return s}finally{ze=n,Kt.transition=t}}return!1}function Vc(e,t,n){t=Wr(n,t),t=uc(e,t,1),e=Yn(e,t,1),t=Et(),e!==null&&(ci(e,1,t),Tt(e,t))}function et(e,t,n){if(e.tag===3)Vc(e,e,n);else for(;t!==null;){if(t.tag===3){Vc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Kn===null||!Kn.has(s))){e=Wr(n,e),e=cc(t,e,1),t=Yn(t,e,1),e=Et(),t!==null&&(ci(t,1,e),Tt(t,e));break}}t=t.return}}function Jh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Et(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(mt&n)===n&&(ut===4||ut===3&&(mt&130023424)===mt&&500>nt()-Ul?mr(e,0):Ol|=n),Tt(e,t)}function $c(e,t){t===0&&((e.mode&1)===0?t=1:(t=es,es<<=1,(es&130023424)===0&&(es=4194304)));var n=Et();e=En(e,t),e!==null&&(ci(e,t,n),Tt(e,n))}function qh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$c(e,n)}function ep(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),$c(e,n)}var Yc;Yc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||At.current)Ft=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ft=!1,zh(e,t,n);Ft=(e.flags&131072)!==0}else Ft=!1,Xe&&(t.flags&1048576)!==0&&bu(t,Ss,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ms(e,t),e=t.pendingProps;var o=jr(t,yt.current);Hr(t,n),o=xl(null,t,s,e,o,n);var u=yl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dt(s)?(u=!0,vs(t)):u=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,cl(t),o.updater=Is,t.stateNode=o,o._reactInternals=t,Cl(t,s,e,n),t=Dl(null,t,s,!0,u,n)):(t.tag=0,Xe&&u&&el(t),Ct(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ms(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=np(s),e=sn(s,e),o){case 0:t=Al(null,t,s,e,n);break e;case 1:t=vc(null,t,s,e,n);break e;case 11:t=pc(null,t,s,e,n);break e;case 14:t=mc(null,t,s,sn(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:sn(s,o),Al(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:sn(s,o),vc(e,t,s,o,n);case 3:e:{if(kc(t),e===null)throw Error(i(387));s=t.pendingProps,u=t.memoizedState,o=u.element,Iu(e,t),Ds(t,s,null,n);var h=t.memoizedState;if(s=h.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){o=Wr(Error(i(423)),t),t=wc(e,t,s,n,o);break e}else if(s!==o){o=Wr(Error(i(424)),t),t=wc(e,t,s,n,o);break e}else for(Rt=Hn(t.stateNode.containerInfo.firstChild),Mt=t,Xe=!0,rn=null,n=Pu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Or(),s===o){t=An(e,t,n);break e}Ct(e,t,s,n)}t=t.child}return t;case 5:return Ru(t),e===null&&rl(t),s=t.type,o=t.pendingProps,u=e!==null?e.memoizedProps:null,h=o.children,Qo(s,o)?h=null:u!==null&&Qo(s,u)&&(t.flags|=32),yc(e,t),Ct(e,t,h,n),t.child;case 6:return e===null&&rl(t),null;case 13:return Sc(e,t,n);case 4:return dl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ur(t,null,s,n):Ct(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:sn(s,o),pc(e,t,s,o,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,u=t.memoizedProps,h=o.value,Ve(Es,s._currentValue),s._currentValue=h,u!==null)if(nn(u.value,h)){if(u.children===o.children&&!At.current){t=An(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var v=u.dependencies;if(v!==null){h=u.child;for(var S=v.firstContext;S!==null;){if(S.context===s){if(u.tag===1){S=bn(-1,n&-n),S.tag=2;var T=u.updateQueue;if(T!==null){T=T.shared;var G=T.pending;G===null?S.next=S:(S.next=G.next,G.next=S),T.pending=S}}u.lanes|=n,S=u.alternate,S!==null&&(S.lanes|=n),al(u.return,n,t),v.lanes|=n;break}S=S.next}}else if(u.tag===10)h=u.type===t.type?null:u.child;else if(u.tag===18){if(h=u.return,h===null)throw Error(i(341));h.lanes|=n,v=h.alternate,v!==null&&(v.lanes|=n),al(h,n,t),h=u.sibling}else h=u.child;if(h!==null)h.return=u;else for(h=u;h!==null;){if(h===t){h=null;break}if(u=h.sibling,u!==null){u.return=h.return,h=u;break}h=h.return}u=h}Ct(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Hr(t,n),o=Yt(o),s=s(o),t.flags|=1,Ct(e,t,s,n),t.child;case 14:return s=t.type,o=sn(s,t.pendingProps),o=sn(s.type,o),mc(e,t,s,o,n);case 15:return gc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:sn(s,o),Ms(e,t),t.tag=1,Dt(s)?(e=!0,vs(t)):e=!1,Hr(t,n),lc(t,s,o),Cl(t,s,o,n),Dl(null,t,s,!0,e,n);case 19:return Cc(e,t,n);case 22:return xc(e,t,n)}throw Error(i(156,t.tag))};function Qc(e,t){return Aa(e,t)}function tp(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,n,s){return new tp(e,t,n,s)}function Ql(e){return e=e.prototype,!(!e||!e.isReactComponent)}function np(e){if(typeof e=="function")return Ql(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ee)return 11;if(e===ve)return 14}return 2}function qn(e,t){var n=e.alternate;return n===null?(n=Xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qs(e,t,n,s,o,u){var h=2;if(s=e,typeof e=="function")Ql(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ae:return xr(n.children,o,u,t);case V:h=8,o|=8;break;case ye:return e=Xt(12,n,t,o|2),e.elementType=ye,e.lanes=u,e;case be:return e=Xt(13,n,t,o),e.elementType=be,e.lanes=u,e;case P:return e=Xt(19,n,t,o),e.elementType=P,e.lanes=u,e;case ue:return Ks(n,o,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pe:h=10;break e;case fe:h=9;break e;case Ee:h=11;break e;case ve:h=14;break e;case Ae:h=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Xt(h,n,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function xr(e,t,n,s){return e=Xt(7,e,s,t),e.lanes=n,e}function Ks(e,t,n,s){return e=Xt(22,e,s,t),e.elementType=ue,e.lanes=n,e.stateNode={isHidden:!1},e}function Kl(e,t,n){return e=Xt(6,e,null,t),e.lanes=n,e}function Xl(e,t,n){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rp(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zl(e,t,n,s,o,u,h,v,S){return e=new rp(e,t,n,v,S),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Xt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cl(u),e}function ip(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Kc(e){if(!e)return Wn;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(Dt(n))return _u(e,n,t)}return t}function Xc(e,t,n,s,o,u,h,v,S){return e=Zl(n,s,!0,e,o,u,h,v,S),e.context=Kc(null),n=e.current,s=Et(),o=Zn(n),u=bn(s,o),u.callback=t??null,Yn(n,u,o),e.current.lanes=o,ci(e,o,s),Tt(e,s),e}function Xs(e,t,n,s){var o=t.current,u=Et(),h=Zn(o);return n=Kc(n),t.context===null?t.context=n:t.pendingContext=n,t=bn(u,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Yn(o,t,h),e!==null&&(an(e,o,h,u),As(e,o,h)),h}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Jl(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function sp(){return null}var Jc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}Js.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Xs(e,t,null,null)},Js.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){Xs(null,e,null,null)}),t[wn]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ia();e={blockedOn:null,target:e,priority:t};for(var n=0;n<On.length&&t!==0&&t<On[n].priority;n++);On.splice(n,0,e),n===0&&Ra(e)}};function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function op(e,t,n,s,o){if(o){if(typeof s=="function"){var u=s;s=function(){var T=Zs(h);u.call(T)}}var h=Xc(t,s,e,0,null,!1,!1,"",qc);return e._reactRootContainer=h,e[wn]=h.current,Ci(e.nodeType===8?e.parentNode:e),pr(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var v=s;s=function(){var T=Zs(S);v.call(T)}}var S=Zl(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=S,e[wn]=S.current,Ci(e.nodeType===8?e.parentNode:e),pr(function(){Xs(t,S,n,s)}),S}function eo(e,t,n,s,o){var u=n._reactRootContainer;if(u){var h=u;if(typeof o=="function"){var v=o;o=function(){var S=Zs(h);v.call(S)}}Xs(t,h,e,o)}else h=op(n,t,e,o,s);return Zs(h)}Pa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ui(t.pendingLanes);n!==0&&(Co(t,n|1),Tt(t,nt()),(Me&6)===0&&(Yr=nt()+500,Vn()))}break;case 13:pr(function(){var s=En(e,1);if(s!==null){var o=Et();an(s,e,1,o)}}),Jl(e,1)}},Eo=function(e){if(e.tag===13){var t=En(e,134217728);if(t!==null){var n=Et();an(t,e,134217728,n)}Jl(e,134217728)}},La=function(e){if(e.tag===13){var t=Zn(e),n=En(e,t);if(n!==null){var s=Et();an(n,e,t,s)}Jl(e,t)}},Ia=function(){return ze},ja=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}},ii=function(e,t,n){switch(t){case"input":if(ti(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=xs(s);if(!o)throw Error(i(90));fn(s),ti(s,o)}}}break;case"textarea":Be(e,n);break;case"select":t=n.value,t!=null&&Tn(e,!!n.multiple,t,!1)}},oi=Vl,Er=pr;var lp={usingClientEntryPoint:!1,Events:[Ai,Lr,xs,si,Cr,Vl]},zi={findFiberByHostInstance:or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ap={bundleType:zi.bundleType,version:zi.version,rendererPackageName:zi.rendererPackageName,rendererConfig:zi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ea(e),e===null?null:e.stateNode},findFiberByHostInstance:zi.findFiberByHostInstance||sp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{Ji=to.inject(ap),hn=to}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lp,Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ea(t))throw Error(i(200));return ip(e,t,null,n)},Nt.createRoot=function(e,t){if(!ea(e))throw Error(i(299));var n=!1,s="",o=Jc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Zl(e,1,!1,null,null,n,!1,s,o),e[wn]=t.current,Ci(e.nodeType===8?e.parentNode:e),new ql(t)},Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Ea(t),e=e===null?null:e.stateNode,e},Nt.flushSync=function(e){return pr(e)},Nt.hydrate=function(e,t,n){if(!qs(t))throw Error(i(200));return eo(null,e,t,!0,n)},Nt.hydrateRoot=function(e,t,n){if(!ea(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,o=!1,u="",h=Jc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Xc(t,null,e,1,n??null,o,!1,u,h),e[wn]=t.current,Ci(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Js(t)},Nt.render=function(e,t,n){if(!qs(t))throw Error(i(200));return eo(null,e,t,!1,n)},Nt.unmountComponentAtNode=function(e){if(!qs(e))throw Error(i(40));return e._reactRootContainer?(pr(function(){eo(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Nt.unstable_batchedUpdates=Vl,Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!qs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return eo(e,t,n,!1,s)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var ad;function yp(){if(ad)return ia.exports;ad=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),ia.exports=xp(),ia.exports}var ud;function vp(){if(ud)return no;ud=1;var a=yp();return no.createRoot=a.createRoot,no.hydrateRoot=a.hydrateRoot,no}var kp=vp();const wp=bd(kp),cd=a=>{let r;const i=new Set,l=(k,w)=>{const y=typeof k=="function"?k(r):k;if(!Object.is(y,r)){const A=r;r=w??(typeof y!="object"||y===null)?y:Object.assign({},r,y),i.forEach(I=>I(r,A))}},c=()=>r,g={setState:l,getState:c,getInitialState:()=>p,subscribe:k=>(i.add(k),()=>i.delete(k))},p=r=a(l,c,g);return g},Sp=(a=>a?cd(a):cd),_p=a=>a;function Cp(a,r=_p){const i=Wi.useSyncExternalStore(a.subscribe,Wi.useCallback(()=>r(a.getState()),[a,r]),Wi.useCallback(()=>r(a.getInitialState()),[a,r]));return Wi.useDebugValue(i),i}const dd=a=>{const r=Sp(a),i=l=>Cp(r,l);return Object.assign(i,r),i},Ep=(a=>a?dd(a):dd);class Qi{constructor(r){L(this,"buffer");L(this,"index",0);this.buffer=r instanceof Uint8Array?r:new Uint8Array(r)}slice(r,i){return new Qi(this.buffer.slice(r,i))}readable(){return this.index<this.buffer.length}skip(r){this.index+=r}readUInt8(){return this.buffer[this.index++]}readInt8(){return this.buffer[this.index++]<<24>>24}readUInt16(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)}readUInt32(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)+(this.buffer[this.index++]<<24)>>>0}readString(){const r=this.readUInt16();if(r===0)return"";const i=new TextDecoder("utf-8").decode(this.buffer.slice(this.index,this.index+r));return this.index+=r,i}readRGB(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)}readLight(){return{level:this.readUInt16(),color:this.readUInt16()}}readAnimationLength(){return{min:this.readUInt32(),max:this.readUInt32()}}}const fo=new Uint8Array([69,77,80,69,82,73,65,0]),xo=20;var yo=(a=>(a[a.SPRITE_DATA=1]="SPRITE_DATA",a[a.OBJECT_DEFS=2]="OBJECT_DEFS",a))(yo||{});function bp(a){const r=a instanceof Uint8Array?a:new Uint8Array(a);if(r.length<xo)return!1;for(let i=0;i<fo.length;i++)if(r[i]!==fo[i])return!1;return!0}function Ad(a){const r=a instanceof Uint8Array?a:new Uint8Array(a);if(!bp(r))return null;const i=new DataView(r.buffer,r.byteOffset,r.byteLength);return{fileType:i.getUint8(8),formatVersion:i.getUint16(9,!0),contentVersion:i.getUint32(11,!0),flags:i.getUint8(15)}}const fd={"41BF619C":740,"439D5A33":760,"42A3":1098},me={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrOpacity:100,ThingAttrNotPreWalkable:101,ThingAttrFloorChange:252,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function Ap(a,r){if(a===me.ThingAttrLast)return a;if(r>=1e3){if(a===16)return me.ThingAttrNoMoveAnimation;if(a>16)return a-1}else if(r>=755){if(a===23)return me.ThingAttrFloorChange}else if(r>=740){if(a>0&&a<=15)return a===5?me.ThingAttrMultiUse:a===6?me.ThingAttrForceUse:a+1;switch(a){case 16:return me.ThingAttrLight;case 17:return me.ThingAttrFloorChange;case 18:return me.ThingAttrFullGround;case 19:return me.ThingAttrElevation;case 20:return me.ThingAttrDisplacement;case 22:return me.ThingAttrMinimapColor;case 23:return me.ThingAttrRotateable;case 24:return me.ThingAttrLyingCorpse;case 25:return me.ThingAttrHangable;case 26:return me.ThingAttrHookSouth;case 27:return me.ThingAttrHookEast;case 28:return me.ThingAttrAnimateAlways}}return a}function Dp(){return{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1}}function Fp(a,r){const i=Dp();for(;;){const l=a.readUInt8(),c=Ap(l,r);switch(c){case me.ThingAttrLast:return i;case me.ThingAttrGround:i.ground=!0,i.groundSpeed=a.readUInt16();break;case me.ThingAttrGroundBorder:i.groundBorder=!0;break;case me.ThingAttrOnBottom:i.onBottom=!0;break;case me.ThingAttrOnTop:i.onTop=!0;break;case me.ThingAttrContainer:i.container=!0;break;case me.ThingAttrStackable:i.stackable=!0;break;case me.ThingAttrForceUse:i.forceUse=!0;break;case me.ThingAttrMultiUse:i.multiUse=!0;break;case me.ThingAttrWritable:i.writable=!0,i.writableMaxLen=a.readUInt16();break;case me.ThingAttrWritableOnce:i.writableOnce=!0,i.writableOnceMaxLen=a.readUInt16();break;case me.ThingAttrFluidContainer:i.fluidContainer=!0;break;case me.ThingAttrSplash:i.splash=!0;break;case me.ThingAttrNotWalkable:i.notWalkable=!0;break;case me.ThingAttrNotMoveable:i.notMoveable=!0;break;case me.ThingAttrBlockProjectile:i.blockProjectile=!0;break;case me.ThingAttrNotPathable:i.notPathable=!0;break;case me.ThingAttrPickupable:i.pickupable=!0;break;case me.ThingAttrHangable:i.hangable=!0;break;case me.ThingAttrHookSouth:i.hookSouth=!0;break;case me.ThingAttrHookEast:i.hookEast=!0;break;case me.ThingAttrRotateable:i.rotateable=!0;break;case me.ThingAttrLight:{i.hasLight=!0;const d=a.readLight();i.lightLevel=d.level,i.lightColor=d.color;break}case me.ThingAttrDontHide:i.dontHide=!0;break;case me.ThingAttrTranslucent:i.translucent=!0;break;case me.ThingAttrDisplacement:{if(i.hasDisplacement=!0,r>=755){const d=a.readLight();i.displacementX=d.level,i.displacementY=d.color}break}case me.ThingAttrElevation:i.hasElevation=!0,i.elevation=a.readUInt16();break;case me.ThingAttrLyingCorpse:i.lyingCorpse=!0;break;case me.ThingAttrAnimateAlways:i.animateAlways=!0;break;case me.ThingAttrMinimapColor:i.hasMinimapColor=!0,i.minimapColor=a.readUInt16();break;case me.ThingAttrLensHelp:i.lensHelp=a.readUInt16();break;case me.ThingAttrFullGround:i.fullGround=!0;break;case me.ThingAttrLook:i.look=!0;break;case me.ThingAttrCloth:i.cloth=!0,i.clothSlot=a.readUInt16();break;case me.ThingAttrMarket:i.hasMarket=!0,i.marketCategory=a.readUInt16(),i.marketTradeAs=a.readUInt16(),i.marketShowAs=a.readUInt16(),i.marketName=a.readString(),i.marketRestrictVocation=a.readUInt16(),i.marketRequiredLevel=a.readUInt16();break;case me.ThingAttrUsable:i.usable=!0,i.usableActionId=a.readUInt16();break;case me.ThingAttrWrapable:i.wrapable=!0;break;case me.ThingAttrUnwrapable:i.unwrapable=!0;break;case me.ThingAttrTopEffect:i.topEffect=!0;break;case me.ThingAttrOpacity:break;case me.ThingAttrNotPreWalkable:break;case me.ThingAttrFloorChange:break;case me.ThingAttrNoMoveAnimation:i.noMoveAnimation=!0;break;case me.ThingAttrChargeable:i.chargeable=!0;break;default:throw new Error(`Unknown flag 0x${c.toString(16)} at offset ${a.index}`)}}}function Bp(a,r,i){const l=i?a.readUInt8():0,c=a.readUInt8(),d=a.readUInt8();(c>1||d>1)&&a.readUInt8();const m=a.readUInt8(),g=a.readUInt8(),p=a.readUInt8(),k=r>=755?a.readUInt8():1,w=a.readUInt8();let y=0,A=0,I=0;const H=[];if(w>1&&r>=1050){y=a.readUInt8(),A=a.readUInt32(),I=a.readInt8();for(let J=0;J<w;J++)H.push(a.readAnimationLength())}const U=c*d*m*g*p*k*w,$=[];for(let J=0;J<U;J++)$.push(r>=960?a.readUInt32():a.readUInt16());return{type:l,width:c,height:d,layers:m,patternX:g,patternY:p,patternZ:k,animationLength:w,asynchronous:y,nLoop:A,start:I,animationLengths:H,sprites:$}}function Tp(a){const r=Ad(a);let i,l;if(r){if(r.fileType!==yo.OBJECT_DEFS)throw new Error(`Expected object definitions (0x02), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,l=xo}else{const A=new DataView(a).getUint32(0,!0).toString(16).toUpperCase();if(!(A in fd))throw new Error("Unknown object definition file format.");i=fd[A],l=4}const c=new Qi(a.slice(l)),d=c.readUInt16(),m=c.readUInt16(),g=c.readUInt16(),p=c.readUInt16(),k=d+m+g+p,w=new Map;for(let y=100;y<=k;y++){const A=c.index,I=Fp(c,i),H=y>d&&y<=d+m,U=i>=1050&&H,$=U?c.readUInt8():1,J=[];for(let Q=0;Q<$;Q++)J.push(Bp(c,i,U));const Y=c.index,se=c.buffer.slice(A,Y);let q;y<=d?q="item":y<=d+m?q="outfit":y<=d+m+g?q="effect":q="distance",w.set(y,{id:y,category:q,flags:I,frameGroups:J,rawBytes:se})}return console.log(`[OB] Parsed ${w.size} things: items=${d} outfits=${m} effects=${g} distances=${p}`),{version:i,itemCount:d,outfitCount:m,effectCount:g,distanceCount:p,things:w,originalBuffer:a}}const hd={"57BBD603":1098};function Np(a){const r=Ad(a);let i,l;if(r){if(r.fileType!==yo.SPRITE_DATA)throw new Error(`Expected sprite data (0x01), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,l=xo}else{const k=new DataView(a).getUint32(0,!0).toString(16).toUpperCase();if(!(k in hd))throw new Error("Unknown sprite file format.");i=hd[k],l=4}const c=new Uint8Array(a.slice(l)),d=new Qi(c),m=i>760?d.readUInt32():d.readUInt16(),g=new Map;for(let p=1;p<=m;p++){const k=d.readUInt32();k!==0&&g.set(p,k-l)}return console.log(`[OB] Parsed sprite index: ${m} sprites, ${g.size} non-empty`),{version:i,spriteCount:m,addresses:g,buffer:c,originalBuffer:a}}function ho(a,r){const i=a.addresses.get(r);if(i===void 0)return null;const l=a.buffer,c=l[i+3]+(l[i+4]<<8),d=new Qi(l.slice(i,i+5+c));d.readRGB(),d.skip(2);const m=new Uint32Array(1024);let g=0;for(;d.readable();){const k=d.readUInt16(),w=d.readUInt16();g+=k;for(let y=g;y<g+w;y++){const A=d.readUInt8(),I=d.readUInt8(),H=d.readUInt8(),U=d.readUInt8();m[y]=U<<24|H<<16|I<<8|A}g+=w}const p=new ImageData(32,32);return new Uint32Array(p.data.buffer).set(m),p}const po=new Map,vo=document.createElement("canvas");vo.width=32;vo.height=32;const pd=vo.getContext("2d");function da(a,r,i){if(r===0)return null;const l=po.get(r);if(l)return l;const c=(i==null?void 0:i.get(r))??ho(a,r);if(!c)return null;pd.clearRect(0,0,32,32),pd.putImageData(c,0,0);const d=vo.toDataURL();return po.set(r,d),d}function qr(){po.clear()}function md(a){po.delete(a)}const Pp=["FLAG_BLOCK_SOLID","FLAG_BLOCK_PROJECTILE","FLAG_BLOCK_PATHFIND","FLAG_HAS_HEIGHT","FLAG_USEABLE","FLAG_PICKUPABLE","FLAG_MOVEABLE","FLAG_STACKABLE","FLAG_FLOORCHANGEDOWN","FLAG_FLOORCHANGENORTH","FLAG_FLOORCHANGEEAST","FLAG_FLOORCHANGESOUTH","FLAG_FLOORCHANGEWEST","FLAG_ALWAYSONTOP","FLAG_READABLE","FLAG_ROTATABLE","FLAG_HANGABLE","FLAG_VERTICAL","FLAG_HORIZONTAL","FLAG_CANNOTDECAY","FLAG_ALLOWDISTREAD","FLAG_UNUSED","FLAG_CLIENTCHARGES","FLAG_LOOKTHROUGH","FLAG_ANIMATION","FLAG_FULLTILE","FLAG_FORCEUSE"];function Lp(a){let r=0;return a.notWalkable&&(r|=1),a.blockProjectile&&(r|=2),a.notPathable&&(r|=4),a.hasElevation&&(r|=8),(a.forceUse||a.multiUse)&&(r|=16),a.pickupable&&(r|=32),a.notMoveable||(r|=64),a.stackable&&(r|=128),a.onTop&&(r|=8192),(a.writable||a.writableOnce)&&(r|=16384),a.rotateable&&(r|=32768),a.hangable&&(r|=65536),a.hookSouth&&(r|=1<<17),a.hookEast&&(r|=1<<18),a.chargeable&&(r|=1<<22),a.translucent&&(r|=1<<23),a.animateAlways&&(r|=1<<24),a.forceUse&&(r|=1<<26),r}function la(a,r){return a&-96985344|Lp(r)}function aa(a){return a.ground||a.groundBorder?1:a.container?2:a.splash?11:a.fluidContainer?12:0}const re=Ep((a,r)=>({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,itemDefinitions:new Map,clientToServerIds:new Map,definitionsLoaded:!1,sourceDir:null,sourceNames:{},activeCategory:"item",selectedThingId:null,searchQuery:"",editVersion:0,focusSpriteId:null,loadFiles:(i,l)=>{a({loading:!0,error:null});try{const c=Tp(i),d=Np(l);qr(),a({objectData:c,spriteData:d,loaded:!0,loading:!1,selectedThingId:100,activeCategory:"item",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null,...r().definitionsLoaded?{}:{itemDefinitions:new Map,clientToServerIds:new Map,definitionsLoaded:!1}})}catch(c){a({error:c instanceof Error?c.message:String(c),loading:!1})}},loadDefinitions:i=>{const l=new Map,c=new Map;for(const[d,m]of Object.entries(i)){const g=parseInt(d,10);if(isNaN(g))continue;const p=m.id??g;l.set(g,{serverId:g,id:p,flags:m.flags??0,group:m.group??0,properties:m.properties?{...m.properties}:null}),(!c.has(p)||g===p)&&c.set(p,g)}a({itemDefinitions:l,clientToServerIds:c,definitionsLoaded:!0}),console.log(`[OB] Loaded ${l.size} definitions (by serverId), ${c.size} clientserver mappings`)},setSourceDir:(i,l)=>{a({sourceDir:i,sourceNames:{...r().sourceNames,...l}})},setActiveCategory:i=>{const l=r().getCategoryRange(i);a({activeCategory:i,selectedThingId:l?l.start:null,searchQuery:""})},setSelectedThingId:i=>a({selectedThingId:i}),setSearchQuery:i=>a({searchQuery:i}),reset:()=>{qr(),a({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,activeCategory:"item",selectedThingId:null,searchQuery:"",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null,itemDefinitions:new Map,clientToServerIds:new Map,definitionsLoaded:!1})},updateItemDefinition:(i,l)=>{const{itemDefinitions:c,clientToServerIds:d,editVersion:m}=r(),g=d.get(i)??i,p=c.get(g),k={serverId:g,id:l.id??(p==null?void 0:p.id)??i,flags:l.flags??(p==null?void 0:p.flags)??0,group:l.group??(p==null?void 0:p.group)??0,properties:l.properties!==void 0?l.properties?{...(p==null?void 0:p.properties)??{},...l.properties}:null:p!=null&&p.properties?{...p.properties}:null},w=new Map(c);w.set(g,k);const y=new Map(d);y.has(i)||y.set(i,g),a({itemDefinitions:w,clientToServerIds:y,dirty:!0,editVersion:m+1})},updateThingFlags:(i,l)=>{const{objectData:c,undoStack:d,dirtyIds:m,editVersion:g,itemDefinitions:p}=r();if(!c)return;const k=c.things.get(i);if(!k)return;const w={...k.flags};k.flags=l,k.rawBytes=void 0;const y=new Set(m);if(y.add(i),k.category==="item"){const{clientToServerIds:A}=r(),I=A.get(i)??i,H=p.get(I),U=(H==null?void 0:H.flags)??0,$=la(U,l),J=aa(l),Y={serverId:I,id:(H==null?void 0:H.id)??i,flags:$,group:J,properties:H!=null&&H.properties?{...H.properties}:null},se=new Map(p);se.set(I,Y),a({dirty:!0,dirtyIds:y,undoStack:[...d,{thingId:i,oldFlags:w,newFlags:{...l}}],redoStack:[],editVersion:g+1,itemDefinitions:se})}else a({dirty:!0,dirtyIds:y,undoStack:[...d,{thingId:i,oldFlags:w,newFlags:{...l}}],redoStack:[],editVersion:g+1})},undo:()=>{const{objectData:i,undoStack:l,redoStack:c,editVersion:d,itemDefinitions:m}=r();if(!i||l.length===0)return;const g=l[l.length-1],p=i.things.get(g.thingId);if(p&&(p.flags={...g.oldFlags},p.category==="item")){const{clientToServerIds:k}=r(),w=k.get(g.thingId)??g.thingId,y=m.get(w),A=new Map(m);A.set(w,{serverId:w,id:(y==null?void 0:y.id)??g.thingId,flags:la((y==null?void 0:y.flags)??0,g.oldFlags),group:aa(g.oldFlags),properties:y!=null&&y.properties?{...y.properties}:null}),a({undoStack:l.slice(0,-1),redoStack:[...c,g],editVersion:d+1,itemDefinitions:A});return}a({undoStack:l.slice(0,-1),redoStack:[...c,g],editVersion:d+1})},redo:()=>{const{objectData:i,undoStack:l,redoStack:c,editVersion:d,itemDefinitions:m}=r();if(!i||c.length===0)return;const g=c[c.length-1],p=i.things.get(g.thingId);if(p&&(p.flags={...g.newFlags},p.category==="item")){const{clientToServerIds:k}=r(),w=k.get(g.thingId)??g.thingId,y=m.get(w),A=new Map(m);A.set(w,{serverId:w,id:(y==null?void 0:y.id)??g.thingId,flags:la((y==null?void 0:y.flags)??0,g.newFlags),group:aa(g.newFlags),properties:y!=null&&y.properties?{...y.properties}:null}),a({undoStack:[...l,g],redoStack:c.slice(0,-1),editVersion:d+1,itemDefinitions:A});return}a({undoStack:[...l,g],redoStack:c.slice(0,-1),editVersion:d+1})},replaceSprite:(i,l)=>{const{spriteOverrides:c,dirtySpriteIds:d,editVersion:m}=r(),g=new Map(c);g.set(i,l);const p=new Set(d);p.add(i),md(i),a({dirty:!0,spriteOverrides:g,dirtySpriteIds:p,editVersion:m+1})},addSprite:i=>{const{spriteData:l,spriteOverrides:c,dirtySpriteIds:d,editVersion:m}=r();if(!l)return null;l.spriteCount++;const g=l.spriteCount,p=new Map(c);p.set(g,i);const k=new Set(d);return k.add(g),a({dirty:!0,spriteOverrides:p,dirtySpriteIds:k,editVersion:m+1}),g},deleteSprite:i=>{const{spriteOverrides:l,dirtySpriteIds:c,editVersion:d}=r();if(i<=0)return;const m=new ImageData(32,32),g=new Map(l);g.set(i,m);const p=new Set(c);p.add(i),md(i),a({dirty:!0,spriteOverrides:g,dirtySpriteIds:p,editVersion:d+1})},addThing:i=>{const{objectData:l,editVersion:c}=r();if(!l)return null;let d;switch(i){case"item":l.itemCount++,d=l.itemCount;break;case"outfit":l.outfitCount++,d=l.itemCount+l.outfitCount;break;case"effect":l.effectCount++,d=l.itemCount+l.outfitCount+l.effectCount;break;case"distance":l.distanceCount++,d=l.itemCount+l.outfitCount+l.effectCount+l.distanceCount;break}const p={id:d,category:i,flags:{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1},frameGroups:[{type:0,width:1,height:1,layers:1,patternX:1,patternY:1,patternZ:1,animationLength:1,asynchronous:0,nLoop:0,start:0,animationLengths:[{min:0,max:0}],sprites:[0]}]};l.things.set(d,p);const k=new Set(r().dirtyIds);return k.add(d),a({dirty:!0,dirtyIds:k,selectedThingId:d,editVersion:c+1}),d},removeThing:i=>{const{objectData:l,editVersion:c,activeCategory:d}=r();if(!l||!l.things.get(i))return;const g=r().getCategoryRange(d);if(!g)return;const p=g.end;if(i!==p)return;switch(l.things.delete(i),d){case"item":l.itemCount--;break;case"outfit":l.outfitCount--;break;case"effect":l.effectCount--;break;case"distance":l.distanceCount--;break}const k=i>g.start?i-1:g.start;a({dirty:!0,selectedThingId:l.things.has(k)?k:null,editVersion:c+1})},importThing:(i,l,c,d)=>{const{objectData:m,spriteData:g,editVersion:p,spriteOverrides:k,dirtySpriteIds:w}=r();if(!m||!g)return null;let y;switch(i){case"item":m.itemCount++,y=m.itemCount;break;case"outfit":m.outfitCount++,y=m.itemCount+m.outfitCount;break;case"effect":m.effectCount++,y=m.itemCount+m.outfitCount+m.effectCount;break;case"distance":m.distanceCount++,y=m.itemCount+m.outfitCount+m.effectCount+m.distanceCount;break}const A=new Map(k),I=new Set(w),H=new Map;for(const[Y,se]of d){if(Y===0||H.has(Y))continue;g.spriteCount++;const q=g.spriteCount;H.set(Y,q),A.set(q,se),I.add(q)}const U=c.map((Y,se)=>({...Y,type:se,sprites:Y.sprites.map(q=>q===0?0:H.get(q)??q),animationLengths:Y.animationLengths.map(q=>({...q}))})),$={id:y,category:i,flags:{...l},frameGroups:U};m.things.set(y,$);const J=new Set(r().dirtyIds);return J.add(y),qr(),a({dirty:!0,dirtyIds:J,spriteOverrides:A,dirtySpriteIds:I,selectedThingId:y,activeCategory:i,editVersion:p+1}),y},replaceThing:(i,l,c,d)=>{const{objectData:m,spriteData:g,editVersion:p,spriteOverrides:k,dirtySpriteIds:w}=r();if(!m||!g)return!1;const y=m.things.get(i);if(!y)return!1;const A=new Map(k),I=new Set(w),H=new Map;for(const[Y,se]of d){if(Y===0||H.has(Y))continue;g.spriteCount++;const q=g.spriteCount;H.set(Y,q),A.set(q,se),I.add(q)}const U=c.map((Y,se)=>({...Y,type:se,sprites:Y.sprites.map(q=>q===0?0:H.get(q)??q),animationLengths:Y.animationLengths.map(q=>({...q}))})),$={id:i,category:y.category,flags:{...l},frameGroups:U};m.things.set(i,$);const J=new Set(r().dirtyIds);return J.add(i),qr(),a({dirty:!0,dirtyIds:J,spriteOverrides:A,dirtySpriteIds:I,editVersion:p+1}),!0},markClean:()=>a({dirty:!1,dirtyIds:new Set,dirtySpriteIds:new Set}),getCategoryRange:i=>{const l=r().objectData;if(!l)return null;switch(i){case"item":return{start:100,end:l.itemCount};case"outfit":return{start:l.itemCount+1,end:l.itemCount+l.outfitCount};case"effect":return{start:l.itemCount+l.outfitCount+1,end:l.itemCount+l.outfitCount+l.effectCount};case"distance":return{start:l.itemCount+l.outfitCount+l.effectCount+1,end:l.itemCount+l.outfitCount+l.effectCount+l.distanceCount}}}}));function nr(a,r){return r<=a.itemCount?r:r<=a.itemCount+a.outfitCount?r-a.itemCount-1:r<=a.itemCount+a.outfitCount+a.effectCount?r-a.itemCount-a.outfitCount-1:r-a.itemCount-a.outfitCount-a.effectCount-1}function Ip(a,r,i,l){if(!a)return[];const c=l(r);if(!c)return[];const d=[];for(let m=c.start;m<=c.end;m++){const g=a.things.get(m);if(g){if(i&&!nr(a,m).toString().includes(i))continue;d.push(g)}}return d}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dd=(...a)=>a.filter((r,i,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=te.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:m,...g},p)=>te.createElement("svg",{ref:p,...Mp,width:r,height:r,stroke:a,strokeWidth:l?Number(i)*24/Number(r):i,className:Dd("lucide",c),...g},[...m.map(([k,w])=>te.createElement(k,w)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(a,r)=>{const i=te.forwardRef(({className:l,...c},d)=>te.createElement(Rp,{ref:d,iconNode:r,className:Dd(`lucide-${jp(a)}`,l),...c}));return i.displayName=`${a}`,i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ke("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=Ke("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Ke("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=Ke("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=Ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=Ke("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ke("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Ke("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function sm(){const a=re(Q=>Q.loadFiles),r=re(Q=>Q.loading),i=re(Q=>Q.error),[l,c]=te.useState(!1),d=re(Q=>Q.loadDefinitions),m=re(Q=>Q.setSourceDir),g=te.useRef(null),p=te.useRef(null),[k,w]=te.useState(null),[y,A]=te.useState(null),[I,H]=te.useState(null),U=te.useRef(null),$=te.useCallback(()=>{if(!(!g.current||!p.current)){if(U.current){try{const Q=new TextDecoder().decode(U.current),N=JSON.parse(Q);d(N)}catch(Q){console.error("Failed to parse definitions JSON:",Q)}U.current=null}a(g.current,p.current)}},[a,d]),J=te.useCallback(Q=>{var V;const N=(V=Q.name.split(".").pop())==null?void 0:V.toLowerCase(),ae=new FileReader;ae.onload=ye=>{var fe;const pe=(fe=ye.target)==null?void 0:fe.result;N==="dat"||N==="eobj"?(g.current=pe,w(Q.name)):N==="spr"||N==="espr"?(p.current=pe,A(Q.name)):N==="json"&&(U.current=pe,H(Q.name)),$()},ae.readAsArrayBuffer(Q)},[$]),Y=te.useCallback(async()=>{var Q;if(typeof window.showDirectoryPicker=="function")try{const N=await window.showDirectoryPicker({mode:"readwrite"}),ae={};for await(const[V,ye]of N.entries()){if(ye.kind!=="file")continue;const pe=(Q=V.split(".").pop())==null?void 0:Q.toLowerCase();if((pe==="eobj"||pe==="dat")&&!ae.obj){ae.obj=V;const fe=await ye.getFile();g.current=await fe.arrayBuffer(),w(V)}else if((pe==="espr"||pe==="spr")&&!ae.spr){ae.spr=V;const fe=await ye.getFile();p.current=await fe.arrayBuffer(),A(V)}else if(pe==="json"&&V.toLowerCase().includes("definition")&&!ae.def){ae.def=V;const fe=await ye.getFile();U.current=await fe.arrayBuffer(),H(V)}}m(N,ae),console.log("[OB] Opened folder:",N.name,ae),$()}catch{}},[$,m]),se=te.useCallback(Q=>{Q.preventDefault(),c(!1),Array.from(Q.dataTransfer.files).forEach(J)},[J]),q=te.useCallback(Q=>{Array.from(Q.target.files||[]).forEach(N=>J(N))},[J]);return f.jsx("div",{className:"h-full flex items-center justify-center bg-emperia-bg p-8",children:f.jsxs("div",{className:"max-w-lg w-full",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-3xl font-bold text-emperia-text mb-2",children:"Emperia Object Builder"}),f.jsx("p",{className:"text-emperia-muted text-sm",children:"v1.0.0  Web Edition"})]}),f.jsxs("div",{onDragOver:Q=>{Q.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:se,className:`
            border-2 border-dashed rounded-xl p-12 text-center cursor-pointer
            transition-all duration-200
            ${l?"border-emperia-accent bg-emperia-accent/10":"border-emperia-border hover:border-emperia-muted bg-emperia-surface"}
          `,onClick:()=>{var Q;return(Q=document.getElementById("file-input"))==null?void 0:Q.click()},children:[f.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:".dat,.spr,.eobj,.espr,.json",className:"hidden",onChange:q}),r?f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx(Yp,{className:"w-12 h-12 text-emperia-accent animate-spin"}),f.jsx("p",{className:"text-emperia-text",children:"Loading files"})]}):f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx(Nd,{className:"w-12 h-12 text-emperia-muted"}),f.jsx("p",{className:"text-emperia-text font-medium",children:"Drop your files here"}),f.jsxs("p",{className:"text-emperia-muted text-sm",children:["Drag & drop ",f.jsx("code",{className:"text-emperia-accent",children:".eobj"})," + ",f.jsx("code",{className:"text-emperia-accent",children:".espr"})," files",f.jsx("br",{}),"or legacy ",f.jsx("code",{className:"text-emperia-accent",children:".dat"})," + ",f.jsx("code",{className:"text-emperia-accent",children:".spr"}),f.jsx("br",{}),f.jsxs("span",{className:"text-emperia-muted/60",children:["+ optional ",f.jsx("code",{className:"text-emperia-accent",children:"definitions.json"})]})]})]})]}),typeof window.showDirectoryPicker=="function"&&f.jsxs("div",{className:"mt-4 flex flex-col items-center gap-2",children:[f.jsxs("div",{className:"flex items-center gap-3 text-emperia-muted/40 text-xs w-full",children:[f.jsx("div",{className:"flex-1 h-px bg-emperia-border/40"}),f.jsx("span",{children:"or"}),f.jsx("div",{className:"flex-1 h-px bg-emperia-border/40"})]}),f.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-emperia-accent/10 border border-emperia-accent/30 text-emperia-accent hover:bg-emperia-accent/20 transition-colors text-sm font-medium",children:[f.jsx(Sa,{className:"w-4 h-4"}),"Open Folder"]}),f.jsx("p",{className:"text-emperia-muted/50 text-[10px] text-center",children:"Auto-detects files & saves directly back on compile"})]}),f.jsxs("div",{className:"mt-4 flex gap-4 justify-center text-xs",children:[f.jsxs("div",{className:`flex items-center gap-1.5 ${k?"text-green-400":"text-emperia-muted"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${k?"bg-green-400":"bg-emperia-border"}`}),k||"Objects (.eobj / .dat)"]}),f.jsxs("div",{className:`flex items-center gap-1.5 ${y?"text-green-400":"text-emperia-muted"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${y?"bg-green-400":"bg-emperia-border"}`}),y||"Sprites (.espr / .spr)"]}),f.jsxs("div",{className:`flex items-center gap-1.5 ${I?"text-green-400":"text-emperia-muted/50"}`,children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${I?"bg-green-400":"bg-emperia-border/50"}`}),I||"Definitions (.json)  optional"]})]}),i&&f.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[f.jsx(Gp,{className:"w-4 h-4 text-red-400 mt-0.5 shrink-0"}),f.jsx("p",{className:"text-red-300 text-sm",children:i})]})]})})}class Pd{constructor(r=4096){L(this,"chunks",[]);L(this,"current");L(this,"pos",0);this.current=new Uint8Array(r)}ensure(r){if(this.pos+r<=this.current.length)return;this.chunks.push(this.current.slice(0,this.pos));const i=Math.max(this.current.length*2,r+1024);this.current=new Uint8Array(i),this.pos=0}writeUInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeUInt16(r){this.ensure(2),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255}writeUInt32(r){this.ensure(4),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255,this.current[this.pos++]=r>>16&255,this.current[this.pos++]=r>>24&255}writeBytes(r){this.ensure(r.length),this.current.set(r,this.pos),this.pos+=r.length}writeString(r){const i=new TextEncoder().encode(r);this.writeUInt16(i.length),this.ensure(i.length),this.current.set(i,this.pos),this.pos+=i.length}toArrayBuffer(){this.chunks.push(this.current.slice(0,this.pos));const r=this.chunks.reduce((c,d)=>c+d.length,0),i=new Uint8Array(r);let l=0;for(const c of this.chunks)i.set(c,l),l+=c.length;return this.chunks=[],this.current=new Uint8Array(4096),this.pos=0,i.buffer}}const Te={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function om(a,r,i){const l=c=>{if(i>=1e3){if(c===Te.ThingAttrNoMoveAnimation){a.writeUInt8(16);return}if(c===Te.ThingAttrChargeable){a.writeUInt8(Te.ThingAttrChargeable+1);return}if(c>=16){a.writeUInt8(c+1);return}}a.writeUInt8(c)};r.ground&&(l(Te.ThingAttrGround),a.writeUInt16(r.groundSpeed??0)),r.groundBorder&&l(Te.ThingAttrGroundBorder),r.onBottom&&l(Te.ThingAttrOnBottom),r.onTop&&l(Te.ThingAttrOnTop),r.container&&l(Te.ThingAttrContainer),r.stackable&&l(Te.ThingAttrStackable),r.forceUse&&l(Te.ThingAttrForceUse),r.multiUse&&l(Te.ThingAttrMultiUse),r.writable&&(l(Te.ThingAttrWritable),a.writeUInt16(r.writableMaxLen??0)),r.writableOnce&&(l(Te.ThingAttrWritableOnce),a.writeUInt16(r.writableOnceMaxLen??0)),r.fluidContainer&&l(Te.ThingAttrFluidContainer),r.splash&&l(Te.ThingAttrSplash),r.notWalkable&&l(Te.ThingAttrNotWalkable),r.notMoveable&&l(Te.ThingAttrNotMoveable),r.blockProjectile&&l(Te.ThingAttrBlockProjectile),r.notPathable&&l(Te.ThingAttrNotPathable),r.pickupable&&l(Te.ThingAttrPickupable),r.hangable&&l(Te.ThingAttrHangable),r.hookSouth&&l(Te.ThingAttrHookSouth),r.hookEast&&l(Te.ThingAttrHookEast),r.rotateable&&l(Te.ThingAttrRotateable),r.hasLight&&(l(Te.ThingAttrLight),a.writeUInt16(r.lightLevel??0),a.writeUInt16(r.lightColor??0)),r.dontHide&&l(Te.ThingAttrDontHide),r.translucent&&l(Te.ThingAttrTranslucent),r.hasDisplacement&&(l(Te.ThingAttrDisplacement),i>=755&&(a.writeUInt16(r.displacementX??0),a.writeUInt16(r.displacementY??0))),r.hasElevation&&(l(Te.ThingAttrElevation),a.writeUInt16(r.elevation??0)),r.lyingCorpse&&l(Te.ThingAttrLyingCorpse),r.animateAlways&&l(Te.ThingAttrAnimateAlways),r.hasMinimapColor&&(l(Te.ThingAttrMinimapColor),a.writeUInt16(r.minimapColor??0)),r.lensHelp!=null&&(l(Te.ThingAttrLensHelp),a.writeUInt16(r.lensHelp)),r.fullGround&&l(Te.ThingAttrFullGround),r.look&&l(Te.ThingAttrLook),r.cloth&&(l(Te.ThingAttrCloth),a.writeUInt16(r.clothSlot??0)),r.hasMarket&&(l(Te.ThingAttrMarket),a.writeUInt16(r.marketCategory??0),a.writeUInt16(r.marketTradeAs??0),a.writeUInt16(r.marketShowAs??0),a.writeString(r.marketName??""),a.writeUInt16(r.marketRestrictVocation??0),a.writeUInt16(r.marketRequiredLevel??0)),r.usable&&(l(Te.ThingAttrUsable),a.writeUInt16(r.usableActionId??0)),r.wrapable&&l(Te.ThingAttrWrapable),r.unwrapable&&l(Te.ThingAttrUnwrapable),r.topEffect&&l(Te.ThingAttrTopEffect),r.noMoveAnimation&&l(Te.ThingAttrNoMoveAnimation),r.chargeable&&l(Te.ThingAttrChargeable),a.writeUInt8(Te.ThingAttrLast)}function lm(a,r,i,l){if(l&&a.writeUInt8(r.type),a.writeUInt8(r.width),a.writeUInt8(r.height),(r.width>1||r.height>1)&&a.writeUInt8(Math.max(r.width,r.height)),a.writeUInt8(r.layers),a.writeUInt8(r.patternX),a.writeUInt8(r.patternY),i>=755&&a.writeUInt8(r.patternZ),a.writeUInt8(r.animationLength),r.animationLength>1&&i>=1050){a.writeUInt8(r.asynchronous),a.writeUInt32(r.nLoop),a.writeUInt8(r.start&255);for(let c=0;c<r.animationLength;c++){const d=r.animationLengths[c]??{min:100,max:100};a.writeUInt32(d.min),a.writeUInt32(d.max)}}for(const c of r.sprites)i>=960?a.writeUInt32(c):a.writeUInt16(c)}function am(a,r){if(!r||r.size===0)return console.log("[OB] Compile: no edits, returning original buffer"),a.originalBuffer.slice(0);console.log(`[OB] Compile: rebuilding with ${r.size} edited thing(s)`);const i=new Pd(1024*1024),l=new Uint8Array(a.originalBuffer,0,28);i.writeBytes(l);const c=a.itemCount+a.outfitCount+a.effectCount+a.distanceCount;for(let d=100;d<=c;d++){const m=a.things.get(d);if(!m){i.writeUInt8(Te.ThingAttrLast),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),a.version>=755&&i.writeUInt8(1),i.writeUInt8(1),a.version>=960?i.writeUInt32(0):i.writeUInt16(0);continue}if(m.rawBytes&&!r.has(d)){i.writeBytes(m.rawBytes);continue}om(i,m.flags,a.version);const g=m.category==="outfit",p=a.version>=1050&&g;p&&i.writeUInt8(m.frameGroups.length);for(const k of m.frameGroups)lm(i,k,a.version,p)}return i.toArrayBuffer()}const gd=32,ro=gd*gd;function um(a){const r=new Uint32Array(a.data.buffer),i=[];let l=0;for(;l<ro;){let g=0;for(;l+g<ro&&!((r[l+g]>>24&255)>0);)g++;let p=l+g,k=0;for(;p+k<ro&&(r[p+k]>>24&255)!==0;)k++;if(g>0&&k===0&&l+g>=ro)break;const w=new Uint8Array(4+k*4),y=new DataView(w.buffer);y.setUint16(0,g,!0),y.setUint16(2,k,!0);for(let A=0;A<k;A++){const I=r[p+A];w[4+A*4+0]=I&255,w[4+A*4+1]=I>>8&255,w[4+A*4+2]=I>>16&255,w[4+A*4+3]=I>>24&255}i.push(w),l=p+k}const c=i.reduce((g,p)=>g+p.length,0),d=new Uint8Array(5+c);d[0]=255,d[1]=0,d[2]=255,d[3]=c&255,d[4]=c>>8&255;let m=5;for(const g of i)d.set(g,m),m+=g.length;return d}function cm(a,r){if(!r||r.size===0)return console.log("[OB] Sprite compile: no edits, returning original buffer"),a.originalBuffer.slice(0);console.log(`[OB] Sprite compile: rebuilding with ${r.size} modified sprite(s)`);const i=new Map;for(const[y,A]of r)i.set(y,um(A));const l=new Map;for(let y=1;y<=a.spriteCount;y++){const A=i.get(y);if(A)l.set(y,A);else{const I=a.addresses.get(y);if(I!==void 0){const H=a.buffer,U=H[I+3]+(H[I+4]<<8);l.set(y,H.slice(I,I+5+U))}}}const c=xo,d=a.version>760?4:2,m=a.spriteCount*4,g=c+d+m,p=new Map;let k=g;for(let y=1;y<=a.spriteCount;y++){const A=l.get(y);A&&(p.set(y,k),k+=A.length)}const w=new Pd(k+1024);for(let y=0;y<fo.length;y++)w.writeUInt8(fo[y]);w.writeUInt8(yo.SPRITE_DATA),w.writeUInt16(1),w.writeUInt32(a.version),w.writeUInt8(0),w.writeUInt32(0),a.version>760?w.writeUInt32(a.spriteCount):w.writeUInt16(a.spriteCount);for(let y=1;y<=a.spriteCount;y++)w.writeUInt32(p.get(y)??0);for(let y=1;y<=a.spriteCount;y++){const A=l.get(y);A&&w.writeBytes(A)}return w.toArrayBuffer()}function dm(){const a=re(y=>y.objectData),r=re(y=>y.spriteData),i=re(y=>y.reset),l=re(y=>y.dirty),c=re(y=>y.undo),d=re(y=>y.redo),m=re(y=>y.undoStack),g=re(y=>y.redoStack),p=re(y=>y.markClean),k=re(y=>y.dirtyIds);te.useEffect(()=>{const y=A=>{l&&A.preventDefault()};return window.addEventListener("beforeunload",y),()=>window.removeEventListener("beforeunload",y)},[l]);const w=async()=>{if(!a||!r)return;const{spriteOverrides:y,itemDefinitions:A,sourceDir:I,sourceNames:H}=re.getState();async function U(se,q,Q){if(I&&q)try{const ae=await(await I.getFileHandle(q,{create:!0})).createWritable();await ae.write(se),await ae.close();return}catch(N){console.warn(`[OB] Failed to write ${q} to folder, falling back to download:`,N)}xd(se,Q)}const $=am(a,k);await U($,H.obj,"emperia.eobj");const J=cm(r,y);await U(J,H.spr,"emperia.espr");{const se=Array.from(A.keys()).sort((N,ae)=>N-ae),q={};for(const N of se){const ae=A.get(N);let V=null;if(ae.properties){V={};for(const[pe,fe]of Object.entries(ae.properties))fe!=null&&fe!==""&&(V[pe]=fe);Object.keys(V).length===0&&(V=null)}const ye={};ae.id!=null&&(ye.id=ae.id),ye.flags=ae.flags,ye.group=ae.group,ye.properties=V,q[String(N)]=ye}const Q=JSON.stringify(q,null,4);await U(new TextEncoder().encode(Q).buffer,H.def,"definitions.json")}const Y=JSON.stringify({version:1,features:{spriteDataSize:4096,transparency:!0,spriteSize:32,frameDurations:!0,extended:!0,frameGroups:!0},contentVersion:a.version,format:"emperia-asset-manifest",files:{sprites:"emperia.espr",objects:"emperia.eobj"}},null,2);xd(new TextEncoder().encode(Y).buffer,"emperia.easset"),p(),I&&console.log("[OB] Saved to source folder:",I.name)};return te.useEffect(()=>{const y=A=>{(A.ctrlKey||A.metaKey)&&A.key==="z"&&!A.shiftKey&&(A.preventDefault(),c()),(A.ctrlKey||A.metaKey)&&(A.key==="y"||A.key==="z"&&A.shiftKey)&&(A.preventDefault(),d()),(A.ctrlKey||A.metaKey)&&A.key==="s"&&(A.preventDefault(),w())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)}),f.jsxs("div",{className:"h-10 flex items-center px-3 gap-2 bg-emperia-surface border-b border-emperia-border shrink-0",children:[f.jsx("span",{className:"text-sm font-bold text-emperia-text tracking-wide",children:"Emperia Object Builder"}),f.jsx("span",{className:"text-xs text-emperia-muted",children:"v1.0.0"}),l&&f.jsx("span",{title:"Unsaved changes",children:f.jsx(Hp,{className:"w-2 h-2 fill-amber-400 text-amber-400"})}),f.jsx("div",{className:"flex-1"}),a&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center gap-3 text-xs text-emperia-muted mr-2",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx($p,{className:"w-3 h-3"}),"v",a.version]}),f.jsxs("span",{children:[a.things.size," objects"]})]}),f.jsx("button",{onClick:c,disabled:m.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Undo (Ctrl+Z)",children:f.jsx(nm,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:d,disabled:g.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Redo (Ctrl+Y)",children:f.jsx(Jp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-5 bg-emperia-border mx-1"}),f.jsxs("button",{onClick:w,className:`flex items-center gap-1.5 px-2.5 py-1 rounded text-xs font-medium
                       bg-emperia-accent/20 text-emperia-accent hover:bg-emperia-accent/30
                       transition-colors`,title:"Compile and download .eobj + .espr",children:[f.jsx(Fd,{className:"w-3.5 h-3.5"}),"Compile"]})]}),f.jsxs("button",{onClick:i,className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs
                   text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                   transition-colors`,children:[f.jsx(Sa,{className:"w-3.5 h-3.5"}),"Open"]})]})}function xd(a,r){const i=new Blob([a],{type:"application/octet-stream"}),l=URL.createObjectURL(i),c=document.createElement("a");c.href=l,c.download=r,c.click(),URL.revokeObjectURL(l)}const fm=[{key:"item",label:"Items",icon:Kp},{key:"outfit",label:"Outfits",icon:qp},{key:"effect",label:"Effects",icon:em},{key:"distance",label:"Distance",icon:Op}];function hm(){const a=re(w=>w.activeCategory),r=re(w=>w.setActiveCategory),i=re(w=>w.objectData),l=re(w=>w.searchQuery),c=re(w=>w.setSearchQuery),d=re(w=>w.selectedThingId),m=re(w=>w.addThing),g=re(w=>w.removeThing),p=re(w=>w.getCategoryRange);re(w=>w.editVersion);const k=w=>{if(!i)return 0;switch(w){case"item":return i.itemCount-99;case"outfit":return i.outfitCount;case"effect":return i.effectCount;case"distance":return i.distanceCount}};return f.jsxs("div",{className:"shrink-0",children:[f.jsx("div",{className:"flex border-b border-emperia-border",children:fm.map(({key:w,label:y,icon:A})=>f.jsxs("button",{onClick:()=>r(w),className:`
              flex-1 flex flex-col items-center gap-0.5 py-2 text-xs transition-colors
              ${a===w?"text-emperia-accent border-b-2 border-emperia-accent bg-emperia-accent/5":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}
            `,children:[f.jsx(A,{className:"w-4 h-4"}),f.jsx("span",{children:y}),f.jsx("span",{className:"text-[10px] opacity-60",children:k(w)})]},w))}),f.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1",children:[f.jsxs("div",{className:"flex items-center gap-1.5 bg-emperia-surface rounded px-2 py-1 flex-1",children:[f.jsx(Td,{className:"w-3.5 h-3.5 text-emperia-muted shrink-0"}),f.jsx("input",{type:"text",placeholder:"Search by ID",value:l,onChange:w=>c(w.target.value),className:"bg-transparent text-xs text-emperia-text placeholder-emperia-muted/50 outline-none w-full"})]}),f.jsx("button",{onClick:()=>m(a),disabled:!i,className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-green-400 hover:border-green-400/50 disabled:opacity-30 transition-colors",title:`Add new ${a}`,children:f.jsx(Bd,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>{if(!d||!i)return;const w=p(a);if(!w||d!==w.end)return;const y=i?nr(i,d):d;confirm(`Remove ${a} #${y}? Only the last entry can be removed.`)&&g(d)},disabled:!i||!d||(()=>{const w=p(a);return!w||d!==w.end})(),className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-red-400 hover:border-red-400/50 disabled:opacity-30 transition-colors",title:`Remove last ${a}`,children:f.jsx(Qp,{className:"w-3.5 h-3.5"})})]})]})}const Fn=40,yd=20;function pm(){const a=re(V=>V.objectData),r=re(V=>V.activeCategory),i=re(V=>V.searchQuery),l=re(V=>V.getCategoryRange),c=re(V=>V.selectedThingId),d=re(V=>V.setSelectedThingId),m=re(V=>V.spriteData),g=re(V=>V.spriteOverrides),p=re(V=>V.editVersion),k=te.useMemo(()=>Ip(a,r,i,l),[a,r,i,l,p]),w=te.useRef(null),[y,A]=te.useState(0),[I,H]=te.useState(0),U=6,$=Math.ceil(k.length/U),J=$*Fn,Y=Math.max(0,Math.floor(y/Fn)-yd),se=Math.min($,Math.ceil((y+I)/Fn)+yd),q=Y*U,Q=Math.min(k.length,se*U),N=k.slice(q,Q),ae=te.useCallback(()=>{w.current&&A(w.current.scrollTop)},[]);return te.useEffect(()=>{const V=w.current;if(!V)return;const ye=new ResizeObserver(()=>H(V.clientHeight));return ye.observe(V),H(V.clientHeight),()=>ye.disconnect()},[]),te.useEffect(()=>{const V=ye=>{var be;if(!k.length||c==null)return;const pe=(be=ye.target)==null?void 0:be.tagName;if(pe==="INPUT"||pe==="TEXTAREA"||pe==="SELECT")return;const fe=k.findIndex(P=>P.id===c);if(fe<0)return;let Ee=fe;switch(ye.key){case"ArrowRight":Ee=Math.min(k.length-1,fe+1);break;case"ArrowLeft":Ee=Math.max(0,fe-1);break;case"ArrowDown":Ee=Math.min(k.length-1,fe+U);break;case"ArrowUp":Ee=Math.max(0,fe-U);break;default:return}Ee!==fe&&(ye.preventDefault(),d(k[Ee].id))};return window.addEventListener("keydown",V),()=>window.removeEventListener("keydown",V)},[k,c,d]),te.useEffect(()=>{if(c==null||!w.current)return;const V=k.findIndex(Ee=>Ee.id===c);if(V<0)return;const pe=Math.floor(V/U)*Fn,fe=w.current;(pe<fe.scrollTop||pe+Fn>fe.scrollTop+fe.clientHeight)&&(fe.scrollTop=Math.max(0,pe-fe.clientHeight/2+Fn/2))},[c,k]),f.jsx("div",{ref:w,onScroll:ae,className:"flex-1 overflow-y-auto",children:f.jsx("div",{style:{height:J,position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:Y*Fn,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${U}, 1fr)`},children:N.map(V=>{var be;const ye=((be=V.frameGroups[0])==null?void 0:be.sprites[0])??0,pe=m?da(m,ye,g):null,fe=V.id===c,Ee=a?nr(a,V.id):V.id;return f.jsxs("button",{onClick:()=>d(V.id),className:`
                  relative flex items-center justify-center
                  border border-transparent transition-colors
                  ${fe?"bg-emperia-accent/20 border-emperia-accent":"hover:bg-emperia-hover"}
                `,style:{width:Fn,height:Fn},title:`#${Ee}`,children:[pe?f.jsx("img",{src:pe,alt:"",className:"w-8 h-8 pixelated",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-8 h-8 bg-emperia-border/30 rounded-sm"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[8px] text-emperia-muted/60 leading-none",children:Ee})]},V.id)})})})})}const Sr=[16777215,12571903,12577279,12582911,12582889,12582868,12582847,13959103,15335359,16777151,16771519,16766143,16760767,16760788,16760809,16760831,15319039,13942783,12566527,14342874,9412543,9416639,9420735,9420719,9420703,9420687,10469263,11517839,12566415,12562319,12558223,12554127,12554143,12554159,12554175,11505599,10457023,9408447,11974326,6258623,9416639,6275007,6274975,6274943,6274911,8372063,10469215,12566367,12558175,12549983,12541791,12541823,12541855,12541887,10444735,8347583,6250431,9539985,4156095,4166847,4177855,4177812,4177770,4177727,6995775,9748287,12566335,12555327,12544575,12533567,12533610,12533652,12533695,9715647,6963135,4145087,7171437,22015,43775,65535,65450,65364,65280,5570304,11206400,16776960,16754944,16733440,16711680,16711765,16711849,16711934,11141375,5570815,255,4737096,16319,32703,49087,49023,48959,48896,4177664,8371968,12566272,12549888,12533504,12517376,12517439,12517503,12517567,8323263,4128959,191,2368548,10879,21887,32639,32597,32554,32512,2785024,5603072,8355584,8344576,8333824,8323072,8323114,8323156,8323199,5570687,2752639,127],ei=Sr.length,mm=4278255615,gm=4278190335,xm=4278255360,ym=4294901760;function vm(a,r,i){const l=Sr[Math.max(0,Math.min(ei-1,i.head))],c=Sr[Math.max(0,Math.min(ei-1,i.body))],d=Sr[Math.max(0,Math.min(ei-1,i.legs))],m=Sr[Math.max(0,Math.min(ei-1,i.feet))],g=new Uint32Array(r.data.buffer),p=a.data;for(let k=0;k<g.length;k++){const w=4*k;let y;switch(g[k]){case mm:y=l;break;case gm:y=c;break;case xm:y=d;break;case ym:y=m;break;default:continue}p[w+0]=p[w+0]*(y>>0&255)/255,p[w+1]=p[w+1]*(y>>8&255)/255,p[w+2]=p[w+2]*(y>>16&255)/255}}function vd(a){const r=Sr[Math.max(0,Math.min(ei-1,a))],i=r>>0&255,l=r>>8&255,c=r>>16&255;return`#${i.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}const dn=4294967296,kd=2147483647,wd=-2147483648,Xr=268435455,km=4294967295,Ld=1073741823,Sd=192,io=12,wm=114,Sm=768,_m=4096,Cm=2,ua=[4294967295,-dn],Jr=[0,0],Em=[1,0],so=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],We=Am(),rr=Dm();function Pe(a,r=0){const i=[];if(i[a-1]=void 0,r!==0)for(let l=0;l<a;l++)i[l]=r;return i}function Id(a,r,i,l,c){if(!(r<0||l<0||c<0||r+c>a.length||l+c>i.length))if(a===i&&r<l&&l<r+c)for(let d=c-1;d>=0;d--)i[l+d]=a[r+d];else for(let d=0;d<c;d++)i[l+d]=a[r+d]}function vn(a,r){return We[((a-r^-r)&2047)>>>2]}function Yi(a,r){let i,l;for(r%=18446744073709552e3,a%=18446744073709552e3,i=r%dn,l=Math.floor(a/dn)*dn,r=r-i+l,a=a-l+i;a<0;)a+=dn,r-=dn;for(;a>4294967295;)a-=dn,r+=dn;for(r=r%18446744073709552e3;r>9223372032559809e3;)r-=18446744073709552e3;for(;r<-9223372036854776e3;)r+=18446744073709552e3;return[a,r]}function kn(a,r){return Yi(a[0]+r[0],a[1]+r[1])}function jd(a,r){return Yi(a[0]-r[0],a[1]-r[1])}function Bn(a,r){if(a[0]==r[0]&&a[1]==r[1])return 0;const i=a[1]<0,l=r[1]<0;return i&&!l?-1:!i&&l?1:jd(a,r)[1]<0?-1:1}function bt(a){return a[0]>=2147483648?~~Math.max(Math.min(a[0]-dn,kd),wd):~~Math.max(Math.min(a[0],kd),wd)}function _r(a){return a>=0?[a,0]:[a+dn,-dn]}function bm(a,r){if(r&=63,r<=30){const l=1<<r;return Yi(Math.floor(a[0]/l),a[1]/l)}const i=(1<<30)*(1<<r-30);return Yi(Math.floor(a[0]/i),a[1]/i)}function Ie(a){for(let r=a.length-1;r>=0;--r)a[r]=1024}function mo(a){return a-=2,a<4?a:3}function tr(a){return a<4?0:a<10?a-3:a-6}function St(a){return{numBitLevels:a,models:Pe(1<<a)}}function Am(){const a=[];for(let r=8;r>=0;--r){let i=1<<9-r-1,l=1<<9-r;for(let c=i;c<l;++c)a[c]=(r<<6)+(l-c<<6>>>9-r-1)}return a}function Dm(){const a=[0,1];let r=2;for(let i=2;i<22;++i){let l=1<<(i>>1)-1;for(let c=0;c<l;++c,++r)a[r]=i}return a}class Fm{constructor(r){L(this,"encoder",null);L(this,"decoder",null);L(this,"alive",0);L(this,"inBytesProcessed",[0,0]);L(this,"lzma");this.lzma=r}processChunk(){if(!this.alive)throw new Error("bad state");if(!this.encoder)throw new Error("No decoding");return this.lzma.codeOneBlock(),this.inBytesProcessed=this.encoder.processedInSize[0],this.encoder.finished[0]&&(this.lzma.releaseStreams(),this.alive=0),this.alive}}class _d{constructor(r){L(this,"encoder",null);L(this,"decoder");L(this,"alive",0);L(this,"inBytesProcessed",[0,0]);this.decoder=r}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.decoder.codeOneChunk();if(r===-1)throw new Error("Corrupted input");this.inBytesProcessed=this.decoder.nowPos64;const i=Bn(this.decoder.outSize,Jr)>=0&&Bn(this.decoder.nowPos64,this.decoder.outSize)>=0;return(r||i)&&(this.decoder.flush(),this.decoder.cleanup(),this.alive=0),this.alive}}class Bm{constructor(r=null,i=4096){L(this,"buffer",null);L(this,"pos",0);L(this,"streamPos",0);L(this,"stream",null);L(this,"windowSize",0);L(this,"w",null);L(this,"buf",[]);this.w=r,this.stream=r,this.windowSize=i,this.buf=new Array(i),this.buffer=this.buf,this.pos=0,this.streamPos=0}copyBlock(r,i){if(this.buffer)for(let l=0;l<i;l++){let c=this.pos-r-1;c<0&&(c+=this.windowSize);const d=this.buffer[c];this.putByte(d)}}putByte(r){this.buffer&&(this.buffer[this.pos]=r,this.pos++,this.streamPos++,this.pos>=this.windowSize&&this.flush())}getByte(r){if(!this.buffer)return 0;let i=this.pos+r;return i<0?i+=this.windowSize:i>=this.windowSize&&(i-=this.windowSize),this.buffer[i]}flush(){if(this.w&&this.buffer&&this.pos>0){const r=this.buffer.slice(0,this.pos);this.w.write(r),this.pos=0}}isEmpty(){return this.streamPos===0}reset(){this.pos=0,this.streamPos=0,this.buffer&&this.buffer.fill(0)}}class Tm{constructor(){L(this,"stream",null);L(this,"code",0);L(this,"rrange",0)}setStream(r){this.stream=r}init(){this.code=0,this.rrange=-1;for(let r=0;r<5;++r)this.code=this.code<<8|this.readFromStream()}decodeBit(r,i){let l,c=r[i];return l=(this.rrange>>>11)*c,(this.code^-2147483648)<(l^-2147483648)?(this.rrange=l,r[i]=c+(2048-c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),0):(this.rrange-=l,this.code-=l,r[i]=c-(c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),1)}decodeDirectBits(r){let i=0;for(let l=r;l!=0;l-=1){this.rrange>>>=1;let c=this.code-this.rrange>>>31;this.code-=this.rrange&c-1,i=i<<1|1-c,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8)}return i}get currentCode(){return this.code}get currentRange(){return this.rrange}readFromStream(){if(!this.stream)return 0;if(this.stream.pos>=this.stream.count)return-1;let r;return this.stream.buf instanceof ArrayBuffer?r=new Uint8Array(this.stream.buf)[this.stream.pos++]:this.stream.buf instanceof Uint8Array?r=this.stream.buf[this.stream.pos++]:r=this.stream.buf[this.stream.pos++],r&255}}class Nm{constructor(){L(this,"rangeDecoder");L(this,"outWindow");L(this,"state",0);L(this,"rep0",0);L(this,"rep1",0);L(this,"rep2",0);L(this,"rep3",0);L(this,"prevByte",0);L(this,"nowPos64",[0,0]);L(this,"outSize",[0,0]);L(this,"posStateMask",0);L(this,"dictSizeCheck",0);L(this,"matchDecoders",[]);L(this,"rep0LongDecoders",[]);L(this,"repDecoders",[]);L(this,"repG0Decoders",[]);L(this,"repG1Decoders",[]);L(this,"repG2Decoders",[]);L(this,"posDecoders",[]);L(this,"literalDecoder");L(this,"posSlotDecoders",[]);L(this,"lenDecoder");L(this,"repLenDecoder");L(this,"posAlignDecoder");L(this,"decoder");L(this,"encoder",null);L(this,"alive",0);L(this,"inBytesProcessed",[0,0]);this.rangeDecoder=new Tm,this.outWindow=new Bm(null,_m),this.matchDecoders=Pe(Sd),this.rep0LongDecoders=Pe(Sd),this.repDecoders=Pe(io),this.repG0Decoders=Pe(io),this.repG1Decoders=Pe(io),this.repG2Decoders=Pe(io),this.posDecoders=Pe(wm),this.literalDecoder={coders:[],numPrevBits:0,numPosBits:0,posMask:0,init:()=>this.initLiteralDecoder()};for(let r=0;r<4;r++)this.posSlotDecoders[r]=St(6);this.lenDecoder=this.createLenDecoder(),this.repLenDecoder=this.createLenDecoder(),this.posAlignDecoder=St(4),this.decoder=this}get literalCoder(){return this.literalDecoder}createLenDecoder(){return{choice:Pe(Cm),lowCoder:[],midCoder:[],highCoder:St(8),numPosStates:0}}setDecoderProperties(r){if(r.length<5)return!1;const i=r[0]%9,l=Math.floor(r[0]/9),c=l%5,d=Math.floor(l/5);if(d>4)return!1;this.literalDecoder.numPrevBits=i,this.literalDecoder.numPosBits=c,this.literalDecoder.posMask=(1<<c)-1,this.posStateMask=(1<<d)-1;let m=0;for(let p=0;p<4;p++){const k=r[1+p]&255;m+=k<<p*8}this.dictSizeCheck=Math.max(m,1),m>0&&(this.outWindow.windowSize=Math.max(m,4096),this.outWindow.buffer=Pe(this.outWindow.windowSize));const g=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;this.literalDecoder.coders=[];for(let p=0;p<g;p++)this.literalDecoder.coders[p]={decoders:Pe(Sm)};this.lenDecoder.numPosStates=1<<d,this.repLenDecoder.numPosStates=1<<d,this.lenDecoder.lowCoder=[],this.lenDecoder.midCoder=[],this.repLenDecoder.lowCoder=[],this.repLenDecoder.midCoder=[];for(let p=0;p<1<<d;p++)this.lenDecoder.lowCoder[p]=St(3),this.lenDecoder.midCoder[p]=St(3),this.repLenDecoder.lowCoder[p]=St(3),this.repLenDecoder.midCoder[p]=St(3);return!0}copyBlock(r){const i=this.outWindow,l=this.rep0;let c=i.pos-l-1;for(c<0&&(c+=i.windowSize);r!=0;r-=1)c>=i.windowSize&&(c=0),i.buffer[i.pos]=i.buffer[c],i.pos+=1,c+=1,i.pos>=i.windowSize&&this.flush()}putByte(r){this.outWindow.buffer[this.outWindow.pos]=r,this.outWindow.pos+=1,this.outWindow.pos>=this.outWindow.windowSize&&this.flush()}getByte(r){const i=this.outWindow;let l=i.pos-r-1;return l<0&&(l+=i.windowSize),i.buffer[l]}getDecoder(r,i){const l=r&this.literalDecoder.posMask,c=(i&255)>>>8-this.literalDecoder.numPrevBits,d=(l<<this.literalDecoder.numPrevBits)+c;return this.literalDecoder.coders[d]}initLiteralDecoder(){let r=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;for(let i=0;i<r;++i)for(let l=0;l<this.literalDecoder.coders[i].decoders.length;l++)this.literalDecoder.coders[i].decoders[l]=1024}init(){this.outWindow.streamPos=0,this.outWindow.pos=0,Ie(this.matchDecoders),Ie(this.rep0LongDecoders),Ie(this.repDecoders),Ie(this.repG0Decoders),Ie(this.repG1Decoders),Ie(this.repG2Decoders),Ie(this.posDecoders),this.initLiteralDecoder();for(let r=0;r<4;++r)Ie(this.posSlotDecoders[r].models);this.initLenDecoder(this.lenDecoder),this.initLenDecoder(this.repLenDecoder),Ie(this.posAlignDecoder.models),this.initRangeDecoder()}initLenDecoder(r){Ie(r.choice);for(let i=0;i<r.numPosStates;++i)Ie(r.lowCoder[i].models),Ie(r.midCoder[i].models);Ie(r.highCoder.models)}outWindowReleaseStream(){this.flush(),this.outWindow.stream=null}decodeBit(r,i){return this.rangeDecoder.decodeBit(r,i)}decodeDirectBits(r){return this.rangeDecoder.decodeDirectBits(r)}initRangeDecoder(){this.rangeDecoder.init()}rangeBitTreeDecoder(r){let i,l=1;for(i=r.numBitLevels;i!=0;i-=1)l=(l<<1)+this.decodeBit(r.models,l);return l-(1<<r.numBitLevels)}reverseDecode(r,i,l){let c=0;for(let d=0,m=1,g;d<l;++d)g=this.decodeBit(r,i+m),m<<=1,m+=g,c|=g<<d;return c}reverseDecodeAlignDecoder(){let r=0;for(let i=1,l=0,c;l<this.posAlignDecoder.numBitLevels;++l)c=this.decodeBit(this.posAlignDecoder.models,i),i<<=1,i+=c,r|=c<<l;return r}decodeNormalWithRangeDecoder(r){let i=1;do i=i<<1|this.decodeBit(r.decoders,i);while(i<256);return i<<24>>24}decodeWithMatchByteWithRangeDecoder(r,i){let l,c,d=1;do if(c=i>>7&1,i<<=1,l=this.decodeBit(r.decoders,(1+c<<8)+d),d=d<<1|l,c!=l){for(;d<256;)d=d<<1|this.decodeBit(r.decoders,d);break}while(d<256);return d<<24>>24}decodeLenWithRangeDecoder(r,i){if(!this.decodeBit(r.choice,0))return this.rangeBitTreeDecoder(r.lowCoder[i]);let l=8;return this.decodeBit(r.choice,1)?l+=8+this.rangeBitTreeDecoder(r.highCoder):l+=this.rangeBitTreeDecoder(r.midCoder[i]),l}codeOneChunk(){let r,i,l,c,d,m=bt(this.nowPos64)&this.posStateMask;if(!this.decodeBit(this.matchDecoders,(this.state<<4)+m))r=this.getDecoder(bt(this.nowPos64),this.prevByte),this.state<7?this.prevByte=this.decodeNormalWithRangeDecoder(r):this.prevByte=this.decodeWithMatchByteWithRangeDecoder(r,this.getByte(this.rep0)),this.putByte(this.prevByte),this.state=tr(this.state),this.nowPos64=kn(this.nowPos64,[1,0]);else{if(this.decodeBit(this.repDecoders,this.state))l=0,this.decodeBit(this.repG0Decoders,this.state)?(this.decodeBit(this.repG1Decoders,this.state)?(this.decodeBit(this.repG2Decoders,this.state)?(i=this.rep3,this.rep3=this.rep2):i=this.rep2,this.rep2=this.rep1):i=this.rep1,this.rep1=this.rep0,this.rep0=i):this.decodeBit(this.rep0LongDecoders,(this.state<<4)+m)||(this.state=this.state<7?9:11,l=1),l||(l=this.decodeLenWithRangeDecoder(this.repLenDecoder,m)+2,this.state=this.state<7?8:11);else if(this.rep3=this.rep2,this.rep2=this.rep1,this.rep1=this.rep0,l=2+this.decodeLenWithRangeDecoder(this.lenDecoder,m),this.state=this.state<7?7:10,d=this.rangeBitTreeDecoder(this.posSlotDecoders[mo(l)]),d>=4){if(c=(d>>1)-1,this.rep0=(2|d&1)<<c,d<14)this.rep0+=this.reverseDecode(this.posDecoders,this.rep0-d-1,c);else if(this.rep0+=this.decodeDirectBits(c-4)<<4,this.rep0+=this.reverseDecodeAlignDecoder(),this.rep0<0)return this.rep0==-1?1:-1}else this.rep0=d;if(Bn([this.rep0,0],this.nowPos64)>=0||this.rep0>=this.dictSizeCheck)return-1;this.copyBlock(l),this.nowPos64=kn(this.nowPos64,[l,0]),this.prevByte=this.getByte(0)}return 0}setupForDecoding(r,i,l){this.rangeDecoder.setStream(r),this.outSize=i,this.outWindowReleaseStream(),this.outWindow.stream=l,this.init(),this.state=0,this.rep0=0,this.rep1=0,this.rep2=0,this.rep3=0,this.outSize=i,this.nowPos64=[0,0],this.prevByte=0,this.decoder=this,this.encoder=null,this.alive=1}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.codeOneChunk();if(r===-1)throw new Error("Corrupted input");const i=Bn(this.outSize,[0,0])>=0&&Bn(this.nowPos64,this.outSize)>=0;return(r||i)&&(this.flush(),this.outWindowReleaseStream(),this.rangeDecoder.setStream(null),this.alive=0),this.alive}writeToOutput(r,i,l,c){const d=r.count+c;if(d>r.buf.length){const m=Math.max(r.buf.length*2,d),g=new Array(m);for(let p=0;p<r.count;p++)g[p]=r.buf[p];r.buf=g}for(let m=0;m<c;m++)r.buf[r.count+m]=i[l+m];r.count+=c}isBufferWithCount(r){const i=r;return!!i&&Array.isArray(i.buf)&&typeof i.count=="number"&&typeof i.write=="function"}flush(){const r=this.outWindow.pos-this.outWindow.streamPos;if(r){if(this.outWindow.stream&&this.outWindow.buffer){const i=this.outWindow.stream;if(this.isBufferWithCount(i))this.writeToOutput(i,this.outWindow.buffer,this.outWindow.streamPos,r);else if(typeof i.write=="function"){const l=this.outWindow.buffer.slice(this.outWindow.streamPos,this.outWindow.streamPos+r);i.write(l)}}this.outWindow.pos>=this.outWindow.windowSize&&(this.outWindow.pos=0),this.outWindow.streamPos=this.outWindow.pos}}cleanup(){this.outWindow.stream=null,this.rangeDecoder.stream=null}}class Pm{constructor(){L(this,"choice",Pe(2));L(this,"lowCoder",[]);L(this,"midCoder",[]);L(this,"highCoder",St(8));L(this,"tableSize",0);L(this,"prices",[]);L(this,"counters",[]);for(let r=0;r<16;++r)this.lowCoder[r]=St(3),this.midCoder[r]=St(3)}init(r){Ie(this.choice);for(let i=0;i<r;++i)Ie(this.lowCoder[i].models),Ie(this.midCoder[i].models);Ie(this.highCoder.models)}encode(r,i,l){r<8?(l.encodeBit(this.choice,0,0),l.encodeBitTree(this.lowCoder[i],r)):(r-=8,l.encodeBit(this.choice,0,1),r<8?(l.encodeBit(this.choice,1,0),l.encodeBitTree(this.midCoder[i],r)):(l.encodeBit(this.choice,1,1),l.encodeBitTree(this.highCoder,r-8)))}encodeWithUpdate(r,i,l){this.encode(r,i,l),this.counters&&(this.counters[i]-=1)==0&&(this.counters[i]=this.tableSize)}getPrice(r,i){return this.prices[i*272+r]}initPriceTable(){this.prices=[],this.counters=[]}setTableSize(r){this.tableSize=r}setTableSizeAndInitCounters(r,i){if(this.tableSize=r,this.counters)for(let l=0;l<i;++l)this.counters[l]=r}getTableSize(){return this.tableSize}updateTables(r){(!this.prices||!this.counters)&&this.initPriceTable();for(let i=0;i<r;++i)this.setPrices(i,this.tableSize,this.prices,0),this.counters&&(this.counters[i]=this.tableSize)}getBitTreePrice(r,i){let l,c,d=1,m=0;for(c=r.numBitLevels;c!=0;)c-=1,l=i>>>c&1,m+=this.getBitPrice(r.models[d],l),d=(d<<1)+l;return m}getBitPrice(r,i){return vn(r,i)}setPrices(r,i,l,c){const d=this.getBitPrice(this.choice[0],0),m=this.getBitPrice(this.choice[0],1),g=m+this.getBitPrice(this.choice[1],0),p=m+this.getBitPrice(this.choice[1],1);let k=0;const w=c+r*272;for(k=0;k<8;++k){if(k>=i)return;l[w+k]=d+this.getBitTreePrice(this.lowCoder[r],k)}for(;k<16;++k){if(k>=i)return;l[w+k]=g+this.getBitTreePrice(this.midCoder[r],k-8)}for(;k<i;++k)l[w+k]=p+this.getBitTreePrice(this.highCoder,k-8-8)}}class Lm{constructor(){L(this,"coders");this.coders=Pe(768,1024)}decodeNormal(r){let i=1;for(;i<256;){const l=r.decodeBit(this.coders,i);i=i<<1|l}return i&255}decodeWithMatchByte(r,i){let l=i,c=1;for(;c<256;){const d=l>>7&1;l<<=1;const m=r.decodeBit(this.coders,(1+d<<8)+c);if(c=c<<1|m,d!==m){for(;c<256;){const g=r.decodeBit(this.coders,c);c=c<<1|g}break}}return c&255}encode(r,i){let l=1;for(let c=7;c>=0;c--){const d=i>>c&1;r.encodeBit(this.coders,l,d),l=l<<1|d}}encodeMatched(r,i,l){let c=i,d=1,m=!0;for(let g=7;g>=0;g--){const p=l>>g&1;let k=d;if(m){const w=c>>g&1;k+=1+w<<8,m=w===p}r.encodeBit(this.coders,k,p),d=d<<1|p}}getPrice(r,i,l){let c=i,d=0,m=1,g=7;if(r)for(;g>=0;){const p=c>>g&1,k=l>>g&1;if(d+=vn(this.coders[1+p<<8+m],k),m=m<<1|k,p!==k){g--;break}g--}for(;g>=0;){const p=l>>g&1;d+=vn(this.coders[m],p),m=m<<1|p,g--}return d}reset(){this.coders.fill(1024)}get decoders(){return this.coders}}class Im{constructor(r,i){L(this,"_coders");L(this,"_numPrevBits");L(this,"_posMask");const l=1<<i+r;this._coders=[],this._numPrevBits=i,this._posMask=(1<<r)-1;for(let c=0;c<l;c++)this._coders[c]=new Lm}getSubCoder(r,i){return this._coders[((r&this._posMask)<<this._numPrevBits)+(i>>8-this._numPrevBits)]}reset(){this._coders.forEach(r=>r.reset())}get numPrevBits(){return this._numPrevBits}get numPosBits(){return Math.log2(this._posMask+1)}get posMask(){return this._posMask}get coders(){return this._coders}}const oo=new Map;function jm(a){return a<<6}function fa(a,r){const i=`${a.numBitLevels}-${r}`;if(oo.has(i))return oo.get(i);let l=0,c=1;for(let d=a.numBitLevels;d>0;d--){const m=r>>>d-1&1;l+=vn(a.models[c],m),c=(c<<1)+m}return oo.size<1e4&&oo.set(i,l),l}class Mm{constructor(){L(this,"state",0);L(this,"previousByte",0);L(this,"position",[0,0]);L(this,"repDistances",[0,0,0,0]);L(this,"longestMatchLength",0);L(this,"longestMatchWasFound",!1);L(this,"additionalOffset",0);L(this,"isMatch",Pe(192));L(this,"isRep",Pe(12));L(this,"isRepG0",Pe(12));L(this,"isRepG1",Pe(12));L(this,"isRepG2",Pe(12));L(this,"isRep0Long",Pe(192))}initModels(){Ie(this.isMatch),Ie(this.isRep),Ie(this.isRepG0),Ie(this.isRepG1),Ie(this.isRepG2),Ie(this.isRep0Long)}updateRepDistances(r,i){if(i===0)this.repDistances[3]=this.repDistances[2],this.repDistances[2]=this.repDistances[1],this.repDistances[1]=this.repDistances[0],this.repDistances[0]=r;else{const l=this.repDistances[i];for(let c=i;c>0;c--)this.repDistances[c]=this.repDistances[c-1];this.repDistances[0]=l}}}class Rm{constructor(){L(this,"posSlotEncoder",[]);L(this,"posEncoders",Pe(114));L(this,"posAlignEncoder");for(let r=0;r<4;r++)this.posSlotEncoder[r]=St(6);this.posAlignEncoder=St(4)}init(){for(const r of this.posSlotEncoder)Ie(r.models);Ie(this.posEncoders),Ie(this.posAlignEncoder.models)}encodePosition(r,i,l){const c=this.getPosSlot(r);if(l.encodeBitTree(this.posSlotEncoder[i],c),c>=4){const d=(c>>1)-1,m=(2|c&1)<<d,g=r-m;c<14?this.encodeReverseBits(g,d,l):(l.encodeDirectBits(g>>4,d-4),l.encodeBitTree(this.posAlignEncoder,g&15))}}getPositionPrice(r,i){const l=this.getPosSlot(r);let c=fa(this.posSlotEncoder[i],l);if(l>=4){const d=(l>>1)-1,m=(2|l&1)<<d,g=r-m;l<14?c+=this.getReverseBitsPrice(g,d):(c+=jm(d-4),c+=fa(this.posAlignEncoder,g&15))}return c}getPosSlot(r){return r<4?r:r<1<<20?rr[r>>6]+12:rr[r>>26]+52}encodeReverseBits(r,i,l){let c=1;for(let d=0;d<i;d++){const m=r&1;l.encodeBit(this.posEncoders,c,m),c=c<<1|m,r>>>=1}}getReverseBitsPrice(r,i){let l=0,c=1;for(let d=0;d<i;d++){const m=r&1;l+=vn(this.posEncoders[c],m),c=c<<1|m,r>>>=1}return l}}class Om{constructor(){L(this,"encoderState",new Mm);L(this,"positionEncoder",new Rm);L(this,"_state",0);L(this,"_previousByte",0);L(this,"_distTableSize",0);L(this,"_longestMatchWasFound",0);L(this,"_optimumEndIndex",0);L(this,"_optimumCurrentIndex",0);L(this,"_additionalOffset",0);L(this,"_dictionarySize",0);L(this,"_matchFinder",null);L(this,"_dictionarySizePrev",0);L(this,"_numFastBytes",0);L(this,"_numLiteralContextBits",0);L(this,"_numLiteralPosStateBits",0);L(this,"_posStateBits",0);L(this,"_posStateMask",0);L(this,"_needReleaseMFStream",0);L(this,"_inStream",null);L(this,"_finished",0);L(this,"nowPos64",[0,0]);L(this,"_repDistances",Pe(4));L(this,"_optimum",[]);L(this,"_rangeEncoder",{stream:{buf:[],count:0},rrange:0,cache:0,low:[0,0],cacheSize:0,position:[0,0],encodeBit:()=>{},encodeBitTree:()=>{},encodeDirectBits:()=>{}});L(this,"_isMatch",Pe(192));L(this,"_isRep",Pe(12));L(this,"_isRepG0",Pe(12));L(this,"_isRepG1",Pe(12));L(this,"_isRepG2",Pe(12));L(this,"_isRep0Long",Pe(192));L(this,"_posSlotEncoder",[]);L(this,"_posEncoders",Pe(114));L(this,"_posAlignEncoder",null);L(this,"_lenEncoder",null);L(this,"_repMatchLenEncoder",null);L(this,"_literalEncoder",null);L(this,"_matchDistances",[]);L(this,"_posSlotPrices",[]);L(this,"_distancesPrices",[]);L(this,"_alignPrices",Pe(16));L(this,"_matchPriceCount",0);L(this,"_alignPriceCount",0);L(this,"reps",Pe(4));L(this,"repLens",Pe(4));L(this,"processedInSize",[[0,0]]);L(this,"processedOutSize",[[0,0]]);L(this,"finished",[0]);L(this,"properties",Pe(5));L(this,"tempPrices",Pe(128));L(this,"_longestMatchLength",0);L(this,"_matchFinderType",1);L(this,"_numDistancePairs",0);L(this,"_numFastBytesPrev",-1);L(this,"backRes",0)}baseInit(){this._state=0,this._previousByte=0;for(let r=0;r<4;++r)this._repDistances[r]=0}getOptimum(){return this._optimum}getBackRes(){return this.backRes}setBackRes(r){this.backRes=r}init(){this.baseInit(),this.encoderState.initModels(),this.positionEncoder.init(),this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};this.initEncoderState(),Ie(this._isMatch),Ie(this._isRep0Long),Ie(this._isRep),Ie(this._isRepG0),Ie(this._isRepG1),Ie(this._isRepG2),Ie(this._posEncoders),this.initLiteralEncoder();for(let r=0;r<4;++r)Ie(this._posSlotEncoder[r].models);this._lenEncoder&&this._lenEncoder.init(1<<this._posStateBits),this._repMatchLenEncoder&&this._repMatchLenEncoder.init(1<<this._posStateBits),this._posAlignEncoder&&Ie(this._posAlignEncoder.models),this._longestMatchWasFound=0,this._optimumEndIndex=0,this._optimumCurrentIndex=0,this._additionalOffset=0}initEncoderState(){this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=4294967295,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0,this._rangeEncoder.position=[0,0]}initLiteralEncoder(){const r=1<<this._literalEncoder.numPrevBits+this._literalEncoder.numPosBits;for(let i=0;i<r;++i)Ie(this._literalEncoder.coders[i].decoders)}createOptimumStructures(){for(let r=0;r<4096;++r)this._optimum[r]={};for(let r=0;r<4;++r)this._posSlotEncoder[r]=St(6)}createLenPriceTableEncoder(){const r=new Pm;return r.initPriceTable(),r}createLiteralEncoderEncoder2(){return{decoders:Pe(768)}}createLiteralEncoder(){this._literalEncoder!=null&&this._literalEncoder.numPrevBits==this._numLiteralContextBits&&this._literalEncoder.numPosBits==this._numLiteralPosStateBits||(this._literalEncoder=new Im(this._numLiteralPosStateBits,this._numLiteralContextBits))}initialize(){this._lenEncoder=this.createLenPriceTableEncoder(),this._repMatchLenEncoder=this.createLenPriceTableEncoder(),this._posAlignEncoder=St(4),this._optimum=[],this.createOptimumStructures(),this.createLiteralEncoder(),this.init()}configure(r){this.setDictionarySize(1<<r.searchDepth),this._numFastBytes=r.filterStrength,this._matchFinderType=r.modeIndex,this._numLiteralContextBits=3,this._numLiteralPosStateBits=0,this._posStateBits=2,this._posStateMask=3}setDictionarySize(r){this._dictionarySize=r;let i=0;for(;r>1<<i;++i);this._distTableSize=i*2}encodeBit(r,i,l){const c=this._rangeEncoder;let d,m=r[i];d=(c.rrange>>>11)*m,l?(c.low=kn(c.low,this.and64(_r(d),[4294967295,0])),c.rrange-=d,r[i]=m-(m>>>5)<<16>>16):(c.rrange=d,r[i]=m+(2048-m>>>5)<<16>>16),c.rrange&-16777216||(c.rrange<<=8,this.shiftLow())}encodeBitTree(r,i){let l,c,d=1;for(c=r.numBitLevels;c!=0;)c-=1,l=i>>>c&1,this.encodeBit(r.models,d,l),d=d<<1|l}encodeLiteral(r,i){let l,c=1;for(let d=7;d>=0;--d)l=i>>d&1,this.encodeBit(r.decoders,c,l),c=c<<1|l}encodeMatched(r,i,l){let c,d,m,g=!0,p=1;for(let k=7;k>=0;--k)c=l>>k&1,m=p,g&&(d=i>>k&1,m+=1+d<<8,g=d===c),this.encodeBit(r.decoders,m,c),p=p<<1|c}encodeLength(r,i,l){r.encode(i,l,this)}encodeDirectBits(r,i){const l=this._rangeEncoder;for(let c=i-1;c>=0;c-=1)l.rrange>>>=1,(r>>>c&1)==1&&(l.low=kn(l.low,_r(l.rrange))),l.rrange&-16777216||(l.rrange<<=8,this.shiftLow())}reverseEncode(r){const i=this._posAlignEncoder;if(!i)return;let l,c=1;for(let d=0;d<i.numBitLevels;++d)l=r&1,this.encodeBit(i.models,c,l),c=c<<1|l,r>>=1}reverseEncodeRange(r,i,l){let c,d=1;for(let m=0;m<i;++m)c=l&1,this.encodeBit(this._posEncoders,r+d,c),d=d<<1|c,l>>=1}writeEndMarker(r){this.encodeBit(this._isMatch,(this._state<<4)+r,1),this.encodeBit(this._isRep,this._state,0),this._state=this._state<7?7:10,this.encodeLength(this._lenEncoder,0,r);const i=63,l=mo(2);this.encodeBitTree(this._posSlotEncoder[l],i),this.encodeDirectBits(67108863,26),this.reverseEncode(15)}encodeLengthWithPriceUpdate(r,i,l){r.encodeWithUpdate(i,l,this)}and64(r,i){const l=~~Math.max(Math.min(r[1]/4294967296,2147483647),-2147483648)&~~Math.max(Math.min(i[1]/4294967296,2147483647),-2147483648),c=bt(r)&bt(i);let d=l*4294967296,m=c;return c<0&&(m+=4294967296),[m,d]}shru64(r,i){i&=63;let l=this.pwrAsDouble(i),c=Yi(Math.floor(r[0]/l),r[1]/l);return r[1]<0&&(c=kn(c,this.shl64([2,0],63-i))),c}shl64(r,i){let l,c,d,m;if(i&=63,r[0]==0&&r[1]==-9223372036854776e3)return i?[0,0]:r;if(r[1]<0)throw new Error("Neg");return m=this.pwrAsDouble(i),c=r[1]*m%18446744073709552e3,d=r[0]*m,l=d-d%4294967296,c+=l,d-=l,c>=9223372036854776e3&&(c-=18446744073709552e3),[d,c]}pwrAsDouble(r){return r<=30?1<<r:this.pwrAsDouble(30)*this.pwrAsDouble(r-30)}shiftLow(){const r=this._rangeEncoder,i=bt(this.shru64(r.low,32));if(i!=0||Bn(r.low,[4278190080,0])<0){r.position=kn(r.position,_r(r.cacheSize));let l=r.cache;do this.writeToStream(r.stream,l+i),l=255;while((r.cacheSize-=1)!=0);r.cache=bt(r.low)>>>24}r.cacheSize+=1,r.low=this.shl64(this.and64(r.low,[16777215,0]),8)}writeToStream(r,i){if(r){if(r.count>=r.buf.length){const l=Math.max(r.buf.length*2,r.count+1),c=new Array(l);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}}initRangeEncoder(){this._rangeEncoder.position=[0,0],this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=-1,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0}fillAlignPrices(){for(let r=0;r<16;++r)this._alignPrices[r]=this.reverseGetPrice(this._posAlignEncoder,r);this._alignPriceCount=0}fillDistancesPrices(){let r,i,l,c,d,m;for(let g=4;g<128;++g)c=this.getPosSlot(g),l=(c>>1)-1,r=(2|c&1)<<l,this.tempPrices[g]=this.reverseGetPriceArray(this._posEncoders,r-c-1,l,g-r);for(let g=0;g<4;++g){for(i=this._posSlotEncoder[g],d=g<<6,c=0;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]=this.rangeCoder_Encoder_GetPrice_1(i,c);for(c=14;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]+=(c>>1)-1-4<<6;m=g*128;for(let p=0;p<4;++p)this._distancesPrices[m+p]=this._posSlotPrices[d+p];for(let p=4;p<128;++p)this._distancesPrices[m+p]=this._posSlotPrices[d+this.getPosSlot(p)]+this.tempPrices[p]}this._matchPriceCount=0}getPosSlot(r){return r<2048?rr[r]:r<2097152?rr[r>>10]+20:rr[r>>20]+40}reverseGetPrice(r,i){let l,c=1,d=0;for(let m=r.numBitLevels;m!=0;m-=1)l=i&1,i>>>=1,d+=this.getPrice(r.models[c],l),c=c<<1|l;return d}reverseGetPriceArray(r,i,l,c){let d,m=1,g=0;for(let p=l;p!=0;p-=1)d=c&1,c>>>=1,g+=We[((r[i+m]-d^-d)&2047)>>>2],m=m<<1|d;return g}getPrice(r,i){return vn(r,i)}rangeCoder_Encoder_GetPrice_1(r,i){return fa(r,i)}createEncoderStructures(){this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};for(let r=0;r<4096;++r)this._optimum[r]={};this._posSlotEncoder=new Array(4);for(let r=0;r<4;++r)this._posSlotEncoder[r]=St(6)}createMatchFinderAndStructures(){if(!this._matchFinder){const r={};let i=4;this._matchFinderType||(i=2),r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0),r._cyclicBufferSize=0,r._cyclicBufferPos=0,r._streamPos=0,r._cutValue=255,r._matchMaxLen=0,r._streamEndWasReached=0,r._pos=0,r._posLimit=0,r._son=[],r._hash=[],r._bufferBase=[],r._blockSize=0,r._keepSizeAfter=0,r._keepSizeBefore=0,r._pointerToLastSafePosition=0,this._matchFinder=r}this.createLiteralEncoder(),!(this._dictionarySize==this._dictionarySizePrev&&this._numFastBytesPrev==this._numFastBytes)&&(this._dictionarySizePrev=this._dictionarySize,this._numFastBytesPrev=this._numFastBytes)}getSubCoderUtility(r,i){const c=(r&this._literalEncoder.posMask)<<this._literalEncoder.numPrevBits,d=8-this._literalEncoder.numPrevBits,m=(i&255)>>>d,g=c+m;return this._literalEncoder.coders[g]}}class Um{constructor(r){L(this,"matchFinder");this.matchFinder=r}getIndexByte(r){return this.matchFinder._bufferBase[this.matchFinder._bufferOffset+this.matchFinder._pos+r]}getMatchLen(r,i,l){this.matchFinder._streamEndWasReached&&this.matchFinder._pos+r+l>this.matchFinder._streamPos&&(l=this.matchFinder._streamPos-(this.matchFinder._pos+r)),++i;let c;const d=this.matchFinder._bufferOffset+this.matchFinder._pos+r;for(c=0;c<l&&this.matchFinder._bufferBase[d+c]==this.matchFinder._bufferBase[d+c-i];++c);return c}getNumAvailableBytes(){return this.matchFinder._streamPos-this.matchFinder._pos}moveBlock(){let r=this.matchFinder._bufferOffset+this.matchFinder._pos-this.matchFinder._keepSizeBefore;r>0&&--r;const i=this.matchFinder._bufferOffset+this.matchFinder._streamPos-r;for(let l=0;l<i;++l)this.matchFinder._bufferBase[l]=this.matchFinder._bufferBase[r+l];this.matchFinder._bufferOffset-=r}movePos(){this.matchFinder._pos+=1,this.matchFinder._pos>this.matchFinder._posLimit&&(this.matchFinder._bufferOffset+this.matchFinder._pos>this.matchFinder._pointerToLastSafePosition&&this.moveBlock(),this.readBlock())}readBlock(){if(!this.matchFinder._streamEndWasReached)for(;;){const r=-this.matchFinder._bufferOffset+this.matchFinder._blockSize-this.matchFinder._streamPos;if(!r)return;const i=this.readFromStream(this.matchFinder._bufferOffset+this.matchFinder._streamPos,r);if(i==-1){this.matchFinder._posLimit=this.matchFinder._streamPos,this.matchFinder._bufferOffset+this.matchFinder._posLimit>this.matchFinder._pointerToLastSafePosition&&(this.matchFinder._posLimit=this.matchFinder._pointerToLastSafePosition-this.matchFinder._bufferOffset),this.matchFinder._streamEndWasReached=1;return}this.matchFinder._streamPos+=i,this.matchFinder._streamPos>=this.matchFinder._pos+this.matchFinder._keepSizeAfter&&(this.matchFinder._posLimit=this.matchFinder._streamPos-this.matchFinder._keepSizeAfter)}}reduceOffsets(r){this.matchFinder._bufferOffset+=r,this.matchFinder._posLimit-=r,this.matchFinder._pos-=r,this.matchFinder._streamPos-=r}readFromStream(r,i){const l=this.matchFinder._stream,c=this.matchFinder._bufferBase;if(l.pos>=l.count)return-1;let d;return l.buf instanceof Uint8Array?d=Array.from(l.buf):l.buf instanceof ArrayBuffer?d=Array.from(new Uint8Array(l.buf)):d=l.buf,i=Math.min(i,l.count-l.pos),Id(d,l.pos,c,r,i),l.pos+=i,i}}function zm(a,r,i,l){return~~((a+r+i+l)/2)+256}function Hm(a,r){const i=r+1;if(a._cyclicBufferSize!==i){const l=(a._cyclicBufferSize=i)*2;a._son=Pe(l)}}function Gm(a,r){let i=65536,l=0;return r&&(i=a-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,i|=65535,i>16777216&&(i>>=1),l=i,i+=1),{hashMask:l,hashSizeSum:i}}function Wm(a){return 16+(a>>1)}function Vm(a){return a<Ld}const $m={1:{searchDepth:16,filterStrength:64,modeIndex:0},2:{searchDepth:20,filterStrength:64,modeIndex:0},3:{searchDepth:19,filterStrength:64,modeIndex:1},4:{searchDepth:20,filterStrength:64,modeIndex:1},5:{searchDepth:21,filterStrength:128,modeIndex:1},6:{searchDepth:22,filterStrength:128,modeIndex:1},7:{searchDepth:23,filterStrength:128,modeIndex:1},8:{searchDepth:24,filterStrength:255,modeIndex:1},9:{searchDepth:25,filterStrength:255,modeIndex:1}};var oe,st,je,F,cn,M,Rd,Od,ha,ao,Ud,zd,Hd,Gd,Wd,Vd,$d,pa,Yd,Qd,Kd,Xd,Zd,Vi,ma,Jd,qd,ef,tf,ga,nf,rf,sf,of,uo,lf,xa,kr,af,ya,co,va,uf,wr,$i,ka,cf,df,ff,hf;class Md{constructor(){yr(this,M);yr(this,oe);yr(this,st);yr(this,je,null);yr(this,F);yr(this,cn);Kr(this,oe,new Om),Kr(this,st,new Nm),Kr(this,F,ne(this,M,Rd).call(this)),Kr(this,cn,ne(this,M,Od).call(this))}writeHeaderProperties(){x(this,oe).properties[0]=(x(this,oe)._posStateBits*5+x(this,oe)._numLiteralPosStateBits)*9+x(this,oe)._numLiteralContextBits&255;for(let i=0;i<4;i++)x(this,oe).properties[1+i]=x(this,oe)._dictionarySize>>8*i&255;ne(this,M,zd).call(this,x(this,F).output,x(this,oe).properties,0,5)}GetPosSlot2(r){return r<131072?rr[r>>6]+12:r<134217728?rr[r>>16]+32:rr[r>>26]+52}ReverseEncode(r,i,l){let c,d=1;for(let m=0;m<i;++m)c=l&1,x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._posEncoders,r+d,c),d=d<<1|c,l>>=1}encodeString(r){let i,l=[],c=0,d=r.length;ne(this,M,Hd).call(this,r,0,d,l,0);for(let g=0;g<d;++g)i=l[g],i>=1&&i<=127?++c:!i||i>=128&&i<=2047?c+=2:c+=3;const m=[];c=0;for(let g=0;g<d;++g)i=l[g],i>=1&&i<=127?m[c++]=i<<24>>24:!i||i>=128&&i<=2047?(m[c++]=(192|i>>6&31)<<24>>24,m[c++]=(128|i&63)<<24>>24):(m[c++]=(224|i>>12&15)<<24>>24,m[c++]=(128|i>>6&63)<<24>>24,m[c++]=(128|i&63)<<24>>24);return m}compress(r,i=5){const l=$m[i];for(ne(this,M,Vd).call(this,r,l);x(this,F).chunker.processChunk(););const c=ne(this,M,ao).call(this,x(this,F).output);return new Int8Array(c)}compressString(r,i=5){const l=this.encodeString(r);return this.compress(new Uint8Array(l),i)}decompress(r){for(ne(this,M,pa).call(this,r);x(this,cn).chunker.processChunk(););return ne(this,M,ao).call(this,x(this,cn).output)}decompressString(r){for(ne(this,M,pa).call(this,r);x(this,cn).chunker.processChunk(););const i=ne(this,M,ao).call(this,x(this,cn).output),l=ne(this,M,hf).call(this,i);return typeof l=="string"?l:String.fromCharCode(...l)}codeOneBlock(){ne(this,M,nf).call(this)}releaseStreams(){ne(this,M,uf).call(this)}}oe=new WeakMap,st=new WeakMap,je=new WeakMap,F=new WeakMap,cn=new WeakMap,M=new WeakSet,Rd=function(){return{chunker:new Fm(this),output:{buf:Pe(32),count:0,write:()=>{}}}},Od=function(){return{chunker:new _d(x(this,st)),output:{buf:Pe(32),count:0,write:()=>{}}}},ha=function(r){if(r.pos>=r.count)return-1;let i;return r.buf instanceof ArrayBuffer?i=new Uint8Array(r.buf)[r.pos++]:(r.buf instanceof Uint8Array,i=r.buf[r.pos++]),i&255},ao=function(r){return r.buf.slice(0,r.count)},Ud=function(r,i){if(r){if(r.count>=r.buf.length){const l=Math.max(r.buf.length*2,r.count+1),c=new Array(l);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}},zd=function(r,i,l,c){const d=r.count+c;if(d>r.buf.length){const m=Math.max(r.buf.length*2,d),g=new Array(m);for(let p=0;p<r.count;p++)g[p]=r.buf[p];r.buf=g}Id(i,l,r.buf,r.count,c),r.count+=c},Hd=function(r,i,l,c,d){for(let m=i;m<l;++m)c[d++]=r.charCodeAt(m)},Gd=function(r){x(this,oe).initialize(),x(this,oe).configure(r)},Wd=function(r,i,l){if(Bn(i,ua)<0)throw new Error("invalid length "+i);x(this,F).length_0=i,ne(this,M,sf).call(this),ne(this,M,Gd).call(this,l),this.writeHeaderProperties();for(let c=0;c<64;c+=8)ne(this,M,Ud).call(this,x(this,F).output,bt(bm(i,c))&255);x(this,oe)._needReleaseMFStream=0,x(this,oe)._inStream=r,x(this,oe)._finished=0,ne(this,M,rf).call(this),x(this,oe)._rangeEncoder.stream=x(this,F).output,x(this,oe).init(),x(this,oe).fillDistancesPrices(),x(this,oe).fillAlignPrices(),x(this,oe)._lenEncoder.setTableSize(x(this,oe)._numFastBytes+1-2),x(this,oe)._lenEncoder.updateTables(1<<x(this,oe)._posStateBits),x(this,oe)._repMatchLenEncoder.setTableSize(x(this,oe)._numFastBytes+1-2),x(this,oe)._repMatchLenEncoder.updateTables(1<<x(this,oe)._posStateBits),x(this,oe).nowPos64=Jr,x(this,F).chunker.encoder=x(this,oe),x(this,F).chunker.alive=1},Vd=function(r,i){const l=r instanceof ArrayBuffer?r.byteLength:r.length,c=Math.max(32,Math.ceil(l*1.2));x(this,F).output={buf:Pe(c),count:0,write:()=>{}};const d={pos:0,buf:r instanceof ArrayBuffer?new Uint8Array(r):r,count:r instanceof ArrayBuffer?new Uint8Array(r).length:r.length};ne(this,M,Wd).call(this,d,_r(r instanceof ArrayBuffer?r.byteLength:r.length),i)},$d=function(r){let i="",l=[],c,d;for(let g=0;g<5;++g){if(c=ne(this,M,ha).call(this,r),c==-1)throw new Error("truncated input");l[g]=c<<24>>24}if(x(this,st).setDecoderProperties(l)?0:1)throw new Error("corrupted input");for(let g=0;g<64;g+=8){if(c=ne(this,M,ha).call(this,r),c==-1)throw new Error("truncated input");c=c.toString(16),c.length==1&&(c="0"+c),i=c+""+i}/^0+$|^f+$/i.test(i)?x(this,F).length_0=ua:(d=parseInt(i,16),d>km?x(this,F).length_0=ua:x(this,F).length_0=_r(d)),x(this,cn).chunker=ne(this,M,ef).call(this,r,x(this,F).length_0)},pa=function(r){const i=r instanceof ArrayBuffer?r.byteLength:r.length,l=32,c=i*2,d=Math.max(l,c);x(this,cn).output={buf:Pe(d),count:0,write:()=>{}};const m={buf:r,pos:0,count:r instanceof ArrayBuffer?r.byteLength:r.length};ne(this,M,$d).call(this,m)},Yd=function(r,i,l){let c;x(this,oe)._matchFinder._keepSizeBefore=r,x(this,oe)._matchFinder._keepSizeAfter=i,c=r+i+l,(x(this,oe)._matchFinder._bufferBase==null||x(this,oe)._matchFinder._blockSize!=c)&&(x(this,oe)._matchFinder._bufferBase=Pe(c),x(this,oe)._matchFinder._blockSize=c),x(this,oe)._matchFinder._pointerToLastSafePosition=x(this,oe)._matchFinder._blockSize-i},Qd=function(){const r=x(this,F).chunker.encoder._matchFinder;let i;r._pos+=1,r._pos>r._posLimit&&(i=r._bufferOffset+r._pos,i>r._pointerToLastSafePosition&&x(this,je).moveBlock(),x(this,je).readBlock())},Kd=function(r,i){const l=x(this,oe)._dictionarySize,c=x(this,oe)._numFastBytes;if(Vm(l)){x(this,oe)._matchFinder._cutValue=Wm(c);const d=zm(l,r,c,i);ne(this,M,Yd).call(this,l+r,c+i,d),x(this,oe)._matchFinder._matchMaxLen=c,Hm(x(this,oe)._matchFinder,l);const{hashMask:m,hashSizeSum:g}=Gm(l,x(this,oe)._matchFinder.HASH_ARRAY);if(x(this,oe)._matchFinder.HASH_ARRAY){x(this,oe)._matchFinder._hashMask=m;const p=g+x(this,oe)._matchFinder.kFixHashSize;p!==x(this,oe)._matchFinder._hashSizeSum&&(x(this,oe)._matchFinder._hashSizeSum=p,x(this,oe)._matchFinder._hash=Pe(p))}else g!==x(this,oe)._matchFinder._hashSizeSum&&(x(this,oe)._matchFinder._hashSizeSum=g,x(this,oe)._matchFinder._hash=Pe(g))}},Xd=function(){let r,i,l,c,d,m,g,p,k,w,y,A,I,H,U,$,J,Y,se,q,Q;const N=x(this,F).chunker.encoder._matchFinder,ae=x(this,F).chunker.encoder._matchDistances;if(N._pos+N._matchMaxLen<=N._streamPos)H=N._matchMaxLen;else if(H=N._streamPos-N._pos,H<N.kMinMatchCheck)return ne(this,M,Vi).call(this),0;for(J=0,U=N._pos>N._cyclicBufferSize?N._pos-N._cyclicBufferSize:0,i=N._bufferOffset+N._pos,$=1,p=0,k=0,N.HASH_ARRAY?(Q=so[N._bufferBase[i]&255]^N._bufferBase[i+1]&255,p=Q&1023,Q^=(N._bufferBase[i+2]&255)<<8,k=Q&65535,w=(Q^so[N._bufferBase[i+3]&255]<<5)&N._hashMask):w=N._bufferBase[i]&255^(N._bufferBase[i+1]&255)<<8,l=N._hash[N.kFixHashSize+w]||0,N.HASH_ARRAY&&(c=N._hash[p]||0,d=N._hash[1024+k]||0,N._hash[p]=N._pos,N._hash[1024+k]=N._pos,c>U&&N._bufferBase[N._bufferOffset+c]==N._bufferBase[i]&&(ae[J++]=$=2,ae[J++]=N._pos-c-1),d>U&&N._bufferBase[N._bufferOffset+d]==N._bufferBase[i]&&(d==c&&(J-=2),ae[J++]=$=3,ae[J++]=N._pos-d-1,c=d),J!=0&&c==l&&(J-=2,$=1)),N._hash[N.kFixHashSize+w]=N._pos,se=(N._cyclicBufferPos<<1)+1,q=N._cyclicBufferPos<<1,A=I=N.kNumHashDirectBytes,N.kNumHashDirectBytes!=0&&l>U&&N._bufferBase[N._bufferOffset+l+N.kNumHashDirectBytes]!=N._bufferBase[i+N.kNumHashDirectBytes]&&(ae[J++]=$=N.kNumHashDirectBytes,ae[J++]=N._pos-l-1),r=N._cutValue;;){if(l<=U||r==0){r-=1,N._son[se]=N._son[q]=0;break}if(g=N._pos-l,m=(g<=N._cyclicBufferPos?N._cyclicBufferPos-g:N._cyclicBufferPos-g+N._cyclicBufferSize)<<1,Y=N._bufferOffset+l,y=A<I?A:I,N._bufferBase[Y+y]==N._bufferBase[i+y]){for(;(y+=1)!=H&&N._bufferBase[Y+y]==N._bufferBase[i+y];);if($<y&&(ae[J++]=$=y,ae[J++]=g-1,y==H)){N._son[q]=N._son[m],N._son[se]=N._son[m+1];break}}(N._bufferBase[Y+y]&255)<(N._bufferBase[i+y]&255)?(N._son[q]=l,q=m+1,l=N._son[q],I=y):(N._son[se]=l,se=m,l=N._son[se],A=y)}return ne(this,M,Vi).call(this),J},Zd=function(){x(this,F).chunker.encoder._matchFinder._bufferOffset=0,x(this,F).chunker.encoder._matchFinder._pos=0,x(this,F).chunker.encoder._matchFinder._streamPos=0,x(this,F).chunker.encoder._matchFinder._streamEndWasReached=0,x(this,je).readBlock(),x(this,F).chunker.encoder._matchFinder._cyclicBufferPos=0,x(this,je).reduceOffsets(-1)},Vi=function(){let r;const i=x(this,F).chunker.encoder._matchFinder;(i._cyclicBufferPos+=1)>=i._cyclicBufferSize&&(i._cyclicBufferPos=0),ne(this,M,Qd).call(this),i._pos==Ld&&(r=i._pos-i._cyclicBufferSize,ne(this,M,ma).call(this,i._cyclicBufferSize*2,r),ne(this,M,ma).call(this,i._hashSizeSum,r),x(this,je).reduceOffsets(r))},ma=function(r,i){const l=x(this,F).chunker.encoder._matchFinder._son;for(let c=0,d;c<r;++c)d=l[c]||0,d<=i?d=0:d-=i,l[c]=d},Jd=function(r,i){r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0)},qd=function(r){const i=x(this,F).chunker.encoder._matchFinder;let l,c,d,m,g,p,k,w,y,A,I,H,U,$,J,Y,se;do{if(i._pos+i._matchMaxLen<=i._streamPos)H=i._matchMaxLen;else if(H=i._streamPos-i._pos,H<i.kMinMatchCheck){ne(this,M,Vi).call(this);continue}for(U=i._pos>i._cyclicBufferSize?i._pos-i._cyclicBufferSize:0,c=i._bufferOffset+i._pos,i.HASH_ARRAY?(se=so[i._bufferBase[c]&255]^i._bufferBase[c+1]&255,p=se&1023,i._hash[p]=i._pos,se^=(i._bufferBase[c+2]&255)<<8,k=se&65535,i._hash[1024+k]=i._pos,w=(se^so[i._bufferBase[c+3]&255]<<5)&i._hashMask):w=i._bufferBase[c]&255^(i._bufferBase[c+1]&255)<<8,d=i._hash[i.kFixHashSize+w],i._hash[i.kFixHashSize+w]=i._pos,J=(i._cyclicBufferPos<<1)+1,Y=i._cyclicBufferPos<<1,A=I=i.kNumHashDirectBytes,l=i._cutValue;;){if(d<=U||l==0){l-=1,i._son[J]=i._son[Y]=0;break}if(g=i._pos-d,m=(g<=i._cyclicBufferPos?i._cyclicBufferPos-g:i._cyclicBufferPos-g+i._cyclicBufferSize)<<1,$=i._bufferOffset+d,y=A<I?A:I,i._bufferBase[$+y]==i._bufferBase[c+y]){for(;(y+=1)!=H&&i._bufferBase[$+y]==i._bufferBase[c+y];);if(y==H){i._son[Y]=i._son[m],i._son[J]=i._son[m+1];break}}(i._bufferBase[$+y]&255)<(i._bufferBase[c+y]&255)?(i._son[Y]=d,Y=m+1,d=i._son[Y],I=y):(i._son[J]=d,J=m,d=i._son[J],A=y)}ne(this,M,Vi).call(this)}while((r-=1)!=0)},ef=function(r,i){x(this,st).rangeDecoder.stream=r,x(this,st).flush(),x(this,st).outWindow.stream=null,x(this,st).outWindow.stream=x(this,cn).output,ne(this,M,tf).call(this),x(this,st).state=0,x(this,st).rep0=0,x(this,st).rep1=0,x(this,st).rep2=0,x(this,st).rep3=0,x(this,st).outSize=i,x(this,st).nowPos64=Jr,x(this,st).prevByte=0;const l=new _d(x(this,st));return l.alive=1,l},tf=function(){x(this,st).init()},ga=function(r){const i=x(this,F).chunker.encoder;let l,c,d,m;i._optimumEndIndex=r,d=i._optimum[r].posPrev,c=i._optimum[r].backPrev;do i._optimum[r].prev1IsChar&&(ne(this,M,ka).call(this,i._optimum[d]),i._optimum[d].posPrev=d-1,i._optimum[r].prev2&&(i._optimum[d-1].prev1IsChar=0,i._optimum[d-1].posPrev=i._optimum[r].posPrev2,i._optimum[d-1].backPrev=i._optimum[r].backPrev2)),m=d,l=c,c=i._optimum[m].backPrev,d=i._optimum[m].posPrev,i._optimum[m].backPrev=l,i._optimum[m].posPrev=r,r=m;while(r>0);return i.backRes=i._optimum[0].backPrev,i._optimumCurrentIndex=i._optimum[0].posPrev,i._optimumCurrentIndex},nf=function(){let r,i,l,c,d,m,g,p,k,w,y,A,I,H;if(x(this,F).chunker.encoder.processedInSize[0]=Jr,x(this,F).chunker.encoder.processedOutSize[0]=Jr,x(this,F).chunker.encoder.finished[0]=1,I=x(this,F).chunker.encoder.nowPos64,x(this,F).chunker.encoder._inStream&&(x(this,F).chunker.encoder._matchFinder._stream=x(this,F).chunker.encoder._inStream,ne(this,M,Zd).call(this),x(this,F).chunker.encoder._needReleaseMFStream=1,x(this,F).chunker.encoder._inStream=null),!x(this,F).chunker.encoder._finished){if(x(this,F).chunker.encoder._finished=1,Bn(x(this,F).chunker.encoder.nowPos64,Jr)===0){if(!x(this,je).getNumAvailableBytes()){ne(this,M,uo).call(this,bt(x(this,F).chunker.encoder.nowPos64));return}ne(this,M,co).call(this),A=bt(x(this,F).chunker.encoder.nowPos64)&x(this,F).chunker.encoder._posStateMask,x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isMatch,(x(this,F).chunker.encoder._state<<4)+A,0),x(this,F).chunker.encoder._state=tr(x(this,F).chunker.encoder._state),l=x(this,je).getIndexByte(-x(this,F).chunker.encoder._additionalOffset),x(this,F).chunker.encoder.encodeLiteral(ne(this,M,wr).call(this,bt(x(this,F).chunker.encoder.nowPos64),x(this,F).chunker.encoder._previousByte),l),x(this,F).chunker.encoder._previousByte=l,x(this,F).chunker.encoder._additionalOffset-=1,x(this,F).chunker.encoder.nowPos64=kn(x(this,F).chunker.encoder.nowPos64,Em)}if(!x(this,je).getNumAvailableBytes()){ne(this,M,uo).call(this,bt(x(this,F).chunker.encoder.nowPos64));return}for(;;){if(m=ne(this,M,lf).call(this,bt(x(this,F).chunker.encoder.nowPos64)),k=x(this,F).chunker.encoder.backRes,A=bt(x(this,F).chunker.encoder.nowPos64)&x(this,F).chunker.encoder._posStateMask,i=(x(this,F).chunker.encoder._state<<4)+A,m==1&&k==-1)x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isMatch,i,0),l=x(this,je).getIndexByte(-x(this,F).chunker.encoder._additionalOffset),H=ne(this,M,wr).call(this,bt(x(this,F).chunker.encoder.nowPos64),x(this,F).chunker.encoder._previousByte),x(this,F).chunker.encoder._state<7?x(this,F).chunker.encoder.encodeLiteral(H,l):(p=x(this,je).getIndexByte(-x(this,F).chunker.encoder._repDistances[0]-1-x(this,F).chunker.encoder._additionalOffset),x(this,F).chunker.encoder.encodeMatched(H,p,l)),x(this,F).chunker.encoder._previousByte=l,x(this,F).chunker.encoder._state=tr(x(this,F).chunker.encoder._state);else{if(x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isMatch,i,1),k<4){if(x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRep,x(this,F).chunker.encoder._state,1),k?(x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRepG0,x(this,F).chunker.encoder._state,1),k==1?x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRepG1,x(this,F).chunker.encoder._state,0):(x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRepG1,x(this,F).chunker.encoder._state,1),x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRepG2,x(this,F).chunker.encoder._state,k-2))):(x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRepG0,x(this,F).chunker.encoder._state,0),m==1?x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRep0Long,i,0):x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRep0Long,i,1)),m==1?x(this,F).chunker.encoder._state=x(this,F).chunker.encoder._state<7?9:11:(x(this,F).chunker.encoder.encodeLength(x(this,F).chunker.encoder._repMatchLenEncoder,m-2,A),x(this,F).chunker.encoder._state=x(this,F).chunker.encoder._state<7?8:11),c=x(this,F).chunker.encoder._repDistances[k],k!=0){const U=x(this,F).chunker.encoder;for(let $=k;$>=1;--$)U._repDistances[$]=U._repDistances[$-1];U._repDistances[0]=c}}else{x(this,F).chunker.encoder.encodeBit(x(this,F).chunker.encoder._isRep,x(this,F).chunker.encoder._state,0),x(this,F).chunker.encoder._state=x(this,F).chunker.encoder._state<7?7:10,x(this,F).chunker.encoder.encodeLength(x(this,F).chunker.encoder._lenEncoder,m-2,A),k-=4,y=x(this,F).chunker.encoder.getPosSlot(k),g=mo(m),x(this,F).chunker.encoder.encodeBitTree(x(this,F).chunker.encoder._posSlotEncoder[g],y),y>=4&&(d=(y>>1)-1,r=(2|y&1)<<d,w=k-r,y<14?x(this,F).chunker.encoder.reverseEncodeRange(r-y-1,d,w):(x(this,F).chunker.encoder.encodeDirectBits(w>>4,d-4),x(this,F).chunker.encoder.reverseEncode(w&15),x(this,F).chunker.encoder._alignPriceCount+=1)),c=k;const U=x(this,F).chunker.encoder;for(let $=3;$>=1;--$)U._repDistances[$]=U._repDistances[$-1];U._repDistances[0]=c,U._matchPriceCount+=1}x(this,F).chunker.encoder._previousByte=x(this,je).getIndexByte(m-1-x(this,F).chunker.encoder._additionalOffset)}if(x(this,F).chunker.encoder._additionalOffset-=m,x(this,F).chunker.encoder.nowPos64=kn(x(this,F).chunker.encoder.nowPos64,_r(m)),!x(this,F).chunker.encoder._additionalOffset){if(x(this,F).chunker.encoder._matchPriceCount>=128&&x(this,F).chunker.encoder.fillDistancesPrices(),x(this,F).chunker.encoder._alignPriceCount>=16&&ne(this,M,of).call(this,x(this,F).chunker.encoder),x(this,F).chunker.encoder.processedInSize[0]=x(this,F).chunker.encoder.nowPos64,x(this,F).chunker.encoder.processedOutSize[0]=ne(this,M,ff).call(this),!x(this,je).getNumAvailableBytes()){ne(this,M,uo).call(this,bt(x(this,F).chunker.encoder.nowPos64));return}if(Bn(jd(x(this,F).chunker.encoder.nowPos64,I),[4096,0])>=0){x(this,F).chunker.encoder._finished=0,x(this,F).chunker.encoder.finished[0]=0;return}}}}},rf=function(){let r,i;x(this,oe)._matchFinder||(r={},i=4,x(this,oe)._matchFinderType||(i=2),ne(this,M,Jd).call(this,r,i),x(this,oe)._matchFinder=r,Kr(this,je,new Um(r))),x(this,oe).createLiteralEncoder(),!(x(this,oe)._dictionarySize==x(this,oe)._dictionarySizePrev&&x(this,oe)._numFastBytesPrev==x(this,oe)._numFastBytes)&&(ne(this,M,Kd).call(this,4096,274),x(this,oe)._dictionarySizePrev=x(this,oe)._dictionarySize,x(this,oe)._numFastBytesPrev=x(this,oe)._numFastBytes)},sf=function(){for(let r=0;r<4096;++r)x(this,oe)._optimum[r]={};for(let r=0;r<4;++r)x(this,oe)._posSlotEncoder[r]=St(6)},of=function(r){for(let i=0;i<16;++i)r._alignPrices[i]=ne(this,M,df).call(this,r._posAlignEncoder,i);r._alignPriceCount=0},uo=function(r){ne(this,M,va).call(this),x(this,F).chunker.encoder.writeEndMarker(r&x(this,F).chunker.encoder._posStateMask);for(let i=0;i<5;++i)x(this,F).chunker.encoder.shiftLow()},lf=function(r){let i,l,c,d,m,g,p,k,w,y,A,I,H,U,$,J,Y,se,q,Q,N,ae,V,ye,pe,fe,Ee,be,P,ve,Ae,ue,O,ce,X,E,j,xe,ke,De,ee,we,Ne,C,tt,zt,fn,Jt,Lt;const b=x(this,F).chunker.encoder;if(b._optimumEndIndex!=b._optimumCurrentIndex)return Lt=b._optimum[b._optimumCurrentIndex].posPrev-b._optimumCurrentIndex,b.backRes=b._optimum[b._optimumCurrentIndex].backPrev,b._optimumCurrentIndex=b._optimum[b._optimumCurrentIndex].posPrev,Lt;if(b._optimumCurrentIndex=b._optimumEndIndex=0,b._longestMatchWasFound?(A=b._longestMatchLength,b._longestMatchWasFound=0):A=ne(this,M,co).call(this),pe=b._numDistancePairs,V=x(this,je).getNumAvailableBytes()+1,V<2)return b.backRes=-1,1;V>273&&(V=273),xe=0;for(let ot=0;ot<4;++ot)b.reps[ot]=b._repDistances[ot],b.repLens[ot]=x(this,je).getMatchLen(-1,b.reps[ot],273),b.repLens[ot]>b.repLens[xe]&&(xe=ot);if(b.repLens[xe]>=b._numFastBytes)return b.backRes=xe,Lt=b.repLens[xe],ne(this,M,ya).call(this,Lt-1),Lt;if(A>=b._numFastBytes)return b.backRes=x(this,F).chunker.encoder._matchDistances[pe-1]+4,ne(this,M,ya).call(this,A-1),A;if(p=x(this,je).getIndexByte(-1),$=x(this,je).getIndexByte(-b._repDistances[0]-1-1),A<2&&p!=$&&b.repLens[xe]<2)return b.backRes=-1,1;if(b._optimum[0].state=b._state,ue=r&b._posStateMask,b._optimum[1].price=We[b._isMatch[(b._state<<4)+ue]>>>2]+ne(this,M,$i).call(this,ne(this,M,wr).call(this,r,b._previousByte),b._state>=7,$,p),ne(this,M,ka).call(this,b._optimum[1]),J=We[2048-b._isMatch[(b._state<<4)+ue]>>>2],j=J+We[2048-b._isRep[b._state]>>>2],$==p&&(ke=j+ne(this,M,af).call(this,ue),ke<b._optimum[1].price&&(b._optimum[1].price=ke,ne(this,M,cf).call(this,b._optimum[1]))),y=A>=b.repLens[xe]?A:b.repLens[xe],y<2)return b.backRes=b._optimum[1].backPrev,1;b._optimum[1].posPrev=0,b._optimum[0].backs0=b.reps[0],b._optimum[0].backs1=b.reps[1],b._optimum[0].backs2=b.reps[2],b._optimum[0].backs3=b.reps[3],w=y;do b._optimum[w].price=Xr,w-=1;while(w>=2);for(let ot=0;ot<4;++ot)if(E=b.repLens[ot],!(E<2)){ce=j+ne(this,M,kr).call(this,ot,b._state,ue);do d=ce+b._repMatchLenEncoder.getPrice(E-2,ue),P=b._optimum[E],d<P.price&&(P.price=d,P.posPrev=0,P.backPrev=ot,P.prev1IsChar=0);while((E-=1)>=2)}if(ae=J+We[b._isRep[b._state]>>>2],w=b.repLens[0]>=2?b.repLens[0]+1:2,w<=A){for(fe=0;w>b._matchDistances[fe];)fe+=2;for(;k=b._matchDistances[fe+1],d=ae+ne(this,M,xa).call(this,k,w,ue),P=b._optimum[w],d<P.price&&(P.price=d,P.posPrev=0,P.backPrev=k+4,P.prev1IsChar=0),!(w==b._matchDistances[fe]&&(fe+=2,fe==pe));w+=1);}for(i=0;;){if(++i,i==y)return ne(this,M,ga).call(this,i);if(Y=ne(this,M,co).call(this),pe=b._numDistancePairs,Y>=b._numFastBytes)return b._longestMatchLength=Y,b._longestMatchWasFound=1,ne(this,M,ga).call(this,i);if(r+=1,Ae=b._optimum[i].posPrev,b._optimum[i].prev1IsChar?(Ae-=1,b._optimum[i].prev2?(ee=b._optimum[b._optimum[i].posPrev2].state,b._optimum[i].backPrev2<4?ee=ee<7?8:11:ee=ee<7?7:10):ee=b._optimum[Ae].state,ee=tr(ee)):ee=b._optimum[Ae].state,Ae==i-1?b._optimum[i].backPrev?ee=tr(ee):ee=ee<7?9:11:(b._optimum[i].prev1IsChar&&b._optimum[i].prev2?(Ae=b._optimum[i].posPrev2,ve=b._optimum[i].backPrev2,ee=ee<7?8:11):(ve=b._optimum[i].backPrev,ve<4?ee=ee<7?8:11:ee=ee<7?7:10),be=b._optimum[Ae],ve<4?ve?ve==1?(b.reps[0]=be.backs1,b.reps[1]=be.backs0,b.reps[2]=be.backs2,b.reps[3]=be.backs3):ve==2?(b.reps[0]=be.backs2,b.reps[1]=be.backs0,b.reps[2]=be.backs1,b.reps[3]=be.backs3):(b.reps[0]=be.backs3,b.reps[1]=be.backs0,b.reps[2]=be.backs1,b.reps[3]=be.backs2):(b.reps[0]=be.backs0,b.reps[1]=be.backs1,b.reps[2]=be.backs2,b.reps[3]=be.backs3):(b.reps[0]=ve-4,b.reps[1]=be.backs0,b.reps[2]=be.backs1,b.reps[3]=be.backs2)),b._optimum[i].state=ee,b._optimum[i].backs0=b.reps[0],b._optimum[i].backs1=b.reps[1],b._optimum[i].backs2=b.reps[2],b._optimum[i].backs3=b.reps[3],g=b._optimum[i].price,p=x(this,je).getIndexByte(-1),$=x(this,je).getIndexByte(-b.reps[0]-1-1),ue=r&b._posStateMask,l=g+We[b._isMatch[(ee<<4)+ue]>>>2]+ne(this,M,$i).call(this,ne(this,M,wr).call(this,r,x(this,je).getIndexByte(-2)),ee>=7,$,p),Q=b._optimum[i+1],se=0,l<Q.price&&(Q.price=l,Q.posPrev=i,Q.backPrev=-1,Q.prev1IsChar=0,se=1),J=g+We[2048-b._isMatch[(ee<<4)+ue]>>>2],j=J+We[2048-b._isRep[ee]>>>2],$==p&&!(Q.posPrev<i&&!Q.backPrev)&&(ke=j+(We[b._isRepG0[ee]>>>2]+We[b._isRep0Long[(ee<<4)+ue]>>>2]),ke<=Q.price&&(Q.price=ke,Q.posPrev=i,Q.backPrev=0,Q.prev1IsChar=0,se=1)),ye=x(this,je).getNumAvailableBytes()+1,ye=4095-i<ye?4095-i:ye,V=ye,!(V<2)){if(V>b._numFastBytes&&(V=b._numFastBytes),!se&&$!=p&&(Ne=Math.min(ye-1,b._numFastBytes),H=x(this,je).getMatchLen(0,b.reps[0],Ne),H>=2)){for(we=tr(ee),O=r+1&b._posStateMask,N=l+We[2048-b._isMatch[(we<<4)+O]>>>2]+We[2048-b._isRep[we]>>>2],Ee=i+1+H;y<Ee;)b._optimum[y+=1].price=Xr;d=N+(C=b._repMatchLenEncoder.getPrice(H-2,O),C+ne(this,M,kr).call(this,0,we,O)),P=b._optimum[Ee],d<P.price&&(P.price=d,P.posPrev=i+1,P.backPrev=0,P.prev1IsChar=1,P.prev2=0)}for(De=2,X=0;X<4;++X)if(I=x(this,je).getMatchLen(-1,b.reps[X],V),!(I<2)){U=I;do{for(;y<i+I;)b._optimum[y+=1].price=Xr;d=j+(tt=b._repMatchLenEncoder.getPrice(I-2,ue),tt+ne(this,M,kr).call(this,X,ee,ue)),P=b._optimum[i+I],d<P.price&&(P.price=d,P.posPrev=i,P.backPrev=X,P.prev1IsChar=0)}while((I-=1)>=2);if(I=U,X||(De=I+1),I<ye&&(Ne=Math.min(ye-1-I,b._numFastBytes),H=x(this,je).getMatchLen(I,b.reps[X],Ne),H>=2)){for(we=ee<7?8:11,O=r+I&b._posStateMask,c=j+(zt=b._repMatchLenEncoder.getPrice(I-2,ue),zt+ne(this,M,kr).call(this,X,ee,ue))+We[b._isMatch[(we<<4)+O]>>>2]+ne(this,M,$i).call(this,ne(this,M,wr).call(this,r+I,x(this,je).getIndexByte(I-1-1)),!0,x(this,je).getIndexByte(I-1-(b.reps[X]+1)),x(this,je).getIndexByte(I-1)),we=tr(we),O=r+I+1&b._posStateMask,q=c+We[2048-b._isMatch[(we<<4)+O]>>>2],N=q+We[2048-b._isRep[we]>>>2],Ee=I+1+H;y<i+Ee;)b._optimum[y+=1].price=Xr;d=N+(fn=b._repMatchLenEncoder.getPrice(H-2,O),fn+ne(this,M,kr).call(this,0,we,O)),P=b._optimum[i+Ee],d<P.price&&(P.price=d,P.posPrev=i+I+1,P.backPrev=0,P.prev1IsChar=1,P.prev2=1,P.posPrev2=i,P.backPrev2=X)}}if(Y>V){for(Y=V,pe=0;Y>b._matchDistances[pe];pe+=2);b._matchDistances[pe]=Y,pe+=2}if(Y>=De){for(ae=J+We[b._isRep[ee]>>>2];y<i+Y;)b._optimum[y+=1].price=Xr;for(fe=0;De>b._matchDistances[fe];)fe+=2;for(I=De;;I+=1)if(m=b._matchDistances[fe+1],d=ae+ne(this,M,xa).call(this,m,I,ue),P=b._optimum[i+I],d<P.price&&(P.price=d,P.posPrev=i,P.backPrev=m+4,P.prev1IsChar=0),I==b._matchDistances[fe]){if(I<ye&&(Ne=Math.min(ye-1-I,b._numFastBytes),H=x(this,je).getMatchLen(I,m,Ne),H>=2)){for(we=ee<7?7:10,O=r+I&b._posStateMask,c=d+We[b._isMatch[(we<<4)+O]>>>2]+ne(this,M,$i).call(this,ne(this,M,wr).call(this,r+I,x(this,je).getIndexByte(I-1-1)),!0,x(this,je).getIndexByte(I-(m+1)-1),x(this,je).getIndexByte(I-1)),we=tr(we),O=r+I+1&b._posStateMask,q=c+We[2048-b._isMatch[(we<<4)+O]>>>2],N=q+We[2048-b._isRep[we]>>>2],Ee=I+1+H;y<i+Ee;)b._optimum[y+=1].price=Xr;d=N+(Jt=b._repMatchLenEncoder.getPrice(H-2,O),Jt+ne(this,M,kr).call(this,0,we,O)),P=b._optimum[i+Ee],d<P.price&&(P.price=d,P.posPrev=i+I+1,P.backPrev=0,P.prev1IsChar=1,P.prev2=1,P.posPrev2=i,P.backPrev2=m+4)}if(fe+=2,fe==pe)break}}}}return 1},xa=function(r,i,l){const c=x(this,F).chunker.encoder;let d,m=mo(i);if(r<128)d=c._distancesPrices[m*128+r];else{const g=(m<<6)+this.GetPosSlot2(r);d=c._posSlotPrices[g]+c._alignPrices[r&15]}return d+c._lenEncoder.getPrice(i-2,l)},kr=function(r,i,l){const c=x(this,F).chunker.encoder;let d;return r?(d=We[2048-x(this,F).chunker.encoder._isRepG0[i]>>>2],r==1?d+=We[x(this,F).chunker.encoder._isRepG1[i]>>>2]:(d+=We[2048-x(this,F).chunker.encoder._isRepG1[i]>>>2],d+=vn(x(this,F).chunker.encoder._isRepG2[i],r-2))):(d=We[c._isRepG0[i]>>>2],d+=We[2048-x(this,F).chunker.encoder._isRep0Long[(i<<4)+l]>>>2]),d},af=function(r){const i=x(this,F).chunker.encoder,l=We[i._isRepG0[i._state]>>>2],c=We[i._isRep0Long[(i._state<<4)+r]>>>2];return l+c},ya=function(r){r>0&&(ne(this,M,qd).call(this,r),x(this,F).chunker.encoder._additionalOffset+=r)},co=function(){let r=0;const i=x(this,F).chunker.encoder;return i._numDistancePairs=ne(this,M,Xd).call(this),i._numDistancePairs>0&&(r=i._matchDistances[i._numDistancePairs-2],r==i._numFastBytes&&(r+=x(this,je).getMatchLen(r-1,i._matchDistances[i._numDistancePairs-1],273-r))),i._additionalOffset+=1,r},va=function(){const r=x(this,F).chunker.encoder;r._matchFinder&&r._needReleaseMFStream&&(r._matchFinder._stream=null,r._needReleaseMFStream=0)},uf=function(){ne(this,M,va).call(this),x(this,F).chunker.encoder._rangeEncoder.stream=null},wr=function(r,i){return{decoders:x(this,F).chunker.encoder._literalEncoder.getSubCoder(r,i).decoders}},$i=function(r,i,l,c){let d,m=1,g=7,p,k=0;if(i){for(;g>=0;--g)if(p=l>>g&1,d=c>>g&1,k+=vn(r.decoders[(1+p<<8)+m],d),m=m<<1|d,p!=d){--g;break}}for(;g>=0;--g)d=c>>g&1,k+=vn(r.decoders[m],d),m=m<<1|d;return k},ka=function(r){r.backPrev=-1,r.prev1IsChar=0},cf=function(r){r.backPrev=0,r.prev1IsChar=0},df=function(r,i){let l,c=1,d=0;for(let m=r.numBitLevels;m!=0;m-=1)l=i&1,i>>>=1,d+=vn(r.models[c],l),c=c<<1|l;return d},ff=function(){const r=kn(_r(x(this,F).chunker.encoder._rangeEncoder.cacheSize),x(this,F).chunker.encoder._rangeEncoder.position);return kn(r,[4,0])},hf=function(r){let i=0,l,c,d,m=r.length,g=[],p=[];for(let k=0;k<m;++k,++i){if(l=r[k]&255,l&128)if((l&224)==192){if(k+1>=m)return String.fromCharCode(...r);if(c=r[++k]&255,(c&192)!=128)return String.fromCharCode(...r);p[i]=(l&31)<<6|c&63}else if((l&240)==224){if(k+2>=m||(c=r[++k]&255,(c&192)!=128)||(d=r[++k]&255,(d&192)!=128))return r;p[i]=(l&15)<<12|(c&63)<<6|d&63}else return r;else{if(!l)return r;p[i]=l}i==16383&&(g.push(String.fromCharCode.apply(String,p)),i=-1)}return i>0&&(p.length=i,g.push(String.fromCharCode.apply(String,p))),g.join("")};/**
 * @license
 * Copyright Filip Seman
 * SPDX-License-Identifier: MIT
 */function Ym(a,r=5){const i=a instanceof ArrayBuffer?new Uint8Array(a):a,l=new Md().compress(i,r);return new Uint8Array(l)}function Qm(a){const r=a instanceof ArrayBuffer?new Uint8Array(a):a,i=new Md().decompress(r);return new Uint8Array(i)}const Km=300,pf=255,go=4096,Xm={item:1,outfit:2,effect:3,distance:4},Zm={1:"item",2:"outfit",3:"effect",4:"distance"},Z={GROUND:0,GROUND_BORDER:1,ON_BOTTOM:2,ON_TOP:3,CONTAINER:4,STACKABLE:5,FORCE_USE:6,MULTI_USE:7,WRITABLE:8,WRITABLE_ONCE:9,FLUID_CONTAINER:10,FLUID:11,UNPASSABLE:12,UNMOVEABLE:13,BLOCK_MISSILE:14,BLOCK_PATHFIND:15,NO_MOVE_ANIMATION:16,PICKUPABLE:17,HANGABLE:18,HOOK_SOUTH:19,HOOK_EAST:20,ROTATABLE:21,HAS_LIGHT:22,DONT_HIDE:23,TRANSLUCENT:24,HAS_OFFSET:25,HAS_ELEVATION:26,LYING_OBJECT:27,ANIMATE_ALWAYS:28,MINI_MAP:29,LENS_HELP:30,FULL_GROUND:31,IGNORE_LOOK:32,CLOTH:33,MARKET_ITEM:34,DEFAULT_ACTION:35,WRAPPABLE:36,UNWRAPPABLE:37,TOP_EFFECT:38,HAS_CHARGES:252,FLOOR_CHANGE:253,USABLE:254};function Jm(a){const r=new Uint8Array(a.length);for(let i=0;i<a.length;i+=4)r[i]=a[i+3],r[i+1]=a[i],r[i+2]=a[i+1],r[i+3]=a[i+2];return r}function qm(a){const r=new Uint8ClampedArray(a.length);for(let i=0;i<a.length;i+=4)r[i]=a[i+1],r[i+1]=a[i+2],r[i+2]=a[i+3],r[i+3]=a[i];return r}class e0{constructor(r=65536){L(this,"buf");L(this,"view");L(this,"pos",0);this.buf=new Uint8Array(r),this.view=new DataView(this.buf.buffer)}grow(r){for(;this.pos+r>this.buf.length;){const i=new Uint8Array(this.buf.length*2);i.set(this.buf),this.buf=i,this.view=new DataView(this.buf.buffer)}}u8(r){this.grow(1),this.view.setUint8(this.pos,r),this.pos+=1}u16(r){this.grow(2),this.view.setUint16(this.pos,r,!0),this.pos+=2}i16(r){this.grow(2),this.view.setInt16(this.pos,r,!0),this.pos+=2}u32(r){this.grow(4),this.view.setUint32(this.pos,r,!0),this.pos+=4}i32(r){this.grow(4),this.view.setInt32(this.pos,r,!0),this.pos+=4}bytes(r){this.grow(r.length),this.buf.set(r,this.pos),this.pos+=r.length}result(){return this.buf.slice(0,this.pos)}patchU32(r,i){this.view.setUint32(r,i,!0)}}class t0{constructor(r){L(this,"view");L(this,"pos",0);this.data=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength)}u8(){const r=this.view.getUint8(this.pos);return this.pos+=1,r}u16(){const r=this.view.getUint16(this.pos,!0);return this.pos+=2,r}i16(){const r=this.view.getInt16(this.pos,!0);return this.pos+=2,r}u32(){const r=this.view.getUint32(this.pos,!0);return this.pos+=4,r}i32(){const r=this.view.getInt32(this.pos,!0);return this.pos+=4,r}bytes(r){const i=this.data.slice(this.pos,this.pos+r);return this.pos+=r,i}str(r){return new TextDecoder("latin1").decode(this.bytes(r))}}function n0(a,r){if(r.ground?(a.u8(Z.GROUND),a.u16(r.groundSpeed??0)):r.groundBorder?a.u8(Z.GROUND_BORDER):r.onBottom?a.u8(Z.ON_BOTTOM):r.onTop&&a.u8(Z.ON_TOP),r.container&&a.u8(Z.CONTAINER),r.stackable&&a.u8(Z.STACKABLE),r.forceUse&&a.u8(Z.FORCE_USE),r.multiUse&&a.u8(Z.MULTI_USE),r.writable&&(a.u8(Z.WRITABLE),a.u16(r.writableMaxLen??0)),r.writableOnce&&(a.u8(Z.WRITABLE_ONCE),a.u16(r.writableOnceMaxLen??0)),r.fluidContainer&&a.u8(Z.FLUID_CONTAINER),r.splash&&a.u8(Z.FLUID),r.notWalkable&&a.u8(Z.UNPASSABLE),r.notMoveable&&a.u8(Z.UNMOVEABLE),r.blockProjectile&&a.u8(Z.BLOCK_MISSILE),r.notPathable&&a.u8(Z.BLOCK_PATHFIND),r.noMoveAnimation&&a.u8(Z.NO_MOVE_ANIMATION),r.pickupable&&a.u8(Z.PICKUPABLE),r.hangable&&a.u8(Z.HANGABLE),r.hookSouth&&a.u8(Z.HOOK_SOUTH),r.hookEast&&a.u8(Z.HOOK_EAST),r.rotateable&&a.u8(Z.ROTATABLE),r.hasLight&&(a.u8(Z.HAS_LIGHT),a.u16(r.lightLevel??0),a.u16(r.lightColor??0)),r.dontHide&&a.u8(Z.DONT_HIDE),r.translucent&&a.u8(Z.TRANSLUCENT),r.hasDisplacement&&(a.u8(Z.HAS_OFFSET),a.i16(r.displacementX??0),a.i16(r.displacementY??0)),r.hasElevation&&(a.u8(Z.HAS_ELEVATION),a.u16(r.elevation??0)),r.lyingCorpse&&a.u8(Z.LYING_OBJECT),r.animateAlways&&a.u8(Z.ANIMATE_ALWAYS),r.hasMinimapColor&&(a.u8(Z.MINI_MAP),a.u16(r.minimapColor??0)),r.lensHelp!=null&&(a.u8(Z.LENS_HELP),a.u16(r.lensHelp)),r.fullGround&&a.u8(Z.FULL_GROUND),r.look&&a.u8(Z.IGNORE_LOOK),r.cloth&&(a.u8(Z.CLOTH),a.u16(r.clothSlot??0)),r.hasMarket){a.u8(Z.MARKET_ITEM),a.u16(r.marketCategory??0),a.u16(r.marketTradeAs??0),a.u16(r.marketShowAs??0);const i=r.marketName??"";a.u16(i.length);for(let l=0;l<i.length;l++)a.u8(i.charCodeAt(l)&255);a.u16(r.marketRestrictVocation??0),a.u16(r.marketRequiredLevel??0)}r.usable&&(a.u8(Z.DEFAULT_ACTION),a.u16(r.usableActionId??0)),r.wrapable&&a.u8(Z.WRAPPABLE),r.unwrapable&&a.u8(Z.UNWRAPPABLE),r.topEffect&&a.u8(Z.TOP_EFFECT),r.chargeable&&a.u8(Z.HAS_CHARGES),a.u8(pf)}function r0(a){const r={ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1};for(;;){const i=a.u8();if(i===pf)break;switch(i){case Z.GROUND:r.ground=!0,r.groundSpeed=a.u16();break;case Z.GROUND_BORDER:r.groundBorder=!0;break;case Z.ON_BOTTOM:r.onBottom=!0;break;case Z.ON_TOP:r.onTop=!0;break;case Z.CONTAINER:r.container=!0;break;case Z.STACKABLE:r.stackable=!0;break;case Z.FORCE_USE:r.forceUse=!0;break;case Z.MULTI_USE:r.multiUse=!0;break;case Z.WRITABLE:r.writable=!0,r.writableMaxLen=a.u16();break;case Z.WRITABLE_ONCE:r.writableOnce=!0,r.writableOnceMaxLen=a.u16();break;case Z.FLUID_CONTAINER:r.fluidContainer=!0;break;case Z.FLUID:r.splash=!0;break;case Z.UNPASSABLE:r.notWalkable=!0;break;case Z.UNMOVEABLE:r.notMoveable=!0;break;case Z.BLOCK_MISSILE:r.blockProjectile=!0;break;case Z.BLOCK_PATHFIND:r.notPathable=!0;break;case Z.NO_MOVE_ANIMATION:r.noMoveAnimation=!0;break;case Z.PICKUPABLE:r.pickupable=!0;break;case Z.HANGABLE:r.hangable=!0;break;case Z.HOOK_SOUTH:r.hookSouth=!0;break;case Z.HOOK_EAST:r.hookEast=!0;break;case Z.ROTATABLE:r.rotateable=!0;break;case Z.HAS_LIGHT:r.hasLight=!0,r.lightLevel=a.u16(),r.lightColor=a.u16();break;case Z.DONT_HIDE:r.dontHide=!0;break;case Z.TRANSLUCENT:r.translucent=!0;break;case Z.HAS_OFFSET:r.hasDisplacement=!0,r.displacementX=a.i16(),r.displacementY=a.i16();break;case Z.HAS_ELEVATION:r.hasElevation=!0,r.elevation=a.u16();break;case Z.LYING_OBJECT:r.lyingCorpse=!0;break;case Z.ANIMATE_ALWAYS:r.animateAlways=!0;break;case Z.MINI_MAP:r.hasMinimapColor=!0,r.minimapColor=a.u16();break;case Z.LENS_HELP:r.lensHelp=a.u16();break;case Z.FULL_GROUND:r.fullGround=!0;break;case Z.IGNORE_LOOK:r.look=!0;break;case Z.CLOTH:r.cloth=!0,r.clothSlot=a.u16();break;case Z.MARKET_ITEM:{r.hasMarket=!0,r.marketCategory=a.u16(),r.marketTradeAs=a.u16(),r.marketShowAs=a.u16();const l=a.u16();r.marketName=a.str(l),r.marketRestrictVocation=a.u16(),r.marketRequiredLevel=a.u16();break}case Z.DEFAULT_ACTION:r.usable=!0,r.usableActionId=a.u16();break;case Z.HAS_CHARGES:r.chargeable=!0;break;case Z.FLOOR_CHANGE:break;case Z.WRAPPABLE:r.wrapable=!0;break;case Z.UNWRAPPABLE:r.unwrapable=!0;break;case Z.TOP_EFFECT:r.topEffect=!0;break;case Z.USABLE:r.usable=!0;break;default:throw new Error(`Unknown OBD flag 0x${i.toString(16)}`)}}return r}function i0(a){const{thing:r,clientVersion:i,spriteData:l,spriteOverrides:c}=a,d=new e0;d.u16(Km),d.u16(i),d.u8(Xm[r.category]??1);const m=d.pos;d.u32(0),n0(d,r.flags),d.patchU32(m,d.pos);const g=r.category==="outfit",p=r.frameGroups.length;g&&d.u8(p);for(let k=0;k<p;k++){g&&d.u8(p<2?1:k);const w=r.frameGroups[k];if(d.u8(w.width),d.u8(w.height),(w.width>1||w.height>1)&&d.u8(32),d.u8(w.layers),d.u8(w.patternX),d.u8(w.patternY),d.u8(w.patternZ||1),d.u8(w.animationLength),w.animationLength>1){d.u8(w.asynchronous),d.i32(w.nLoop),d.u8(w.start);for(let y=0;y<w.animationLength;y++){const A=w.animationLengths[y]??{min:100,max:100};d.u32(A.min),d.u32(A.max)}}for(let y=0;y<w.sprites.length;y++){const A=w.sprites[y];d.u32(A);let I;if(A===0)I=new Uint8Array(go);else{const U=c.get(A)??ho(l,A);U?I=Jm(new Uint8Array(U.data.buffer,U.data.byteOffset,U.data.byteLength)):I=new Uint8Array(go)}d.u32(I.length),d.bytes(I)}}return Ym(d.result(),5)}function s0(a){let r;try{r=Qm(a)}catch(I){throw new Error(`Failed to decompress OBD file. Ensure this is a valid .obd file.
${I instanceof Error?I.message:I}`)}if(r.length<9)throw new Error("OBD file too small.");const i=new t0(r),l=i.u16();let c,d;if(l===300)c=3,d=i.u16();else if(l===200)c=2,d=i.u16();else throw l>=710?new Error(`This is an OBD Version 1 file (client ${l}). V1 is not supported  please re-export from the Object Builder as V2 or V3.`):new Error(`Unrecognised OBD header: 0x${l.toString(16)} (${l}). Not a valid .obd file.`);const m=i.u8(),g=Zm[m];if(!g)throw new Error(`Invalid category byte: ${m}`);i.u32();const p=r0(i),k=g==="outfit";let w=1;k&&c===3&&(w=i.u8());const y=[],A=new Map;for(let I=0;I<w;I++){k&&c===3&&i.u8();const H=i.u8(),U=i.u8();(H>1||U>1)&&i.u8();const $=i.u8(),J=i.u8(),Y=i.u8(),se=i.u8()||1,q=i.u8();let Q=0,N=0,ae=0;const V=[];if(q>1){Q=i.u8(),N=i.i32(),ae=i.u8();for(let fe=0;fe<q;fe++)V.push({min:i.u32(),max:i.u32()})}else V.push({min:0,max:0});const ye=H*U*$*J*Y*se*q,pe=[];for(let fe=0;fe<ye;fe++){const Ee=i.u32();pe.push(Ee);let be;if(c===3){const P=i.u32();be=i.bytes(P)}else be=i.bytes(go);if(Ee>0&&be.length===go&&!A.has(Ee)){const P=qm(be),ve=new ImageData(P,32,32);A.set(Ee,ve)}}y.push({type:I,width:H,height:U,layers:$,patternX:J,patternY:Y,patternZ:se,animationLength:q,asynchronous:Q,nLoop:N,start:ae,animationLengths:V,sprites:pe})}return{category:g,clientVersion:d,flags:p,frameGroups:y,spritePixels:A}}const o0=["North","East","South","West"],l0=["","","",""];function a0(){const a=re(R=>R.selectedThingId),r=re(R=>R.objectData),i=re(R=>R.spriteData),l=re(R=>R.spriteOverrides),c=re(R=>R.replaceSprite);re(R=>R.editVersion);const d=a!=null?(r==null?void 0:r.things.get(a))??null:null,[m,g]=te.useState(0),[p,k]=te.useState(0),[w,y]=te.useState(!1),[A,I]=te.useState(4),[H,U]=te.useState(!1),[$,J]=te.useState(!1),[Y,se]=te.useState(!1),[q,Q]=te.useState(null),[N,ae]=te.useState(0),[V,ye]=te.useState(0),[pe,fe]=te.useState(!1),[Ee,be]=te.useState({head:0,body:0,legs:0,feet:0}),[P,ve]=te.useState(!1),[Ae,ue]=te.useState(2),[O,ce]=te.useState(0),[X,E]=te.useState(null),j=te.useRef(null),xe=te.useRef(0),ke=te.useRef(null),De=re(R=>R.activeCategory),ee=De==="outfit",we=De==="effect",Ne=De==="distance";te.useEffect(()=>{g(0),k(0),y(!1),ae(0),ye(0),ue(2),ce(0),ve(ee||we||Ne),fe(ee)},[a,ee,we,Ne]);const C=(d==null?void 0:d.frameGroups[m])??null,tt=te.useCallback(R=>{const Se=j.current;if(!Se||!C||!i)return;const Be=C.width*32,He=C.height*32,Ue=P?[Ae<C.patternX?Ae:0]:Array.from({length:C.patternX},(qt,ct)=>ct),Ge=P?[O<C.patternY?O:0]:Array.from({length:C.patternY},(qt,ct)=>ct),Oe=Ue.length,_t=Ge.length,$e=Oe*Be,Ze=_t*He;Se.width=$e,Se.height=Ze;const lt=Se.getContext("2d");lt.clearRect(0,0,$e,Ze);const xt=ee&&pe&&C.layers>=2,Ht=xt?[0]:pe?Array.from({length:C.layers},(qt,ct)=>ct):[N];for(const qt of Ht)for(let ct=0;ct<Ge.length;ct++){const Gt=Ge[ct];for(let en=0;en<Ue.length;en++){const Nn=Ue[en],ii=en*Be,Pn=ct*He;for(let Wt=0;Wt<C.height;Wt++)for(let Ln=0;Ln<C.width;Ln++){const si=Gi(C,R,Nn,Gt,V,qt,Ln,Wt);if(si>=C.sprites.length)continue;const Cr=C.sprites[si];if(Cr<=0)continue;const oi=l.get(Cr)??ho(i,Cr);if(!oi)continue;const Er=new ImageData(new Uint8ClampedArray(oi.data),32,32);if(xt){const It=Gi(C,R,Nn,Gt,V,1,Ln,Wt);if(It<C.sprites.length){const ir=C.sprites[It];if(ir>0){const In=l.get(ir)??ho(i,ir);In&&vm(Er,In,Ee)}}}const br=ii+(C.width-1-Ln)*32,li=Pn+(C.height-1-Wt)*32;if(pe&&!xt&&qt>0){const It=document.createElement("canvas");It.width=32,It.height=32,It.getContext("2d").putImageData(Er,0,0),lt.drawImage(It,br,li)}else lt.putImageData(Er,br,li)}}}},[C,i,l,N,V,pe,P,Ae,O,ee,Ee]);te.useEffect(()=>{tt(p)},[p,tt]),te.useEffect(()=>{var He;if(!w||!C||C.animationLength<=1)return;let R=p;const Se=()=>{var Ge;R=(R+1)%C.animationLength,k(R),tt(R);const Ue=((Ge=C.animationLengths[R])==null?void 0:Ge.min)??200;xe.current=window.setTimeout(Se,Ue)},Be=((He=C.animationLengths[R])==null?void 0:He.min)??200;return xe.current=window.setTimeout(Se,Be),()=>{clearTimeout(xe.current)}},[w,C,tt]);const zt=C?P?1:C.patternX:1,fn=C?P?1:C.patternY:1,Jt=te.useCallback((R,Se)=>{if(!C||!j.current)return 0;const Be=j.current.getBoundingClientRect(),He=(R-Be.left)/A,Ue=(Se-Be.top)/A,Ge=Math.floor(He/32),Oe=Math.floor(Ue/32),_t=zt*C.width,$e=fn*C.height;if(Ge<0||Ge>=_t||Oe<0||Oe>=$e)return 0;const Ze=Math.floor(Ge/C.width),lt=Math.floor(Oe/C.height),xt=P?Ae<C.patternX?Ae:0:Ze,Ht=P?O<C.patternY?O:0:lt,qt=C.width-1-Ge%C.width,ct=C.height-1-Oe%C.height,Gt=Gi(C,p,xt,Ht,V,N,qt,ct);return Gt<C.sprites.length?C.sprites[Gt]:0},[C,A,p,N,V,P,Ae,O,zt,fn]),Lt=te.useCallback((R,Se,Be)=>{if(!C||!i)return;const He=R[0];if(!He||!He.type.startsWith("image/"))return;const Ue=new Image;Ue.onload=()=>{const Ge=document.createElement("canvas");Ge.width=32,Ge.height=32;const Oe=Ge.getContext("2d");if(Ue.width<=32&&Ue.height<=32){Oe.clearRect(0,0,32,32),Oe.drawImage(Ue,0,0,32,32);const _t=Oe.getImageData(0,0,32,32);let $e=0;if(Se!=null&&Be!=null&&($e=Jt(Se,Be)),$e===0){const Ze=Gi(C,p,0,0,0,0,0,0);$e=Ze<C.sprites.length?C.sprites[Ze]:0}$e>0&&c($e,_t)}else{const _t=C.patternX*C.width,$e=C.patternY*C.height;for(let Ze=0;Ze<$e&&Ze*32<Ue.height;Ze++)for(let lt=0;lt<_t&&lt*32<Ue.width;lt++){const xt=Math.floor(lt/C.width),Ht=Math.floor(Ze/C.height),qt=C.width-1-lt%C.width,ct=C.height-1-Ze%C.height,Gt=Gi(C,p,xt,Ht,0,0,qt,ct);if(Gt>=C.sprites.length)continue;const en=C.sprites[Gt];if(en===0)continue;Oe.clearRect(0,0,32,32),Oe.drawImage(Ue,lt*32,Ze*32,32,32,0,0,32,32);const Nn=Oe.getImageData(0,0,32,32);c(en,Nn)}}},Ue.src=URL.createObjectURL(He)},[C,i,p,c,Jt]),b=te.useCallback(R=>{R.preventDefault(),se(!1),R.dataTransfer.files.length>0&&Lt(R.dataTransfer.files,R.clientX,R.clientY)},[Lt]),ot=()=>{const R=j.current;if(!R)return;const Se=R.toDataURL("image/png"),Be=document.createElement("a");Be.href=Se,Be.download=`sprite_${(d==null?void 0:d.id)??0}_frame${p}.png`,Be.click()},ti=()=>{if(!(!d||!i))try{const R=i0({thing:d,clientVersion:1098,spriteData:i,spriteOverrides:l}),Se=new Blob([new Uint8Array(R)],{type:"application/octet-stream"}),Be=URL.createObjectURL(Se),He=document.createElement("a");He.href=Be;const Ue=r?nr(r,d.id):d.id;He.download=`${De}_${Ue}.obd`,He.click(),URL.revokeObjectURL(Be)}catch(R){alert(`Export failed: ${R instanceof Error?R.message:R}`)}},ni=te.useRef(null),ri=R=>{var He;const Se=(He=R.target.files)==null?void 0:He[0];if(!Se)return;const Be=new FileReader;Be.onload=()=>{var Ue;try{const Ge=new Uint8Array(Be.result),Oe=s0(Ge),_t=re.getState(),$e=_t.selectedThingId,Ze=$e!=null?(Ue=_t.objectData)==null?void 0:Ue.things.get($e):null;if($e!=null&&Ze&&Ze.category===Oe.category)if(_t.replaceThing($e,Oe.flags,Oe.frameGroups,Oe.spritePixels)){const xt=re.getState().objectData,Ht=xt?nr(xt,$e):$e;alert(`Replaced ${Oe.category} #${Ht} with ${Oe.spritePixels.size} sprites.`)}else alert("Replace failed  could not overwrite selected thing.");else{const lt=_t.importThing(Oe.category,Oe.flags,Oe.frameGroups,Oe.spritePixels);if(lt!=null){const xt=re.getState().objectData,Ht=xt?nr(xt,lt):lt;alert(`Imported ${Oe.category} #${Ht} with ${Oe.spritePixels.size} sprites.`)}}}catch(Ge){alert(`Import failed: ${Ge instanceof Error?Ge.message:Ge}`)}},Be.readAsArrayBuffer(Se),R.target.value=""},gt=te.useCallback((R,Se)=>{if(!d||!C)return;C[R]=Se;const Be=C.width*C.height*C.layers*C.patternX*C.patternY*C.patternZ*C.animationLength;if(C.sprites.length<Be)for(;C.sprites.length<Be;)C.sprites.push(0);else C.sprites.length>Be&&(C.sprites.length=Be);for(;C.animationLengths.length<C.animationLength;)C.animationLengths.push({min:100,max:100});C.animationLengths.length>C.animationLength&&(C.animationLengths.length=C.animationLength),d.rawBytes=void 0,qr();const He=re.getState(),Ue=new Set(He.dirtyIds);Ue.add(d.id),re.setState({dirty:!0,dirtyIds:Ue,editVersion:He.editVersion+1})},[d,C]);if(!d)return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm",children:"Select an object to preview"});const Tn=C?C.animationLength>1:!1;return f.jsxs("div",{className:"flex flex-col h-full",children:[f.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-emperia-border gap-3",children:[f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Zoom:"}),f.jsx("input",{type:"range",min:1,max:8,value:A,onChange:R=>I(Number(R.target.value)),className:"flex-1 h-1 accent-emperia-accent"}),f.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-right",children:[A,"x"]})]}),f.jsx("div",{className:"flex-1 flex items-center justify-center overflow-auto min-h-0",children:f.jsxs("div",{className:`checkerboard rounded-lg border relative transition-colors
            ${Y?"border-emperia-accent border-2":"border-emperia-border"}`,style:{padding:8},onDragOver:R=>{if(R.preventDefault(),se(!0),j.current&&C){const Se=j.current.getBoundingClientRect(),Be=Math.floor((R.clientX-Se.left)/(32*A)),He=Math.floor((R.clientY-Se.top)/(32*A)),Ue=zt*C.width,Ge=fn*C.height;Be>=0&&Be<Ue&&He>=0&&He<Ge?Q({col:Be,row:He}):Q(null)}},onDragLeave:()=>{se(!1),Q(null)},onDrop:R=>{Q(null),b(R)},children:[f.jsx("canvas",{ref:j,className:"cursor-pointer",onClick:R=>{const Se=Jt(R.clientX,R.clientY);Se>0&&re.setState({focusSpriteId:Se})},style:{width:(C?zt*C.width:1)*32*A,height:(C?fn*C.height:1)*32*A,imageRendering:"pixelated"}}),H&&C&&f.jsx("div",{className:"absolute inset-2 pointer-events-none",style:{backgroundImage:`
                  repeating-linear-gradient(0deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*A}px),
                  repeating-linear-gradient(90deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*A}px)
                `,backgroundSize:`${32*A}px ${32*A}px`}}),$&&C&&f.jsx("div",{className:"absolute pointer-events-none border border-yellow-400/60",style:{bottom:8,left:8,width:C.width*32*A,height:C.height*32*A}}),Y&&!q&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emperia-accent/10 rounded-lg pointer-events-none",children:f.jsx("span",{className:"text-emperia-accent text-xs font-medium",children:"Drop PNG to replace"})}),q&&f.jsx("div",{className:"absolute pointer-events-none border-2 border-emperia-accent bg-emperia-accent/15 rounded-sm",style:{left:8+q.col*32*A,top:8+q.row*32*A,width:32*A,height:32*A}})]})}),f.jsxs("div",{className:"flex items-center justify-center px-4 py-2 gap-2 border-t border-emperia-border",children:[f.jsx("button",{onClick:()=>I(Math.max(1,A-1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom out",children:f.jsx(im,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-center",children:[A,"x"]}),f.jsx("button",{onClick:()=>I(Math.min(8,A+1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom in",children:f.jsx(rm,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:()=>U(!H),className:`p-1 rounded transition-colors ${H?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:"Show Grid",children:f.jsx(Wp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("input",{ref:ke,type:"file",accept:"image/png,image/gif,image/bmp",className:"hidden",onChange:R=>R.target.files&&Lt(R.target.files)}),f.jsx("button",{onClick:()=>{var R;return(R=ke.current)==null?void 0:R.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import PNG",children:f.jsx(Nd,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:ot,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export PNG",children:f.jsx(Vp,{className:"w-3.5 h-3.5"})}),f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:ti,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export OBD",children:f.jsx(Fd,{className:"w-3.5 h-3.5"})}),f.jsx("input",{ref:ni,type:"file",accept:".obd",className:"hidden",onChange:ri}),f.jsx("button",{onClick:()=>{var R;return(R=ni.current)==null?void 0:R.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import OBD",children:f.jsx(Sa,{className:"w-3.5 h-3.5"})}),Tn&&f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),f.jsx("button",{onClick:()=>{k((p-1+((C==null?void 0:C.animationLength)??1))%((C==null?void 0:C.animationLength)??1)),y(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:f.jsx(Up,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>y(!w),className:`p-1 rounded transition-colors ${w?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,children:w?f.jsx(Xp,{className:"w-3.5 h-3.5"}):f.jsx(Zp,{className:"w-3.5 h-3.5"})}),f.jsx("button",{onClick:()=>{k((p+1)%((C==null?void 0:C.animationLength)??1)),y(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:f.jsx(zp,{className:"w-3.5 h-3.5"})}),f.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[p+1,"/",C==null?void 0:C.animationLength]})]})]}),f.jsxs("div",{className:"flex items-center px-4 py-1.5 gap-4 border-t border-emperia-border flex-wrap",children:[f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:$,onChange:()=>J(!$),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Crop"})]}),f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:H,onChange:()=>U(!H),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Grid"})]}),C&&(C.patternX>1||C.patternY>1)&&f.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:P,onChange:()=>ve(!P),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Preview"})]})]}),C&&d.flags.hasDisplacement&&f.jsxs("div",{className:"flex items-center justify-end px-4 py-1.5 gap-4 border-t border-emperia-border",children:[f.jsx(yn,{label:"Offset X",value:d.flags.displacementX??0,readOnly:!0}),f.jsx(yn,{label:"Offset Y",value:d.flags.displacementY??0,readOnly:!0})]}),d.frameGroups.length>1&&f.jsx("div",{className:"flex items-center justify-center px-4 py-1.5 gap-1 border-t border-emperia-border",children:d.frameGroups.map((R,Se)=>f.jsx("button",{onClick:()=>{g(Se),k(0),y(!1),ae(0),ye(0)},className:`px-2 py-0.5 rounded text-[10px] transition-colors
                ${m===Se?"bg-emperia-accent text-white":"bg-emperia-surface text-emperia-muted hover:bg-emperia-hover"}
              `,children:Se===0?"Idle":Se===1?"Moving":`Group ${Se}`},Se))}),C&&(C.animationLength>1||C.layers>1||C.patternZ>1||P&&(C.patternX>1||C.patternY>1)||ee)&&f.jsxs("div",{className:"border-t border-emperia-border",children:[f.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:ee?"Outfit":we?"Effect":Ne?"Distance":"Animation"})}),f.jsx("div",{className:"px-4 py-2",children:f.jsx("table",{className:"w-full text-[10px]",style:{borderSpacing:"0 3px",borderCollapse:"separate"},children:f.jsxs("tbody",{children:[P&&C.patternX>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Direction:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(C.patternX,4)},(R,Se)=>f.jsx("button",{onClick:()=>ue(Se),className:`w-6 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${Ae===Se?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,title:o0[Se]??`Dir ${Se}`,children:l0[Se]??Se},Se)),C.patternX>4&&f.jsxs(f.Fragment,{children:[f.jsx(Zt,{onClick:()=>ue(Math.max(0,Ae-1)),children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[Ae+1,"/",C.patternX]}),f.jsx(Zt,{onClick:()=>ue(Math.min(C.patternX-1,Ae+1)),children:""})]})]})})]}),P&&C.patternY>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:ee?"Addon:":"Pattern Y:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zt,{onClick:()=>ce(Math.max(0,O-1)),children:""}),f.jsx("span",{className:"text-emperia-text font-mono w-10 text-center",children:ee?O===0?"None":`#${O}`:`${O+1}/${C.patternY}`}),f.jsx(Zt,{onClick:()=>ce(Math.min(C.patternY-1,O+1)),children:""})]})})]}),C.animationLength>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Frame:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zt,{onClick:()=>{k((p-1+C.animationLength)%C.animationLength),y(!1)},children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[p+1,"/",C.animationLength]}),f.jsx(Zt,{onClick:()=>{k((p+1)%C.animationLength),y(!1)},children:""}),f.jsx("button",{onClick:()=>y(!w),className:`ml-1 px-2 py-0.5 rounded text-[10px] transition-colors ${w?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,children:w?"Stop":"Play"})]})})]}),C.layers>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Layer:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zt,{onClick:()=>ae(Math.max(0,N-1)),disabled:pe,children:""}),f.jsx("span",{className:`font-mono w-10 text-center ${pe?"text-emperia-muted":"text-emperia-text"}`,children:pe?"All":`${N+1}/${C.layers}`}),f.jsx(Zt,{onClick:()=>ae(Math.min(C.layers-1,N+1)),disabled:pe,children:""}),f.jsxs("label",{className:"flex items-center gap-1 cursor-pointer ml-1",children:[f.jsx("input",{type:"checkbox",checked:pe,onChange:()=>fe(!pe),className:"w-3 h-3 accent-emperia-accent"}),f.jsx("span",{className:"text-emperia-muted",children:"Blend"})]})]})})]}),C.patternZ>1&&f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Pattern Z:"}),f.jsx("td",{children:f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Zt,{onClick:()=>ye(Math.max(0,V-1)),children:""}),f.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[V+1,"/",C.patternZ]}),f.jsx(Zt,{onClick:()=>ye(Math.min(C.patternZ-1,V+1)),children:""})]})})]}),ee&&pe&&C.layers>=2&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),["head","body","legs","feet"].map(R=>f.jsxs("tr",{children:[f.jsxs("td",{className:"text-emperia-muted text-right pr-2 capitalize",children:[R,":"]}),f.jsxs("td",{children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>E(X===R?null:R),className:"w-5 h-5 rounded border border-emperia-border",style:{backgroundColor:vd(Ee[R])},title:`Color ${Ee[R]}`}),f.jsx("span",{className:"text-emperia-text font-mono w-8 text-center",children:Ee[R]}),f.jsx(Zt,{onClick:()=>be({...Ee,[R]:Math.max(0,Ee[R]-1)}),children:""}),f.jsx(Zt,{onClick:()=>be({...Ee,[R]:Math.min(ei-1,Ee[R]+1)}),children:""})]}),X===R&&f.jsx("div",{className:"mt-1 p-1 bg-emperia-surface border border-emperia-border rounded grid gap-px",style:{gridTemplateColumns:"repeat(19, 14px)"},children:Sr.map((Se,Be)=>f.jsx("button",{onClick:()=>{be({...Ee,[R]:Be}),E(null)},className:`w-3.5 h-3.5 rounded-sm border ${Ee[R]===Be?"border-white":"border-transparent"}`,style:{backgroundColor:vd(Be)},title:`${Be}`},Be))})]})]},R))]}),C.animationLength>1&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Anim mode:"}),f.jsx("td",{children:f.jsxs("select",{value:C.asynchronous,onChange:R=>gt("asynchronous",Number(R.target.value)),className:"w-full px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text outline-none focus:border-emperia-accent",children:[f.jsx("option",{value:0,children:"Synchronous"}),f.jsx("option",{value:1,children:"Asynchronous"})]})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Loop count:"}),f.jsx("td",{children:f.jsx(lo,{value:C.nLoop,min:0,max:255,onChange:R=>gt("nLoop",R)})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Start frame:"}),f.jsx("td",{children:f.jsx(lo,{value:C.start,min:0,max:C.animationLength-1,onChange:R=>gt("start",R)})})]}),C.animationLengths[p]&&f.jsxs(f.Fragment,{children:[f.jsx("tr",{children:f.jsx("td",{colSpan:2,children:f.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Min (ms):"}),f.jsx("td",{children:f.jsx(lo,{value:C.animationLengths[p].min,min:0,max:65535,onChange:R=>{C.animationLengths[p].min=R,d.rawBytes=void 0;const Se=re.getState(),Be=new Set(Se.dirtyIds);Be.add(d.id),re.setState({dirty:!0,dirtyIds:Be,editVersion:Se.editVersion+1})}})})]}),f.jsxs("tr",{children:[f.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Max (ms):"}),f.jsx("td",{children:f.jsx(lo,{value:C.animationLengths[p].max,min:0,max:65535,onChange:R=>{C.animationLengths[p].max=R,d.rawBytes=void 0;const Se=re.getState(),Be=new Set(Se.dirtyIds);Be.add(d.id),re.setState({dirty:!0,dirtyIds:Be,editVersion:Se.editVersion+1})}})})]}),f.jsx("tr",{children:f.jsxs("td",{colSpan:2,className:"text-emperia-muted/60 text-right pt-0.5",children:["Frame ",p+1," of ",C.animationLength]})})]})]})]})})})]}),C&&f.jsxs("div",{className:"border-t border-emperia-border",children:[f.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Patterns"})}),f.jsxs("div",{className:"px-4 py-2 grid grid-cols-2 gap-x-6 gap-y-1",children:[f.jsx(yn,{label:"Width",value:C.width,onChange:R=>gt("width",R),min:1,max:4}),f.jsx(yn,{label:"Height",value:C.height,onChange:R=>gt("height",R),min:1,max:4}),f.jsx(yn,{label:"Crop Size",value:32,readOnly:!0}),f.jsx(yn,{label:"Layers",value:C.layers,onChange:R=>gt("layers",R),min:1,max:4}),f.jsx(yn,{label:"Pattern X",value:C.patternX,onChange:R=>gt("patternX",R),min:1,max:8}),f.jsx(yn,{label:"Pattern Y",value:C.patternY,onChange:R=>gt("patternY",R),min:1,max:8}),f.jsx(yn,{label:"Pattern Z",value:C.patternZ,onChange:R=>gt("patternZ",R),min:1,max:8}),f.jsx(yn,{label:"Animations",value:C.animationLength,onChange:R=>gt("animationLength",R),min:1,max:255})]})]})]})}function yn({label:a,value:r,onChange:i,min:l,max:c,readOnly:d}){return f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[a,":"]}),d?f.jsx("span",{className:"text-[10px] text-emperia-text font-mono w-14 text-right",children:r}):f.jsxs("div",{className:"flex items-center gap-0.5",children:[f.jsx("button",{onClick:()=>i==null?void 0:i(Math.max(l??0,r-1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"-"}),f.jsx("input",{type:"number",value:r,min:l,max:c,onChange:m=>{const g=parseInt(m.target.value,10);isNaN(g)||i==null||i(Math.max(l??0,Math.min(c??9999,g)))},className:"w-10 px-1 py-0 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-center outline-none focus:border-emperia-accent"}),f.jsx("button",{onClick:()=>i==null?void 0:i(Math.min(c??9999,r+1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"+"})]})]})}function Zt({onClick:a,disabled:r,children:i}){return f.jsx("button",{onClick:a,disabled:r,className:"w-5 h-5 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px] disabled:opacity-30",children:i})}function lo({value:a,min:r,max:i,onChange:l}){return f.jsx("input",{type:"number",value:a,min:r,max:i,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||l(Math.max(r,Math.min(i,d)))},className:"w-16 px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-right outline-none focus:border-emperia-accent"})}function Gi(a,r,i,l,c,d,m,g){return(((((r*a.patternZ+c)*a.patternY+l)*a.patternX+i)*a.layers+d)*a.height+g)*a.width+m}const ca=[{key:"ground",label:"Ground"},{key:"groundBorder",label:"Ground Border"},{key:"onBottom",label:"On Bottom"},{key:"onTop",label:"On Top"},{key:"container",label:"Container"},{key:"stackable",label:"Stackable"},{key:"forceUse",label:"Force Use"},{key:"multiUse",label:"Multi Use"},{key:"writable",label:"Writable"},{key:"writableOnce",label:"Writable Once"},{key:"fluidContainer",label:"Fluid Container"},{key:"splash",label:"Splash"},{key:"notWalkable",label:"Not Walkable"},{key:"notMoveable",label:"Not Moveable"},{key:"blockProjectile",label:"Block Projectile"},{key:"notPathable",label:"Not Pathable"},{key:"pickupable",label:"Pickupable"},{key:"hangable",label:"Hangable"},{key:"hookSouth",label:"Hook South"},{key:"hookEast",label:"Hook East"},{key:"rotateable",label:"Rotateable"},{key:"hasLight",label:"Light"},{key:"dontHide",label:"Don't Hide"},{key:"translucent",label:"Translucent"},{key:"hasDisplacement",label:"Displacement"},{key:"hasElevation",label:"Elevation"},{key:"lyingCorpse",label:"Lying Corpse"},{key:"animateAlways",label:"Animate Always"},{key:"hasMinimapColor",label:"Minimap Color"},{key:"fullGround",label:"Full Ground"},{key:"look",label:"Look"},{key:"cloth",label:"Cloth"},{key:"hasMarket",label:"Market"},{key:"usable",label:"Usable"},{key:"wrapable",label:"Wrapable"},{key:"unwrapable",label:"Unwrapable"},{key:"topEffect",label:"Top Effect"},{key:"noMoveAnimation",label:"No Move Animation"},{key:"chargeable",label:"Chargeable"}],u0=[{key:"groundSpeed",label:"Ground Speed",parentFlag:"ground",min:0,max:65535},{key:"lightLevel",label:"Light Level",parentFlag:"hasLight",min:0,max:65535},{key:"lightColor",label:"Light Color",parentFlag:"hasLight",min:0,max:65535},{key:"displacementX",label:"Displacement X",parentFlag:"hasDisplacement",min:0,max:65535},{key:"displacementY",label:"Displacement Y",parentFlag:"hasDisplacement",min:0,max:65535},{key:"elevation",label:"Elevation",parentFlag:"hasElevation",min:0,max:65535},{key:"minimapColor",label:"Minimap Color",parentFlag:"hasMinimapColor",min:0,max:65535},{key:"clothSlot",label:"Cloth Slot",parentFlag:"cloth",min:0,max:65535}];function Cd({showAttributesOnly:a}={}){const r=re(p=>p.selectedThingId),i=re(p=>p.objectData),l=re(p=>p.updateThingFlags);re(p=>p.editVersion);const c=r!=null?(i==null?void 0:i.things.get(r))??null:null,d=c&&i?nr(i,c.id):(c==null?void 0:c.id)??0,m=te.useCallback(p=>{if(!c)return;const k={...c.flags};k[p]=!k[p],k[p]||(p==="ground"&&(k.groundSpeed=void 0),p==="hasLight"&&(k.lightLevel=void 0,k.lightColor=void 0),p==="hasDisplacement"&&(k.displacementX=void 0,k.displacementY=void 0),p==="hasElevation"&&(k.elevation=void 0),p==="hasMinimapColor"&&(k.minimapColor=void 0),p==="cloth"&&(k.clothSlot=void 0)),k[p]&&(p==="ground"&&k.groundSpeed==null&&(k.groundSpeed=100),p==="hasLight"&&(k.lightLevel==null&&(k.lightLevel=7),k.lightColor==null&&(k.lightColor=215)),p==="hasDisplacement"&&(k.displacementX==null&&(k.displacementX=8),k.displacementY==null&&(k.displacementY=8)),p==="hasElevation"&&k.elevation==null&&(k.elevation=8),p==="hasMinimapColor"&&k.minimapColor==null&&(k.minimapColor=0),p==="cloth"&&k.clothSlot==null&&(k.clothSlot=0)),l(c.id,k)},[c,l]),g=te.useCallback((p,k)=>{if(!c)return;const w={...c.flags,[p]:k};l(c.id,w)},[c,l]);return c?a?f.jsxs("div",{className:"p-3 text-xs space-y-4",children:[f.jsxs(Zr,{title:"Identity",children:[f.jsx(Pt,{label:"ID",value:d}),f.jsx(Pt,{label:"Category",value:c.category})]}),c.frameGroups.map((p,k)=>f.jsxs(Zr,{title:`Frame Group ${k}${c.category==="outfit"?k===0?" (Idle)":" (Moving)":""}`,children:[f.jsx(Pt,{label:"Size",value:`${p.width}x${p.height}`}),f.jsx(Pt,{label:"Layers",value:p.layers}),f.jsx(Pt,{label:"Pattern X",value:p.patternX}),f.jsx(Pt,{label:"Pattern Y",value:p.patternY}),f.jsx(Pt,{label:"Pattern Z",value:p.patternZ}),f.jsx(Pt,{label:"Animations",value:p.animationLength}),f.jsx(Pt,{label:"Sprites",value:p.sprites.length}),p.animationLength>1&&f.jsxs(f.Fragment,{children:[f.jsx(Pt,{label:"Async",value:p.asynchronous?"Yes":"No"}),f.jsx(Pt,{label:"Loop Count",value:p.nLoop===0?"Infinite":p.nLoop}),f.jsx(Pt,{label:"Start Frame",value:p.start})]})]},k)),f.jsx(Zr,{title:"Active Flags",children:f.jsxs("div",{className:"space-y-0.5",children:[ca.filter(({key:p})=>!!c.flags[p]).map(({key:p,label:k})=>f.jsx("div",{className:"text-emperia-text text-xs",children:k},p)),ca.every(({key:p})=>!c.flags[p])&&f.jsx("span",{className:"text-emperia-muted italic",children:"None"})]})})]}):f.jsxs("div",{className:"p-3 text-xs space-y-4",children:[f.jsxs(Zr,{title:"Identity",children:[f.jsx(Pt,{label:"ID",value:d}),f.jsx(Pt,{label:"Category",value:c.category})]}),f.jsx(Zr,{title:"Flags",children:f.jsx("div",{className:"grid grid-cols-1 gap-0",children:ca.map(({key:p,label:k})=>f.jsxs("label",{className:"flex items-center gap-2 py-[3px] px-1 rounded hover:bg-emperia-hover cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:!!c.flags[p],onChange:()=>m(p),className:"w-3 h-3 rounded border-emperia-border bg-emperia-surface accent-emperia-accent cursor-pointer"}),f.jsx("span",{className:c.flags[p]?"text-emperia-text":"text-emperia-muted",children:k})]},p))})}),f.jsx(Zr,{title:"Properties",children:f.jsx(c0,{flags:c.flags,onChange:g})})]}):f.jsx("div",{className:"p-4 text-emperia-muted text-sm",children:"No object selected"})}function Zr({title:a,children:r}){return f.jsxs("div",{children:[f.jsx("h3",{className:"text-emperia-accent font-semibold text-[11px] uppercase tracking-wider mb-1.5 pb-1 border-b border-emperia-border",children:a}),f.jsx("div",{className:"space-y-0.5",children:r})]})}function Pt({label:a,value:r}){return f.jsxs("div",{className:"flex justify-between py-0.5",children:[f.jsx("span",{className:"text-emperia-muted",children:a}),f.jsx("span",{className:"text-emperia-text font-mono",children:String(r)})]})}function c0({flags:a,onChange:r}){const i=u0.filter(l=>l.parentFlag?!!a[l.parentFlag]:!0);return i.length===0?f.jsx("span",{className:"text-emperia-muted italic",children:"No active properties"}):f.jsx("div",{className:"space-y-1",children:i.map(l=>f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsx("span",{className:"text-emperia-muted shrink-0",children:l.label}),f.jsx("input",{type:"number",value:a[l.key]??0,min:l.min,max:l.max,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||r(l.key,Math.max(l.min??0,Math.min(l.max??65535,d)))},className:`w-20 px-1.5 py-0.5 rounded bg-emperia-surface border border-emperia-border
                       text-emperia-text font-mono text-right text-xs outline-none
                       focus:border-emperia-accent transition-colors`})]},l.key))})}const un=40,vr=6;function d0(){const a=re(P=>P.selectedThingId),r=re(P=>P.objectData),i=re(P=>P.spriteData),l=re(P=>P.spriteOverrides),c=re(P=>P.focusSpriteId),[d,m]=te.useState(null),[g,p]=te.useState(""),[k,w]=te.useState(0),[y,A]=te.useState(0),[I,H]=te.useState(null),U=te.useRef(null),$=te.useRef(null),J=a!=null?(r==null?void 0:r.things.get(a))??null:null,Y=te.useCallback(P=>{const ve=re.getState().addSprite;Array.from(P).forEach(Ae=>{const ue=new Image;ue.onload=()=>{const O=document.createElement("canvas"),ce=O.getContext("2d"),X=Math.max(1,Math.floor(ue.width/32)),E=Math.max(1,Math.floor(ue.height/32));O.width=32,O.height=32;const j=[];for(let xe=0;xe<E;xe++)for(let ke=0;ke<X;ke++){ce.clearRect(0,0,32,32),ce.drawImage(ue,ke*32,xe*32,32,32,0,0,32,32);const De=ce.getImageData(0,0,32,32);let ee=!1;for(let Ne=3;Ne<De.data.length;Ne+=4)if(De.data[Ne]>0){ee=!0;break}if(!ee)continue;const we=ve(De);we!=null&&j.push(we)}if(j.length>0&&(p(""),H(j[0]),setTimeout(()=>H(null),2e3),U.current&&i)){const xe=j[0]-1,ke=Math.floor(xe/vr);U.current.scrollTop=ke*un}},ue.src=URL.createObjectURL(Ae)})},[i]),se=te.useCallback(P=>{P<=0||confirm(`Delete sprite #${P}? It will be replaced with a blank sprite.`)&&re.getState().deleteSprite(P)},[]);te.useEffect(()=>{m(null)},[a]),te.useEffect(()=>{if(c!=null&&c>0&&U.current&&i){p("");const P=c-1,ve=Math.floor(P/vr);U.current.scrollTop=ve*un,H(c),re.setState({focusSpriteId:null}),setTimeout(()=>H(null),2e3)}},[c,i]);const q=re(P=>P.editVersion),Q=te.useMemo(()=>{if(!J)return[];const P=[];return J.frameGroups.forEach((ve,Ae)=>{ve.sprites.forEach((ue,O)=>{P.push({spriteId:ue,group:Ae,index:O})})}),P},[J,q]),N=te.useMemo(()=>{if(!i)return[];if(g){const ve=parseInt(g,10);if(!isNaN(ve)){const Ae=[];for(let ue=Math.max(1,ve-50);ue<=Math.min(i.spriteCount,ve+200);ue++)Ae.push(ue);return Ae}}const P=[];for(let ve=1;ve<=i.spriteCount;ve++)P.push(ve);return P},[i,g,q]),ae=Math.ceil(N.length/vr),V=ae*un,ye=te.useCallback(()=>{U.current&&(w(U.current.scrollTop),A(U.current.clientHeight))},[]);te.useEffect(()=>{ye();const P=U.current;if(P){const ve=new ResizeObserver(ye);return ve.observe(P),()=>ve.disconnect()}},[ye]),te.useEffect(()=>{if(g&&U.current){const P=parseInt(g,10);if(!isNaN(P)){const ve=N.indexOf(P);if(ve>=0){const Ae=Math.floor(ve/vr);U.current.scrollTop=Ae*un}}}},[g,N]);const pe=Math.max(0,Math.floor(k/un)-2),fe=Math.min(ae,Math.ceil((k+y)/un)+2),Ee=N.slice(pe*vr,fe*vr),be=te.useCallback(P=>{if(!d||!J)return;const ve=J.frameGroups[d.group];if(!ve)return;ve.sprites[d.index]=P,J.rawBytes=void 0,qr();const Ae=re.getState(),ue=new Set(Ae.dirtyIds);ue.add(J.id),re.setState({dirty:!0,dirtyIds:ue,editVersion:Ae.editVersion+1})},[d,J]);return i?f.jsxs("div",{className:"flex flex-col h-full",children:[J&&f.jsxs("div",{className:"shrink-0 border-b border-emperia-border",children:[f.jsxs("div",{className:"px-2 py-1.5 flex items-center justify-between",children:[f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Object Sprites"}),f.jsx("span",{className:"text-[10px] text-emperia-muted",children:Q.length})]}),f.jsx("div",{className:"overflow-y-auto max-h-40 px-1.5 pb-1.5",children:f.jsx("div",{className:"grid grid-cols-6 gap-0.5",children:Q.map(({spriteId:P,group:ve,index:Ae},ue)=>{const O=P>0?da(i,P,l):null,ce=(d==null?void 0:d.group)===ve&&(d==null?void 0:d.index)===Ae,X=l.has(P);return f.jsxs("button",{onClick:()=>m(ce?null:{group:ve,index:Ae}),className:`relative flex items-center justify-center rounded border transition-colors
                      ${ce?"border-emperia-accent bg-emperia-accent/20":X?"border-amber-500/50 bg-amber-500/10":"border-emperia-border/40 hover:border-emperia-muted"}
                    `,style:{width:un,height:un},title:`Slot ${ue}  Sprite #${P}${ce?" (selected  click atlas sprite to assign)":""}`,children:[O?f.jsx("img",{src:O,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-8 h-8 bg-emperia-border/20 rounded-sm"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/50 leading-none",children:P})]},`${ve}-${Ae}`)})})}),d&&f.jsx("div",{className:"px-2 pb-1.5 text-[10px] text-emperia-accent",children:"Click a sprite below to assign it to the selected slot"})]}),f.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1.5",children:[f.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider shrink-0",children:"Sprite Atlas"}),f.jsxs("div",{className:"flex-1 relative",children:[f.jsx(Td,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted"}),f.jsx("input",{type:"text",value:g,onChange:P=>p(P.target.value),placeholder:"Go to ID...",className:"w-full pl-6 pr-2 py-0.5 bg-emperia-bg border border-emperia-border rounded text-[10px] text-emperia-text placeholder:text-emperia-muted/50 focus:outline-none focus:border-emperia-accent"})]}),f.jsx("input",{ref:$,type:"file",accept:"image/png,image/gif,image/bmp",multiple:!0,className:"hidden",onChange:P=>{P.target.files&&Y(P.target.files),P.target.value=""}}),f.jsx("button",{onClick:()=>{var P;return(P=$.current)==null?void 0:P.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-green-400 transition-colors shrink-0",title:"Add new sprites from PNG (auto-splits into 3232 tiles)",children:f.jsx(Bd,{className:"w-3.5 h-3.5"})})]}),f.jsx("div",{ref:U,onScroll:ye,className:"flex-1 overflow-y-auto",children:f.jsx("div",{style:{height:V,position:"relative"},children:f.jsx("div",{style:{position:"absolute",top:pe*un,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${vr}, 1fr)`},children:Ee.map(P=>{const ve=da(i,P,l),Ae=P===I;return f.jsxs("div",{className:`group relative flex items-center justify-center border transition-colors
                      ${Ae?"border-green-400 bg-green-400/20":d?"border-transparent hover:bg-emperia-accent/10 hover:border-emperia-accent/30 cursor-pointer":"border-transparent hover:bg-emperia-hover"}
                    `,style:{width:un,height:un},title:`#${P}`,onClick:()=>be(P),onContextMenu:ue=>{ue.preventDefault(),se(P)},children:[ve?f.jsx("img",{src:ve,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):f.jsx("div",{className:"w-6 h-6"}),f.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/40 leading-none",children:P}),f.jsx("button",{className:"absolute top-0 right-0 p-0.5 rounded-bl bg-red-500/80 text-white opacity-0 group-hover:opacity-100 transition-opacity",onClick:ue=>{ue.stopPropagation(),se(P)},title:`Delete sprite #${P}`,children:f.jsx(tm,{className:"w-2.5 h-2.5"})})]},P)})})})})]})]}):f.jsx("div",{className:"p-3 text-emperia-muted text-xs",children:"Load files to browse sprites"})}const f0=[{key:"name",label:"Name",type:"string"},{key:"article",label:"Article",type:"string",placeholder:"a / an"},{key:"description",label:"Description",type:"string"},{key:"type",label:"Type",type:"select",options:["","bed","container","corpse","depot","door","fluidContainer","key","magicfield","mailbox","readable","rune","splash","teleport","trashholder","window"]}],h0=[{key:"weaponType",label:"Weapon Type",type:"select",options:["","sword","axe","club","distance","shield","wand","orb","magical"]},{key:"slotType",label:"Slot Type",type:"select",options:["","hand","two-handed","head","body","legs","feet","ring","necklace","backpack","ammo"]},{key:"ammoType",label:"Ammo Type",type:"string"},{key:"shootType",label:"Shoot Type",type:"string"},{key:"damageElement",label:"Damage Element",type:"select",options:["","fire","ice","energy","earth","death","holy","arcane","wind"]}],p0=[{key:"physicalAttack",label:"Physical Attack",type:"number"},{key:"magicalAttack",label:"Magical Attack",type:"number"},{key:"physicalDefense",label:"Physical Defense",type:"number"},{key:"magicalDefense",label:"Magical Defense",type:"number"},{key:"armor",label:"Armor",type:"number"},{key:"extradef",label:"Extra Def",type:"number"},{key:"hitChance",label:"Hit Chance",type:"number"},{key:"maxHitChance",label:"Max Hit Chance",type:"number"},{key:"range",label:"Range",type:"number"}],m0=[{key:"weight",label:"Weight",type:"number"},{key:"speed",label:"Speed",type:"number"},{key:"friction",label:"Friction",type:"number"},{key:"floorchange",label:"Floor Change",type:"select",options:["","down","north","south","east","west"]}],g0=[{key:"level",label:"Level",type:"number"},{key:"expertise",label:"Expertise",type:"number"}],x0=[{key:"containerSize",label:"Container Size",type:"number"},{key:"containerSizePotions",label:"Container Size (Potions)",type:"number"},{key:"weightReduction",label:"Weight Reduction",type:"number"}],y0=[{key:"charges",label:"Charges",type:"number"},{key:"duration",label:"Duration",type:"number"},{key:"decayTo",label:"Decay To (Item ID)",type:"number"},{key:"destroyTo",label:"Destroy To (Item ID)",type:"number"},{key:"rotateTo",label:"Rotate To (Item ID)",type:"number"},{key:"transformEquipTo",label:"Transform Equip To",type:"number"},{key:"transformDeEquipTo",label:"Transform DeEquip To",type:"number"}],v0=[{key:"fluidSource",label:"Fluid Source",type:"string"},{key:"field",label:"Field",type:"string"},{key:"readable",label:"Readable",type:"boolean"},{key:"writeable",label:"Writeable",type:"boolean"},{key:"maxTextLen",label:"Max Text Length",type:"number"}],k0=[{key:"healthGain",label:"Health Gain",type:"number"},{key:"healthTicks",label:"Health Ticks",type:"number"},{key:"manaGain",label:"Mana Gain",type:"number"},{key:"manaTicks",label:"Mana Ticks",type:"number"}],w0=[{key:"skillSword",label:"Skill Sword",type:"number"},{key:"skillAxe",label:"Skill Axe",type:"number"},{key:"skillClub",label:"Skill Club",type:"number"},{key:"skillDist",label:"Skill Distance",type:"number"},{key:"skillShield",label:"Skill Shield",type:"number"},{key:"skillFist",label:"Skill Fist",type:"number"},{key:"magiclevelpoints",label:"Magic Level Points",type:"number"}],S0=[{key:"absorbPercentPhysical",label:"Absorb Physical %",type:"number"},{key:"absorbPercentFire",label:"Absorb Fire %",type:"number"},{key:"absorbPercentIce",label:"Absorb Ice %",type:"number"},{key:"absorbPercentEnergy",label:"Absorb Energy %",type:"number"},{key:"absorbPercentEarth",label:"Absorb Earth %",type:"number"},{key:"absorbPercentDeath",label:"Absorb Death %",type:"number"},{key:"absorbPercentHoly",label:"Absorb Holy %",type:"number"}],_0=[{key:"bonusStrength",label:"Strength",type:"number"},{key:"bonusDexterity",label:"Dexterity",type:"number"},{key:"bonusEndurance",label:"Endurance",type:"number"},{key:"bonusAgility",label:"Agility",type:"number"},{key:"bonusIntelligence",label:"Intelligence",type:"number"},{key:"bonusWisdom",label:"Wisdom",type:"number"},{key:"bonusFocus",label:"Focus",type:"number"},{key:"bonusSpirit",label:"Spirit",type:"number"}],C0=[{key:"bonusCritChance",label:"Crit Chance",type:"number"},{key:"bonusCritDamage",label:"Crit Damage",type:"number"},{key:"bonusDodge",label:"Dodge",type:"number"},{key:"bonusCDR",label:"CDR",type:"number"},{key:"bonusHealingPower",label:"Healing Power",type:"number"},{key:"bonusAttackSpeed",label:"Attack Speed",type:"number"},{key:"bonusPhysicalHit",label:"Physical Hit",type:"number"},{key:"bonusSpellHit",label:"Spell Hit",type:"number"},{key:"bonusMaxHealth",label:"Max Health",type:"number"},{key:"bonusMaxMana",label:"Max Mana",type:"number"},{key:"bonusCapacity",label:"Capacity",type:"number"},{key:"bonusHealthRegen",label:"Health Regen",type:"number"},{key:"bonusManaRegen",label:"Mana Regen",type:"number"},{key:"bonusMaxStamina",label:"Max Stamina",type:"number"},{key:"bonusStaminaRegen",label:"Stamina Regen",type:"number"},{key:"bonusStatusResist",label:"Status Resist",type:"number"}],E0=[{value:0,label:"0  Normal"},{value:1,label:"1  Ground"},{value:2,label:"2  Container"},{value:11,label:"11  Splash"},{value:12,label:"12  Fluid Container"},{value:14,label:"14  None / Unused"}];function b0(){var J;const a=re(Y=>Y.selectedThingId),r=re(Y=>Y.objectData),i=re(Y=>Y.activeCategory),l=re(Y=>Y.itemDefinitions),c=re(Y=>Y.clientToServerIds),d=re(Y=>Y.updateItemDefinition);re(Y=>Y.editVersion);const m=a!=null?(r==null?void 0:r.things.get(a))??null:null,g=a!=null?c.get(a):void 0,p=g!=null?l.get(g)??null:null,k=m&&r?nr(r,m.id):a??0,w=te.useMemo(()=>(p==null?void 0:p.properties)??{},[p]),y=te.useCallback((Y,se)=>{if(a==null)return;const q=c.get(a),Q=q!=null?l.get(q):void 0,N=Q!=null&&Q.properties?{...Q.properties}:{};se===void 0||se===""||se===!1?delete N[Y]:N[Y]=se,d(a,{properties:Object.keys(N).length>0?N:null})},[a,l,d]);if(i!=="item")return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm p-4",children:"Server properties are only available for items."});if(!m)return f.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm p-4",children:"No item selected"});const A=(p==null?void 0:p.flags)??0,I=(p==null?void 0:p.group)??0,H=p==null?void 0:p.serverId,U=Pp.filter((Y,se)=>(A&1<<se)!==0).map(Y=>Y.replace("FLAG_","")),$=((J=E0.find(Y=>Y.value===I))==null?void 0:J.label)??String(I);return f.jsxs("div",{className:"p-3 text-xs space-y-3 overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsxs("span",{className:"text-emperia-text font-semibold",children:["Item #",k]}),w.name&&f.jsxs("span",{className:"text-emperia-muted",children:[" ",w.name]}),H!=null&&H!==a&&f.jsxs("span",{className:"text-emperia-muted/50 text-[10px]",children:["(Server ID: ",H,")"]})]}),f.jsx(mf,{title:"OTB Flags & Group (from definitions.json)",children:f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-16 text-emperia-muted shrink-0",children:"Group"}),f.jsx("span",{className:"text-emperia-text font-mono text-[10px]",children:$})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-16 text-emperia-muted shrink-0",children:"Flags"}),f.jsx("span",{className:"text-emperia-text font-mono text-[10px]",children:A})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"w-16 text-emperia-muted shrink-0",children:"Active"}),f.jsx("span",{className:"text-emperia-text font-mono text-[10px] leading-relaxed",children:U.length>0?U.join(", "):f.jsx("span",{className:"text-emperia-muted/50",children:"none"})})]}),f.jsx("p",{className:"text-[9px] text-emperia-muted/50 mt-1",children:"Imported from definitions.json. New items use flags derived from the Properties tab."})]})}),f.jsx(Ut,{title:"Identity",fields:f0,props:w,setProperty:y}),f.jsx(Ut,{title:"Equipment",fields:h0,props:w,setProperty:y}),f.jsx(Ut,{title:"Combat Stats",fields:p0,props:w,setProperty:y}),f.jsx(Ut,{title:"Weight / Speed",fields:m0,props:w,setProperty:y}),f.jsx(Ut,{title:"Requirements",fields:g0,props:w,setProperty:y}),f.jsx(Ut,{title:"Container",fields:x0,props:w,setProperty:y}),f.jsx(Ut,{title:"Decay / Transform",fields:y0,props:w,setProperty:y}),f.jsx(Ut,{title:"Special",fields:v0,props:w,setProperty:y}),f.jsx(Ut,{title:"Regeneration",fields:k0,props:w,setProperty:y}),f.jsx(Ut,{title:"Skill Bonuses",fields:w0,props:w,setProperty:y}),f.jsx(Ut,{title:"Absorb %",fields:S0,props:w,setProperty:y}),f.jsx(Ut,{title:"Stat Bonuses",fields:_0,props:w,setProperty:y}),f.jsx(Ut,{title:"Combat Bonuses",fields:C0,props:w,setProperty:y})]})}function mf({title:a,children:r}){return f.jsxs("div",{children:[f.jsx("h3",{className:"text-[10px] font-semibold text-emperia-muted uppercase tracking-wider mb-1",children:a}),r]})}function Ut({title:a,fields:r,props:i,setProperty:l}){return!r.some(m=>i[m.key]!==void 0&&i[m.key]!=="")&&!(a==="Identity")?f.jsxs("details",{children:[f.jsx("summary",{className:"text-[10px] font-semibold text-emperia-muted uppercase tracking-wider cursor-pointer hover:text-emperia-text select-none",children:a}),f.jsx("div",{className:"mt-1 space-y-1",children:r.map(m=>f.jsx(Ed,{field:m,value:i[m.key],onChange:g=>l(m.key,g)},m.key))})]}):f.jsx(mf,{title:a,children:f.jsx("div",{className:"space-y-1",children:r.map(m=>f.jsx(Ed,{field:m,value:i[m.key],onChange:g=>l(m.key,g)},m.key))})})}function Ed({field:a,value:r,onChange:i}){const{label:l,type:c,options:d,placeholder:m}=a;return c==="boolean"?f.jsxs("label",{className:"flex items-center gap-2 py-[2px] px-1 rounded hover:bg-emperia-hover cursor-pointer select-none",children:[f.jsx("input",{type:"checkbox",checked:!!r,onChange:()=>i(!r),className:"accent-emperia-accent"}),f.jsx("span",{className:"text-emperia-text",children:l})]}):c==="select"?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-28 text-emperia-muted shrink-0",children:l}),f.jsx("select",{value:r!=null?String(r):"",onChange:g=>i(g.target.value||void 0),className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs",children:d.map(g=>f.jsx("option",{value:g,children:g||""},g))})]}):c==="number"?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-28 text-emperia-muted shrink-0",children:l}),f.jsx("input",{type:"number",value:r!=null?String(r):"",placeholder:m,onChange:g=>{const p=g.target.value;if(p===""){i(void 0);return}const k=parseFloat(p);isNaN(k)||i(k)},className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs w-0"})]}):f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-28 text-emperia-muted shrink-0",children:l}),f.jsx("input",{type:"text",value:r!=null?String(r):"",placeholder:m,onChange:g=>i(g.target.value||void 0),className:"flex-1 bg-emperia-bg border border-emperia-border rounded px-2 py-0.5 text-emperia-text text-xs w-0"})]})}const A0={texture:"Texture",properties:"Properties",attributes:"Attributes",server:"Server"};function D0(){const a=re(l=>l.loaded),[r,i]=te.useState("texture");return a?f.jsxs("div",{className:"h-full flex flex-col",children:[f.jsx(dm,{}),f.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[f.jsxs("div",{className:"w-64 flex flex-col border-r border-emperia-border bg-emperia-bg",children:[f.jsx(hm,{}),f.jsx(pm,{})]}),f.jsxs("div",{className:"flex-1 flex flex-col bg-emperia-bg overflow-hidden",children:[f.jsx("div",{className:"flex border-b border-emperia-border shrink-0",children:["texture","properties","attributes","server"].map(l=>f.jsx("button",{onClick:()=>i(l),className:`px-4 py-2 text-xs font-medium transition-colors
                  ${r===l?"text-emperia-accent border-b-2 border-emperia-accent":"text-emperia-muted hover:text-emperia-text"}
                `,children:A0[l]},l))}),f.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="texture"&&f.jsx(a0,{}),r==="properties"&&f.jsx(Cd,{}),r==="attributes"&&f.jsx(Cd,{showAttributesOnly:!0}),r==="server"&&f.jsx(b0,{})]})]}),f.jsx("div",{className:"w-72 border-l border-emperia-border bg-emperia-bg overflow-hidden flex flex-col",children:f.jsx(d0,{})})]})]}):f.jsx(sm,{})}wp.createRoot(document.getElementById("root")).render(f.jsx(Wi.StrictMode,{children:f.jsx(D0,{})}));
