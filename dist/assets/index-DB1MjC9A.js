var np=Object.defineProperty;var Xc=u=>{throw TypeError(u)};var rp=(u,r,i)=>r in u?np(u,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):u[r]=i;var N=(u,r,i)=>rp(u,typeof r!="symbol"?r+"":r,i),Jl=(u,r,i)=>r.has(u)||Xc("Cannot "+i);var g=(u,r,i)=>(Jl(u,r,"read from private field"),i?i.call(u):r.get(u)),gr=(u,r,i)=>r.has(u)?Xc("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(u):r.set(u,i),$r=(u,r,i,a)=>(Jl(u,r,"write to private field"),a?a.call(u,i):r.set(u,i),i),Z=(u,r,i)=>(Jl(u,r,"access private method"),i);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function vd(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var ql={exports:{}},zi={},ea={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zc;function ip(){if(Zc)return Te;Zc=1;var u=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=k&&S[k]||S["@@iterator"],typeof S=="function"?S:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,G={};function V(S,b,pe){this.props=S,this.context=b,this.refs=G,this.updater=pe||M}V.prototype.isReactComponent={},V.prototype.setState=function(S,b){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,b,"setState")},V.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function ae(){}ae.prototype=V.prototype;function fe(S,b,pe){this.props=S,this.context=b,this.refs=G,this.updater=pe||M}var me=fe.prototype=new ae;me.constructor=fe,U(me,V.prototype),me.isPureReactComponent=!0;var se=Array.isArray,_e=Object.prototype.hasOwnProperty,I={current:null},Fe={key:!0,ref:!0,__self:!0,__source:!0};function J(S,b,pe){var ke,Ae={},X=null,ve=null;if(b!=null)for(ke in b.ref!==void 0&&(ve=b.ref),b.key!==void 0&&(X=""+b.key),b)_e.call(b,ke)&&!Fe.hasOwnProperty(ke)&&(Ae[ke]=b[ke]);var Pe=arguments.length-2;if(Pe===1)Ae.children=pe;else if(1<Pe){for(var A=Array(Pe),Je=0;Je<Pe;Je++)A[Je]=arguments[Je+2];Ae.children=A}if(S&&S.defaultProps)for(ke in Pe=S.defaultProps,Pe)Ae[ke]===void 0&&(Ae[ke]=Pe[ke]);return{$$typeof:u,type:S,key:X,ref:ve,props:Ae,_owner:I.current}}function Ie(S,b){return{$$typeof:u,type:S.type,key:b,ref:S.ref,props:S.props,_owner:S._owner}}function Ee(S){return typeof S=="object"&&S!==null&&S.$$typeof===u}function Y(S){var b={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(pe){return b[pe]})}var q=/\/+/g;function de(S,b){return typeof S=="object"&&S!==null&&S.key!=null?Y(""+S.key):b.toString(36)}function W(S,b,pe,ke,Ae){var X=typeof S;(X==="undefined"||X==="boolean")&&(S=null);var ve=!1;if(S===null)ve=!0;else switch(X){case"string":case"number":ve=!0;break;case"object":switch(S.$$typeof){case u:case r:ve=!0}}if(ve)return ve=S,Ae=Ae(ve),S=ke===""?"."+de(ve,0):ke,se(Ae)?(pe="",S!=null&&(pe=S.replace(q,"$&/")+"/"),W(Ae,b,pe,"",function(Je){return Je})):Ae!=null&&(Ee(Ae)&&(Ae=Ie(Ae,pe+(!Ae.key||ve&&ve.key===Ae.key?"":(""+Ae.key).replace(q,"$&/")+"/")+S)),b.push(Ae)),1;if(ve=0,ke=ke===""?".":ke+":",se(S))for(var Pe=0;Pe<S.length;Pe++){X=S[Pe];var A=ke+de(X,Pe);ve+=W(X,b,pe,A,Ae)}else if(A=T(S),typeof A=="function")for(S=A.call(S),Pe=0;!(X=S.next()).done;)X=X.value,A=ke+de(X,Pe++),ve+=W(X,b,pe,A,Ae);else if(X==="object")throw b=String(S),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.");return ve}function Re(S,b,pe){if(S==null)return S;var ke=[],Ae=0;return W(S,ke,"","",function(X){return b.call(pe,X,Ae++)}),ke}function Ne(S){if(S._status===-1){var b=S._result;b=b(),b.then(function(pe){(S._status===0||S._status===-1)&&(S._status=1,S._result=pe)},function(pe){(S._status===0||S._status===-1)&&(S._status=2,S._result=pe)}),S._status===-1&&(S._status=0,S._result=b)}if(S._status===1)return S._result.default;throw S._result}var Se={current:null},O={transition:null},he={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:O,ReactCurrentOwner:I};function K(){throw Error("act(...) is not supported in production builds of React.")}return Te.Children={map:Re,forEach:function(S,b,pe){Re(S,function(){b.apply(this,arguments)},pe)},count:function(S){var b=0;return Re(S,function(){b++}),b},toArray:function(S){return Re(S,function(b){return b})||[]},only:function(S){if(!Ee(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Te.Component=V,Te.Fragment=i,Te.Profiler=c,Te.PureComponent=fe,Te.StrictMode=a,Te.Suspense=x,Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Te.act=K,Te.cloneElement=function(S,b,pe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ke=U({},S.props),Ae=S.key,X=S.ref,ve=S._owner;if(b!=null){if(b.ref!==void 0&&(X=b.ref,ve=I.current),b.key!==void 0&&(Ae=""+b.key),S.type&&S.type.defaultProps)var Pe=S.type.defaultProps;for(A in b)_e.call(b,A)&&!Fe.hasOwnProperty(A)&&(ke[A]=b[A]===void 0&&Pe!==void 0?Pe[A]:b[A])}var A=arguments.length-2;if(A===1)ke.children=pe;else if(1<A){Pe=Array(A);for(var Je=0;Je<A;Je++)Pe[Je]=arguments[Je+2];ke.children=Pe}return{$$typeof:u,type:S.type,key:Ae,ref:X,props:ke,_owner:ve}},Te.createContext=function(S){return S={$$typeof:p,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:d,_context:S},S.Consumer=S},Te.createElement=J,Te.createFactory=function(S){var b=J.bind(null,S);return b.type=S,b},Te.createRef=function(){return{current:null}},Te.forwardRef=function(S){return{$$typeof:m,render:S}},Te.isValidElement=Ee,Te.lazy=function(S){return{$$typeof:C,_payload:{_status:-1,_result:S},_init:Ne}},Te.memo=function(S,b){return{$$typeof:E,type:S,compare:b===void 0?null:b}},Te.startTransition=function(S){var b=O.transition;O.transition={};try{S()}finally{O.transition=b}},Te.unstable_act=K,Te.useCallback=function(S,b){return Se.current.useCallback(S,b)},Te.useContext=function(S){return Se.current.useContext(S)},Te.useDebugValue=function(){},Te.useDeferredValue=function(S){return Se.current.useDeferredValue(S)},Te.useEffect=function(S,b){return Se.current.useEffect(S,b)},Te.useId=function(){return Se.current.useId()},Te.useImperativeHandle=function(S,b,pe){return Se.current.useImperativeHandle(S,b,pe)},Te.useInsertionEffect=function(S,b){return Se.current.useInsertionEffect(S,b)},Te.useLayoutEffect=function(S,b){return Se.current.useLayoutEffect(S,b)},Te.useMemo=function(S,b){return Se.current.useMemo(S,b)},Te.useReducer=function(S,b,pe){return Se.current.useReducer(S,b,pe)},Te.useRef=function(S){return Se.current.useRef(S)},Te.useState=function(S){return Se.current.useState(S)},Te.useSyncExternalStore=function(S,b,pe){return Se.current.useSyncExternalStore(S,b,pe)},Te.useTransition=function(){return Se.current.useTransition()},Te.version="18.3.1",Te}var Jc;function ya(){return Jc||(Jc=1,ea.exports=ip()),ea.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc;function sp(){if(qc)return zi;qc=1;var u=ya(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function p(m,x,E){var C,k={},T=null,M=null;E!==void 0&&(T=""+E),x.key!==void 0&&(T=""+x.key),x.ref!==void 0&&(M=x.ref);for(C in x)a.call(x,C)&&!d.hasOwnProperty(C)&&(k[C]=x[C]);if(m&&m.defaultProps)for(C in x=m.defaultProps,x)k[C]===void 0&&(k[C]=x[C]);return{$$typeof:r,type:m,key:T,ref:M,props:k,_owner:c.current}}return zi.Fragment=i,zi.jsx=p,zi.jsxs=p,zi}var ed;function op(){return ed||(ed=1,ql.exports=sp()),ql.exports}var h=op(),te=ya();const Hi=vd(te);var eo={},ta={exports:{}},Pt={},na={exports:{}},ra={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td;function lp(){return td||(td=1,(function(u){function r(O,he){var K=O.length;O.push(he);e:for(;0<K;){var S=K-1>>>1,b=O[S];if(0<c(b,he))O[S]=he,O[K]=b,K=S;else break e}}function i(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var he=O[0],K=O.pop();if(K!==he){O[0]=K;e:for(var S=0,b=O.length,pe=b>>>1;S<pe;){var ke=2*(S+1)-1,Ae=O[ke],X=ke+1,ve=O[X];if(0>c(Ae,K))X<b&&0>c(ve,Ae)?(O[S]=ve,O[X]=K,S=X):(O[S]=Ae,O[ke]=K,S=ke);else if(X<b&&0>c(ve,K))O[S]=ve,O[X]=K,S=X;else break e}}return he}function c(O,he){var K=O.sortIndex-he.sortIndex;return K!==0?K:O.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;u.unstable_now=function(){return d.now()}}else{var p=Date,m=p.now();u.unstable_now=function(){return p.now()-m}}var x=[],E=[],C=1,k=null,T=3,M=!1,U=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function me(O){for(var he=i(E);he!==null;){if(he.callback===null)a(E);else if(he.startTime<=O)a(E),he.sortIndex=he.expirationTime,r(x,he);else break;he=i(E)}}function se(O){if(G=!1,me(O),!U)if(i(x)!==null)U=!0,Ne(_e);else{var he=i(E);he!==null&&Se(se,he.startTime-O)}}function _e(O,he){U=!1,G&&(G=!1,ae(J),J=-1),M=!0;var K=T;try{for(me(he),k=i(x);k!==null&&(!(k.expirationTime>he)||O&&!Y());){var S=k.callback;if(typeof S=="function"){k.callback=null,T=k.priorityLevel;var b=S(k.expirationTime<=he);he=u.unstable_now(),typeof b=="function"?k.callback=b:k===i(x)&&a(x),me(he)}else a(x);k=i(x)}if(k!==null)var pe=!0;else{var ke=i(E);ke!==null&&Se(se,ke.startTime-he),pe=!1}return pe}finally{k=null,T=K,M=!1}}var I=!1,Fe=null,J=-1,Ie=5,Ee=-1;function Y(){return!(u.unstable_now()-Ee<Ie)}function q(){if(Fe!==null){var O=u.unstable_now();Ee=O;var he=!0;try{he=Fe(!0,O)}finally{he?de():(I=!1,Fe=null)}}else I=!1}var de;if(typeof fe=="function")de=function(){fe(q)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Re=W.port2;W.port1.onmessage=q,de=function(){Re.postMessage(null)}}else de=function(){V(q,0)};function Ne(O){Fe=O,I||(I=!0,de())}function Se(O,he){J=V(function(){O(u.unstable_now())},he)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(O){O.callback=null},u.unstable_continueExecution=function(){U||M||(U=!0,Ne(_e))},u.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ie=0<O?Math.floor(1e3/O):5},u.unstable_getCurrentPriorityLevel=function(){return T},u.unstable_getFirstCallbackNode=function(){return i(x)},u.unstable_next=function(O){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var K=T;T=he;try{return O()}finally{T=K}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=function(){},u.unstable_runWithPriority=function(O,he){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=T;T=O;try{return he()}finally{T=K}},u.unstable_scheduleCallback=function(O,he,K){var S=u.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?S+K:S):K=S,O){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=K+b,O={id:C++,callback:he,priorityLevel:O,startTime:K,expirationTime:b,sortIndex:-1},K>S?(O.sortIndex=K,r(E,O),i(x)===null&&O===i(E)&&(G?(ae(J),J=-1):G=!0,Se(se,K-S))):(O.sortIndex=b,r(x,O),U||M||(U=!0,Ne(_e))),O},u.unstable_shouldYield=Y,u.unstable_wrapCallback=function(O){var he=T;return function(){var K=T;T=he;try{return O.apply(this,arguments)}finally{T=K}}}})(ra)),ra}var nd;function ap(){return nd||(nd=1,na.exports=lp()),na.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function up(){if(rd)return Pt;rd=1;var u=ya(),r=ap();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(c[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},k={};function T(e){return x.call(k,e)?!0:x.call(C,e)?!1:E.test(e)?k[e]=!0:(C[e]=!0,!1)}function M(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,t,n,s){if(t===null||typeof t>"u"||M(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function G(e,t,n,s,o,l,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=f}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){V[e]=new G(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];V[t]=new G(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){V[e]=new G(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){V[e]=new G(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){V[e]=new G(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){V[e]=new G(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){V[e]=new G(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){V[e]=new G(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){V[e]=new G(e,5,!1,e.toLowerCase(),null,!1,!1)});var ae=/[\-:]([a-z])/g;function fe(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ae,fe);V[t]=new G(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ae,fe);V[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ae,fe);V[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){V[e]=new G(e,1,!1,e.toLowerCase(),null,!1,!1)}),V.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){V[e]=new G(e,1,!1,e.toLowerCase(),null,!0,!0)});function me(e,t,n,s){var o=V.hasOwnProperty(t)?V[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U(t,n,o,s)&&(n=null),s||o===null?T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var se=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),I=Symbol.for("react.portal"),Fe=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Ie=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),Y=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),O=Symbol.iterator;function he(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,S;function b(e){if(S===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var pe=!1;function ke(e,t){if(!e||pe)return"";pe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var s=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){s=P}e.call(t.prototype)}else{try{throw Error()}catch(P){s=P}e()}}catch(P){if(P&&s&&typeof P.stack=="string"){for(var o=P.stack.split(`
`),l=s.stack.split(`
`),f=o.length-1,y=l.length-1;1<=f&&0<=y&&o[f]!==l[y];)y--;for(;1<=f&&0<=y;f--,y--)if(o[f]!==l[y]){if(f!==1||y!==1)do if(f--,y--,0>y||o[f]!==l[y]){var v=`
`+o[f].replace(" at new "," at ");return e.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",e.displayName)),v}while(1<=f&&0<=y);break}}}finally{pe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?b(e):""}function Ae(e){switch(e.tag){case 5:return b(e.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 2:case 15:return e=ke(e.type,!1),e;case 11:return e=ke(e.type.render,!1),e;case 1:return e=ke(e.type,!0),e;default:return""}}function X(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fe:return"Fragment";case I:return"Portal";case Ie:return"Profiler";case J:return"StrictMode";case de:return"Suspense";case W:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case Ee:return(e._context.displayName||"Context")+".Provider";case q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return t=e.displayName||null,t!==null?t:X(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return X(e(t))}catch{}}return null}function ve(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X(t);case 8:return t===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Je(e){var t=A(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){s=""+f,l.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(f){s=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ot(e){e._valueTracker||(e._valueTracker=Je(e))}function an(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=A(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nt(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Pe(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function st(e,t){t=t.checked,t!=null&&me(e,"checked",t,!1)}function qr(e,t){st(e,t);var n=Pe(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ti(e,t.type,n):t.hasOwnProperty("defaultValue")&&ti(e,t.type,Pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ei(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ti(e,t,n){(t!=="number"||Kt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mt=Array.isArray;function Fn(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Pe(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function j(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ge(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(i(92));if(mt(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pe(n)}}function Be(e,t){var n=Pe(t.value),s=Pe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function ze(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function He(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?He(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tt,Lt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tt=tt||document.createElement("div"),tt.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function at(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ct=["Webkit","ms","Moz","O"];Object.keys(nt).forEach(function(e){Ct.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nt[t]=nt[e]})});function un(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nt.hasOwnProperty(e)&&nt[e]?(""+t).trim():t+"px"}function Pn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=un(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var Xt=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(e,t){if(t){if(Xt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function zt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ni=null,Nn=null,Ut=null;function Ln(e){if(e=Ei(e)){if(typeof ni!="function")throw Error(i(280));var t=e.stateNode;t&&(t=ms(t),ni(e.stateNode,e.type,t))}}function ri(e){Nn?Ut?Ut.push(e):Ut=[e]:Nn=e}function wr(){if(Nn){var e=Nn,t=Ut;if(Ut=Nn=null,Ln(e),t)for(e=0;e<t.length;e++)Ln(t[e])}}function ii(e,t){return e(t)}function _r(){}var Sr=!1;function si(e,t,n){if(Sr)return e(t,n);Sr=!0;try{return ii(e,t,n)}finally{Sr=!1,(Nn!==null||Ut!==null)&&(_r(),wr())}}function bt(e,t){var n=e.stateNode;if(n===null)return null;var s=ms(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var nr=!1;if(m)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){nr=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{nr=!1}function af(e,t,n,s,o,l,f,y,v){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(z){this.onError(z)}}var oi=!1,Yi=null,Qi=!1,xo=null,uf={onError:function(e){oi=!0,Yi=e}};function cf(e,t,n,s,o,l,f,y,v){oi=!1,Yi=null,af.apply(uf,arguments)}function df(e,t,n,s,o,l,f,y,v){if(cf.apply(this,arguments),oi){if(oi){var P=Yi;oi=!1,Yi=null}else throw Error(i(198));Qi||(Qi=!0,xo=P)}}function rr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function va(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ka(e){if(rr(e)!==e)throw Error(i(188))}function ff(e){var t=e.alternate;if(!t){if(t=rr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ka(o),e;if(l===s)return ka(o),t;l=l.sibling}throw Error(i(188))}if(n.return!==s.return)n=o,s=l;else{for(var f=!1,y=o.child;y;){if(y===n){f=!0,n=o,s=l;break}if(y===s){f=!0,s=o,n=l;break}y=y.sibling}if(!f){for(y=l.child;y;){if(y===n){f=!0,n=l,s=o;break}if(y===s){f=!0,s=l,n=o;break}y=y.sibling}if(!f)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function wa(e){return e=ff(e),e!==null?_a(e):null}function _a(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_a(e);if(t!==null)return t;e=e.sibling}return null}var Sa=r.unstable_scheduleCallback,Ca=r.unstable_cancelCallback,hf=r.unstable_shouldYield,pf=r.unstable_requestPaint,qe=r.unstable_now,mf=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,Ea=r.unstable_UserBlockingPriority,Ki=r.unstable_NormalPriority,gf=r.unstable_LowPriority,Aa=r.unstable_IdlePriority,Xi=null,cn=null;function xf(e){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Xi,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:kf,yf=Math.log,vf=Math.LN2;function kf(e){return e>>>=0,e===0?32:31-(yf(e)/vf|0)|0}var Zi=64,Ji=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qi(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,f=n&268435455;if(f!==0){var y=f&~o;y!==0?s=li(y):(l&=f,l!==0&&(s=li(l)))}else f=n&~o,f!==0?s=li(f):l!==0&&(s=li(l));if(s===0)return 0;if(t!==0&&t!==s&&(t&o)===0&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if((s&4)!==0&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Jt(t),o=1<<n,s|=e[n],t&=~o;return s}function wf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _f(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var f=31-Jt(l),y=1<<f,v=o[f];v===-1?((y&n)===0||(y&s)!==0)&&(o[f]=wf(y,t)):v<=t&&(e.expiredLanes|=y),l&=~y}}function vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ba(){var e=Zi;return Zi<<=1,(Zi&4194240)===0&&(Zi=64),e}function ko(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ai(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=n}function Sf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Jt(n),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~l}}function wo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Jt(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var Oe=0;function Da(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Fa,_o,Pa,Ta,Na,So=!1,es=[],In=null,Mn=null,jn=null,ui=new Map,ci=new Map,Rn=[],Cf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function di(e,t,n,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Ei(t),t!==null&&_o(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ef(e,t,n,s,o){switch(t){case"focusin":return In=di(In,e,t,n,s,o),!0;case"dragenter":return Mn=di(Mn,e,t,n,s,o),!0;case"mouseover":return jn=di(jn,e,t,n,s,o),!0;case"pointerover":var l=o.pointerId;return ui.set(l,di(ui.get(l)||null,e,t,n,s,o)),!0;case"gotpointercapture":return l=o.pointerId,ci.set(l,di(ci.get(l)||null,e,t,n,s,o)),!0}return!1}function ba(e){var t=ir(e.target);if(t!==null){var n=rr(t);if(n!==null){if(t=n.tag,t===13){if(t=va(n),t!==null){e.blockedOn=t,Na(e.priority,function(){Pa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Zt=s,n.target.dispatchEvent(s),Zt=null}else return t=Ei(n),t!==null&&_o(t),e.blockedOn=n,!1;t.shift()}return!0}function Ia(e,t,n){ts(e)&&n.delete(t)}function Af(){So=!1,In!==null&&ts(In)&&(In=null),Mn!==null&&ts(Mn)&&(Mn=null),jn!==null&&ts(jn)&&(jn=null),ui.forEach(Ia),ci.forEach(Ia)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Af)))}function hi(e){function t(o){return fi(o,e)}if(0<es.length){fi(es[0],e);for(var n=1;n<es.length;n++){var s=es[n];s.blockedOn===e&&(s.blockedOn=null)}}for(In!==null&&fi(In,e),Mn!==null&&fi(Mn,e),jn!==null&&fi(jn,e),ui.forEach(t),ci.forEach(t),n=0;n<Rn.length;n++)s=Rn[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)ba(n),n.blockedOn===null&&Rn.shift()}var Cr=se.ReactCurrentBatchConfig,ns=!0;function Bf(e,t,n,s){var o=Oe,l=Cr.transition;Cr.transition=null;try{Oe=1,Co(e,t,n,s)}finally{Oe=o,Cr.transition=l}}function Df(e,t,n,s){var o=Oe,l=Cr.transition;Cr.transition=null;try{Oe=4,Co(e,t,n,s)}finally{Oe=o,Cr.transition=l}}function Co(e,t,n,s){if(ns){var o=Eo(e,t,n,s);if(o===null)Ho(e,t,s,rs,n),La(e,s);else if(Ef(o,e,t,n,s))s.stopPropagation();else if(La(e,s),t&4&&-1<Cf.indexOf(e)){for(;o!==null;){var l=Ei(o);if(l!==null&&Fa(l),l=Eo(e,t,n,s),l===null&&Ho(e,t,s,rs,n),l===o)break;o=l}o!==null&&s.stopPropagation()}else Ho(e,t,s,null,n)}}var rs=null;function Eo(e,t,n,s){if(rs=null,e=Tn(s),e=ir(e),e!==null)if(t=rr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=va(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rs=e,null}function Ma(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mf()){case yo:return 1;case Ea:return 4;case Ki:case gf:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var On=null,Ao=null,is=null;function ja(){if(is)return is;var e,t=Ao,n=t.length,s,o="value"in On?On.value:On.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(s=1;s<=f&&t[n-s]===o[l-s];s++);return is=o.slice(e,1<s?1-s:void 0)}function ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function Ra(){return!1}function It(e){function t(n,s,o,l,f){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=f,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(l):l[y]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?os:Ra,this.isPropagationStopped=Ra,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=It(Er),pi=K({},Er,{view:0,detail:0}),Ff=It(pi),Do,Fo,mi,ls=K({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(Do=e.screenX-mi.screenX,Fo=e.screenY-mi.screenY):Fo=Do=0,mi=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),Oa=It(ls),Pf=K({},ls,{dataTransfer:0}),Tf=It(Pf),Nf=K({},pi,{relatedTarget:0}),Po=It(Nf),Lf=K({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),bf=It(Lf),If=K({},Er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mf=It(If),jf=K({},Er,{data:0}),za=It(jf),Rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Of={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zf[e])?!!t[e]:!1}function To(){return Uf}var Hf=K({},pi,{key:function(e){if(e.key){var t=Rf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Of[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wf=It(Hf),Gf=K({},ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=It(Gf),Vf=K({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),$f=It(Vf),Yf=K({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qf=It(Yf),Kf=K({},ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=It(Kf),Zf=[9,13,27,32],No=m&&"CompositionEvent"in window,gi=null;m&&"documentMode"in document&&(gi=document.documentMode);var Jf=m&&"TextEvent"in window&&!gi,Ha=m&&(!No||gi&&8<gi&&11>=gi),Wa=" ",Ga=!1;function Va(e,t){switch(e){case"keyup":return Zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ar=!1;function qf(e,t){switch(e){case"compositionend":return $a(t);case"keypress":return t.which!==32?null:(Ga=!0,Wa);case"textInput":return e=t.data,e===Wa&&Ga?null:e;default:return null}}function eh(e,t){if(Ar)return e==="compositionend"||!No&&Va(e,t)?(e=ja(),is=Ao=On=null,Ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ha&&t.locale!=="ko"?null:t.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!th[e.type]:t==="textarea"}function Qa(e,t,n,s){ri(s),t=fs(t,"onChange"),0<t.length&&(n=new Bo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var xi=null,yi=null;function nh(e){fu(e,0)}function as(e){var t=Tr(e);if(an(t))return e}function rh(e,t){if(e==="change")return t}var Ka=!1;if(m){var Lo;if(m){var bo="oninput"in document;if(!bo){var Xa=document.createElement("div");Xa.setAttribute("oninput","return;"),bo=typeof Xa.oninput=="function"}Lo=bo}else Lo=!1;Ka=Lo&&(!document.documentMode||9<document.documentMode)}function Za(){xi&&(xi.detachEvent("onpropertychange",Ja),yi=xi=null)}function Ja(e){if(e.propertyName==="value"&&as(yi)){var t=[];Qa(t,yi,e,Tn(e)),si(nh,t)}}function ih(e,t,n){e==="focusin"?(Za(),xi=t,yi=n,xi.attachEvent("onpropertychange",Ja)):e==="focusout"&&Za()}function sh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return as(yi)}function oh(e,t){if(e==="click")return as(t)}function lh(e,t){if(e==="input"||e==="change")return as(t)}function ah(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:ah;function vi(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!x.call(t,o)||!qt(e[o],t[o]))return!1}return!0}function qa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eu(e,t){var n=qa(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qa(n)}}function tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nu(){for(var e=window,t=Kt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Kt(e.document)}return t}function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uh(e){var t=nu(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&tu(n.ownerDocument.documentElement,n)){if(s!==null&&Io(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=eu(n,l);var f=eu(n,s);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ch=m&&"documentMode"in document&&11>=document.documentMode,Br=null,Mo=null,ki=null,jo=!1;function ru(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jo||Br==null||Br!==Kt(s)||(s=Br,"selectionStart"in s&&Io(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ki&&vi(ki,s)||(ki=s,s=fs(Mo,"onSelect"),0<s.length&&(t=new Bo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Br)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dr={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Ro={},iu={};m&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete Dr.animationend.animation,delete Dr.animationiteration.animation,delete Dr.animationstart.animation),"TransitionEvent"in window||delete Dr.transitionend.transition);function cs(e){if(Ro[e])return Ro[e];if(!Dr[e])return e;var t=Dr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iu)return Ro[e]=t[n];return e}var su=cs("animationend"),ou=cs("animationiteration"),lu=cs("animationstart"),au=cs("transitionend"),uu=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){uu.set(e,t),d(t,[e])}for(var Oo=0;Oo<cu.length;Oo++){var zo=cu[Oo],dh=zo.toLowerCase(),fh=zo[0].toUpperCase()+zo.slice(1);zn(dh,"on"+fh)}zn(su,"onAnimationEnd"),zn(ou,"onAnimationIteration"),zn(lu,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(au,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function du(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,df(s,t,void 0,e),e.currentTarget=null}function fu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var f=s.length-1;0<=f;f--){var y=s[f],v=y.instance,P=y.currentTarget;if(y=y.listener,v!==l&&o.isPropagationStopped())break e;du(o,y,P),l=v}else for(f=0;f<s.length;f++){if(y=s[f],v=y.instance,P=y.currentTarget,y=y.listener,v!==l&&o.isPropagationStopped())break e;du(o,y,P),l=v}}}if(Qi)throw e=xo,Qi=!1,xo=null,e}function Ve(e,t){var n=t[Qo];n===void 0&&(n=t[Qo]=new Set);var s=e+"__bubble";n.has(s)||(hu(t,e,2,!1),n.add(s))}function Uo(e,t,n){var s=0;t&&(s|=4),hu(n,e,s,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function _i(e){if(!e[ds]){e[ds]=!0,a.forEach(function(n){n!=="selectionchange"&&(hh.has(n)||Uo(n,!1,e),Uo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Uo("selectionchange",!1,t))}}function hu(e,t,n,s){switch(Ma(t)){case 1:var o=Bf;break;case 4:o=Df;break;default:o=Co}n=o.bind(null,t,n,e),o=void 0,!nr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ho(e,t,n,s,o){var l=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var y=s.stateNode.containerInfo;if(y===o||y.nodeType===8&&y.parentNode===o)break;if(f===4)for(f=s.return;f!==null;){var v=f.tag;if((v===3||v===4)&&(v=f.stateNode.containerInfo,v===o||v.nodeType===8&&v.parentNode===o))return;f=f.return}for(;y!==null;){if(f=ir(y),f===null)return;if(v=f.tag,v===5||v===6){s=l=f;continue e}y=y.parentNode}}s=s.return}si(function(){var P=l,z=Tn(n),H=[];e:{var R=uu.get(e);if(R!==void 0){var ee=Bo,ie=e;switch(e){case"keypress":if(ss(n)===0)break e;case"keydown":case"keyup":ee=Wf;break;case"focusin":ie="focus",ee=Po;break;case"focusout":ie="blur",ee=Po;break;case"beforeblur":case"afterblur":ee=Po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=$f;break;case su:case ou:case lu:ee=bf;break;case au:ee=Qf;break;case"scroll":ee=Ff;break;case"wheel":ee=Xf;break;case"copy":case"cut":case"paste":ee=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ua}var oe=(t&4)!==0,et=!oe&&e==="scroll",B=oe?R!==null?R+"Capture":null:R;oe=[];for(var w=P,F;w!==null;){F=w;var $=F.stateNode;if(F.tag===5&&$!==null&&(F=$,B!==null&&($=bt(w,B),$!=null&&oe.push(Si(w,$,F)))),et)break;w=w.return}0<oe.length&&(R=new ee(R,ie,null,n,z),H.push({event:R,listeners:oe}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",R&&n!==Zt&&(ie=n.relatedTarget||n.fromElement)&&(ir(ie)||ie[vn]))break e;if((ee||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,ee?(ie=n.relatedTarget||n.toElement,ee=P,ie=ie?ir(ie):null,ie!==null&&(et=rr(ie),ie!==et||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=P),ee!==ie)){if(oe=Oa,$="onMouseLeave",B="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Ua,$="onPointerLeave",B="onPointerEnter",w="pointer"),et=ee==null?R:Tr(ee),F=ie==null?R:Tr(ie),R=new oe($,w+"leave",ee,n,z),R.target=et,R.relatedTarget=F,$=null,ir(z)===P&&(oe=new oe(B,w+"enter",ie,n,z),oe.target=F,oe.relatedTarget=et,$=oe),et=$,ee&&ie)t:{for(oe=ee,B=ie,w=0,F=oe;F;F=Fr(F))w++;for(F=0,$=B;$;$=Fr($))F++;for(;0<w-F;)oe=Fr(oe),w--;for(;0<F-w;)B=Fr(B),F--;for(;w--;){if(oe===B||B!==null&&oe===B.alternate)break t;oe=Fr(oe),B=Fr(B)}oe=null}else oe=null;ee!==null&&pu(H,R,ee,oe,!1),ie!==null&&et!==null&&pu(H,et,ie,oe,!0)}}e:{if(R=P?Tr(P):window,ee=R.nodeName&&R.nodeName.toLowerCase(),ee==="select"||ee==="input"&&R.type==="file")var ce=rh;else if(Ya(R))if(Ka)ce=lh;else{ce=sh;var xe=ih}else(ee=R.nodeName)&&ee.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&(ce=oh);if(ce&&(ce=ce(e,P))){Qa(H,ce,n,z);break e}xe&&xe(e,R,P),e==="focusout"&&(xe=R._wrapperState)&&xe.controlled&&R.type==="number"&&ti(R,"number",R.value)}switch(xe=P?Tr(P):window,e){case"focusin":(Ya(xe)||xe.contentEditable==="true")&&(Br=xe,Mo=P,ki=null);break;case"focusout":ki=Mo=Br=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,ru(H,n,z);break;case"selectionchange":if(ch)break;case"keydown":case"keyup":ru(H,n,z)}var ye;if(No)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ar?Va(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(Ha&&n.locale!=="ko"&&(Ar||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ar&&(ye=ja()):(On=z,Ao="value"in On?On.value:On.textContent,Ar=!0)),xe=fs(P,we),0<xe.length&&(we=new za(we,e,null,n,z),H.push({event:we,listeners:xe}),ye?we.data=ye:(ye=$a(n),ye!==null&&(we.data=ye)))),(ye=Jf?qf(e,n):eh(e,n))&&(P=fs(P,"onBeforeInput"),0<P.length&&(z=new za("onBeforeInput","beforeinput",null,n,z),H.push({event:z,listeners:P}),z.data=ye))}fu(H,t)})}function Si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fs(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=bt(e,n),l!=null&&s.unshift(Si(e,l,o)),l=bt(e,t),l!=null&&s.push(Si(e,l,o))),e=e.return}return s}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pu(e,t,n,s,o){for(var l=t._reactName,f=[];n!==null&&n!==s;){var y=n,v=y.alternate,P=y.stateNode;if(v!==null&&v===s)break;y.tag===5&&P!==null&&(y=P,o?(v=bt(n,l),v!=null&&f.unshift(Si(n,v,y))):o||(v=bt(n,l),v!=null&&f.push(Si(n,v,y)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var ph=/\r\n?/g,mh=/\u0000|\uFFFD/g;function mu(e){return(typeof e=="string"?e:""+e).replace(ph,`
`).replace(mh,"")}function hs(e,t,n){if(t=mu(t),mu(e)!==t&&n)throw Error(i(425))}function ps(){}var Wo=null,Go=null;function Vo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,gh=typeof clearTimeout=="function"?clearTimeout:void 0,gu=typeof Promise=="function"?Promise:void 0,xh=typeof queueMicrotask=="function"?queueMicrotask:typeof gu<"u"?function(e){return gu.resolve(null).then(e).catch(yh)}:$o;function yh(e){setTimeout(function(){throw e})}function Yo(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),hi(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);hi(t)}function Un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),dn="__reactFiber$"+Pr,Ci="__reactProps$"+Pr,vn="__reactContainer$"+Pr,Qo="__reactEvents$"+Pr,vh="__reactListeners$"+Pr,kh="__reactHandles$"+Pr;function ir(e){var t=e[dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xu(e);e!==null;){if(n=e[dn])return n;e=xu(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){return e=e[dn]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function ms(e){return e[Ci]||null}var Ko=[],Nr=-1;function Hn(e){return{current:e}}function $e(e){0>Nr||(e.current=Ko[Nr],Ko[Nr]=null,Nr--)}function Ge(e,t){Nr++,Ko[Nr]=e.current,e.current=t}var Wn={},gt=Hn(Wn),Et=Hn(!1),sr=Wn;function Lr(e,t){var n=e.type.contextTypes;if(!n)return Wn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function At(e){return e=e.childContextTypes,e!=null}function gs(){$e(Et),$e(gt)}function yu(e,t,n){if(gt.current!==Wn)throw Error(i(168));Ge(gt,t),Ge(Et,n)}function vu(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(i(108,ve(e)||"Unknown",o));return K({},n,s)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,sr=gt.current,Ge(gt,e),Ge(Et,Et.current),!0}function ku(e,t,n){var s=e.stateNode;if(!s)throw Error(i(169));n?(e=vu(e,t,sr),s.__reactInternalMemoizedMergedChildContext=e,$e(Et),$e(gt),Ge(gt,e)):$e(Et),Ge(Et,n)}var kn=null,ys=!1,Xo=!1;function wu(e){kn===null?kn=[e]:kn.push(e)}function wh(e){ys=!0,wu(e)}function Gn(){if(!Xo&&kn!==null){Xo=!0;var e=0,t=Oe;try{var n=kn;for(Oe=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}kn=null,ys=!1}catch(o){throw kn!==null&&(kn=kn.slice(e+1)),Sa(yo,Gn),o}finally{Oe=t,Xo=!1}}return null}var br=[],Ir=0,vs=null,ks=0,Ht=[],Wt=0,or=null,wn=1,_n="";function lr(e,t){br[Ir++]=ks,br[Ir++]=vs,vs=e,ks=t}function _u(e,t,n){Ht[Wt++]=wn,Ht[Wt++]=_n,Ht[Wt++]=or,or=e;var s=wn;e=_n;var o=32-Jt(s)-1;s&=~(1<<o),n+=1;var l=32-Jt(t)+o;if(30<l){var f=o-o%5;l=(s&(1<<f)-1).toString(32),s>>=f,o-=f,wn=1<<32-Jt(t)+o|n<<o|s,_n=l+e}else wn=1<<l|n<<o|s,_n=e}function Zo(e){e.return!==null&&(lr(e,1),_u(e,1,0))}function Jo(e){for(;e===vs;)vs=br[--Ir],br[Ir]=null,ks=br[--Ir],br[Ir]=null;for(;e===or;)or=Ht[--Wt],Ht[Wt]=null,_n=Ht[--Wt],Ht[Wt]=null,wn=Ht[--Wt],Ht[Wt]=null}var Mt=null,jt=null,Ye=!1,en=null;function Su(e,t){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,jt=Un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=or!==null?{id:wn,overflow:_n}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,jt=null,!0):!1;default:return!1}}function qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function el(e){if(Ye){var t=jt;if(t){var n=t;if(!Cu(e,t)){if(qo(e))throw Error(i(418));t=Un(n.nextSibling);var s=Mt;t&&Cu(e,t)?Su(s,n):(e.flags=e.flags&-4097|2,Ye=!1,Mt=e)}}else{if(qo(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ye=!1,Mt=e}}}function Eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function ws(e){if(e!==Mt)return!1;if(!Ye)return Eu(e),Ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vo(e.type,e.memoizedProps)),t&&(t=jt)){if(qo(e))throw Au(),Error(i(418));for(;t;)Su(e,t),t=Un(t.nextSibling)}if(Eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=Un(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Mt?Un(e.stateNode.nextSibling):null;return!0}function Au(){for(var e=jt;e;)e=Un(e.nextSibling)}function Mr(){jt=Mt=null,Ye=!1}function tl(e){en===null?en=[e]:en.push(e)}var _h=se.ReactCurrentBatchConfig;function Ai(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(i(309));var s=n.stateNode}if(!s)throw Error(i(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(f){var y=o.refs;f===null?delete y[l]:y[l]=f},t._stringRef=l,t)}if(typeof e!="string")throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bu(e){var t=e._init;return t(e._payload)}function Du(e){function t(B,w){if(e){var F=B.deletions;F===null?(B.deletions=[w],B.flags|=16):F.push(w)}}function n(B,w){if(!e)return null;for(;w!==null;)t(B,w),w=w.sibling;return null}function s(B,w){for(B=new Map;w!==null;)w.key!==null?B.set(w.key,w):B.set(w.index,w),w=w.sibling;return B}function o(B,w){return B=Jn(B,w),B.index=0,B.sibling=null,B}function l(B,w,F){return B.index=F,e?(F=B.alternate,F!==null?(F=F.index,F<w?(B.flags|=2,w):F):(B.flags|=2,w)):(B.flags|=1048576,w)}function f(B){return e&&B.alternate===null&&(B.flags|=2),B}function y(B,w,F,$){return w===null||w.tag!==6?(w=$l(F,B.mode,$),w.return=B,w):(w=o(w,F),w.return=B,w)}function v(B,w,F,$){var ce=F.type;return ce===Fe?z(B,w,F.props.children,$,F.key):w!==null&&(w.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Ne&&Bu(ce)===w.type)?($=o(w,F.props),$.ref=Ai(B,w,F),$.return=B,$):($=$s(F.type,F.key,F.props,null,B.mode,$),$.ref=Ai(B,w,F),$.return=B,$)}function P(B,w,F,$){return w===null||w.tag!==4||w.stateNode.containerInfo!==F.containerInfo||w.stateNode.implementation!==F.implementation?(w=Yl(F,B.mode,$),w.return=B,w):(w=o(w,F.children||[]),w.return=B,w)}function z(B,w,F,$,ce){return w===null||w.tag!==7?(w=mr(F,B.mode,$,ce),w.return=B,w):(w=o(w,F),w.return=B,w)}function H(B,w,F){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$l(""+w,B.mode,F),w.return=B,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _e:return F=$s(w.type,w.key,w.props,null,B.mode,F),F.ref=Ai(B,null,w),F.return=B,F;case I:return w=Yl(w,B.mode,F),w.return=B,w;case Ne:var $=w._init;return H(B,$(w._payload),F)}if(mt(w)||he(w))return w=mr(w,B.mode,F,null),w.return=B,w;_s(B,w)}return null}function R(B,w,F,$){var ce=w!==null?w.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ce!==null?null:y(B,w,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case _e:return F.key===ce?v(B,w,F,$):null;case I:return F.key===ce?P(B,w,F,$):null;case Ne:return ce=F._init,R(B,w,ce(F._payload),$)}if(mt(F)||he(F))return ce!==null?null:z(B,w,F,$,null);_s(B,F)}return null}function ee(B,w,F,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number")return B=B.get(F)||null,y(w,B,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case _e:return B=B.get($.key===null?F:$.key)||null,v(w,B,$,ce);case I:return B=B.get($.key===null?F:$.key)||null,P(w,B,$,ce);case Ne:var xe=$._init;return ee(B,w,F,xe($._payload),ce)}if(mt($)||he($))return B=B.get(F)||null,z(w,B,$,ce,null);_s(w,$)}return null}function ie(B,w,F,$){for(var ce=null,xe=null,ye=w,we=w=0,ft=null;ye!==null&&we<F.length;we++){ye.index>we?(ft=ye,ye=null):ft=ye.sibling;var je=R(B,ye,F[we],$);if(je===null){ye===null&&(ye=ft);break}e&&ye&&je.alternate===null&&t(B,ye),w=l(je,w,we),xe===null?ce=je:xe.sibling=je,xe=je,ye=ft}if(we===F.length)return n(B,ye),Ye&&lr(B,we),ce;if(ye===null){for(;we<F.length;we++)ye=H(B,F[we],$),ye!==null&&(w=l(ye,w,we),xe===null?ce=ye:xe.sibling=ye,xe=ye);return Ye&&lr(B,we),ce}for(ye=s(B,ye);we<F.length;we++)ft=ee(ye,B,we,F[we],$),ft!==null&&(e&&ft.alternate!==null&&ye.delete(ft.key===null?we:ft.key),w=l(ft,w,we),xe===null?ce=ft:xe.sibling=ft,xe=ft);return e&&ye.forEach(function(qn){return t(B,qn)}),Ye&&lr(B,we),ce}function oe(B,w,F,$){var ce=he(F);if(typeof ce!="function")throw Error(i(150));if(F=ce.call(F),F==null)throw Error(i(151));for(var xe=ce=null,ye=w,we=w=0,ft=null,je=F.next();ye!==null&&!je.done;we++,je=F.next()){ye.index>we?(ft=ye,ye=null):ft=ye.sibling;var qn=R(B,ye,je.value,$);if(qn===null){ye===null&&(ye=ft);break}e&&ye&&qn.alternate===null&&t(B,ye),w=l(qn,w,we),xe===null?ce=qn:xe.sibling=qn,xe=qn,ye=ft}if(je.done)return n(B,ye),Ye&&lr(B,we),ce;if(ye===null){for(;!je.done;we++,je=F.next())je=H(B,je.value,$),je!==null&&(w=l(je,w,we),xe===null?ce=je:xe.sibling=je,xe=je);return Ye&&lr(B,we),ce}for(ye=s(B,ye);!je.done;we++,je=F.next())je=ee(ye,B,we,je.value,$),je!==null&&(e&&je.alternate!==null&&ye.delete(je.key===null?we:je.key),w=l(je,w,we),xe===null?ce=je:xe.sibling=je,xe=je);return e&&ye.forEach(function(tp){return t(B,tp)}),Ye&&lr(B,we),ce}function et(B,w,F,$){if(typeof F=="object"&&F!==null&&F.type===Fe&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case _e:e:{for(var ce=F.key,xe=w;xe!==null;){if(xe.key===ce){if(ce=F.type,ce===Fe){if(xe.tag===7){n(B,xe.sibling),w=o(xe,F.props.children),w.return=B,B=w;break e}}else if(xe.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Ne&&Bu(ce)===xe.type){n(B,xe.sibling),w=o(xe,F.props),w.ref=Ai(B,xe,F),w.return=B,B=w;break e}n(B,xe);break}else t(B,xe);xe=xe.sibling}F.type===Fe?(w=mr(F.props.children,B.mode,$,F.key),w.return=B,B=w):($=$s(F.type,F.key,F.props,null,B.mode,$),$.ref=Ai(B,w,F),$.return=B,B=$)}return f(B);case I:e:{for(xe=F.key;w!==null;){if(w.key===xe)if(w.tag===4&&w.stateNode.containerInfo===F.containerInfo&&w.stateNode.implementation===F.implementation){n(B,w.sibling),w=o(w,F.children||[]),w.return=B,B=w;break e}else{n(B,w);break}else t(B,w);w=w.sibling}w=Yl(F,B.mode,$),w.return=B,B=w}return f(B);case Ne:return xe=F._init,et(B,w,xe(F._payload),$)}if(mt(F))return ie(B,w,F,$);if(he(F))return oe(B,w,F,$);_s(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,w!==null&&w.tag===6?(n(B,w.sibling),w=o(w,F),w.return=B,B=w):(n(B,w),w=$l(F,B.mode,$),w.return=B,B=w),f(B)):n(B,w)}return et}var jr=Du(!0),Fu=Du(!1),Ss=Hn(null),Cs=null,Rr=null,nl=null;function rl(){nl=Rr=Cs=null}function il(e){var t=Ss.current;$e(Ss),e._currentValue=t}function sl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Or(e,t){Cs=e,nl=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Bt=!0),e.firstContext=null)}function Gt(e){var t=e._currentValue;if(nl!==e)if(e={context:e,memoizedValue:t,next:null},Rr===null){if(Cs===null)throw Error(i(308));Rr=e,Cs.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return t}var ar=null;function ol(e){ar===null?ar=[e]:ar.push(e)}function Pu(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,ol(t)):(n.next=o.next,o.next=n),t.interleaved=n,Sn(e,s)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vn=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Sn(e,n)}return o=s.interleaved,o===null?(t.next=t,ol(s)):(t.next=o.next,o.next=t),s.interleaved=t,Sn(e,n)}function Es(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,wo(e,n)}}function Nu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=f:l=l.next=f,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function As(e,t,n,s){var o=e.updateQueue;Vn=!1;var l=o.firstBaseUpdate,f=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var v=y,P=v.next;v.next=null,f===null?l=P:f.next=P,f=v;var z=e.alternate;z!==null&&(z=z.updateQueue,y=z.lastBaseUpdate,y!==f&&(y===null?z.firstBaseUpdate=P:y.next=P,z.lastBaseUpdate=v))}if(l!==null){var H=o.baseState;f=0,z=P=v=null,y=l;do{var R=y.lane,ee=y.eventTime;if((s&R)===R){z!==null&&(z=z.next={eventTime:ee,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null});e:{var ie=e,oe=y;switch(R=t,ee=n,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){H=ie.call(ee,H,R);break e}H=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,R=typeof ie=="function"?ie.call(ee,H,R):ie,R==null)break e;H=K({},H,R);break e;case 2:Vn=!0}}y.callback!==null&&y.lane!==0&&(e.flags|=64,R=o.effects,R===null?o.effects=[y]:R.push(y))}else ee={eventTime:ee,lane:R,tag:y.tag,payload:y.payload,callback:y.callback,next:null},z===null?(P=z=ee,v=H):z=z.next=ee,f|=R;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;R=y,y=R.next,R.next=null,o.lastBaseUpdate=R,o.shared.pending=null}}while(!0);if(z===null&&(v=H),o.baseState=v,o.firstBaseUpdate=P,o.lastBaseUpdate=z,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);dr|=f,e.lanes=f,e.memoizedState=H}}function Lu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(i(191,o));o.call(s)}}}var Bi={},fn=Hn(Bi),Di=Hn(Bi),Fi=Hn(Bi);function ur(e){if(e===Bi)throw Error(i(174));return e}function al(e,t){switch(Ge(Fi,t),Ge(Di,e),Ge(fn,Bi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ue(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ue(t,e)}$e(fn),Ge(fn,t)}function zr(){$e(fn),$e(Di),$e(Fi)}function bu(e){ur(Fi.current);var t=ur(fn.current),n=Ue(t,e.type);t!==n&&(Ge(Di,e),Ge(fn,n))}function ul(e){Di.current===e&&($e(fn),$e(Di))}var Ke=Hn(0);function Bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function dl(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var Ds=se.ReactCurrentDispatcher,fl=se.ReactCurrentBatchConfig,cr=0,Xe=null,ot=null,ct=null,Fs=!1,Pi=!1,Ti=0,Sh=0;function xt(){throw Error(i(321))}function hl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qt(e[n],t[n]))return!1;return!0}function pl(e,t,n,s,o,l){if(cr=l,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ds.current=e===null||e.memoizedState===null?Bh:Dh,e=n(s,o),Pi){l=0;do{if(Pi=!1,Ti=0,25<=l)throw Error(i(301));l+=1,ct=ot=null,t.updateQueue=null,Ds.current=Fh,e=n(s,o)}while(Pi)}if(Ds.current=Ns,t=ot!==null&&ot.next!==null,cr=0,ct=ot=Xe=null,Fs=!1,t)throw Error(i(300));return e}function ml(){var e=Ti!==0;return Ti=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Xe.memoizedState=ct=e:ct=ct.next=e,ct}function Vt(){if(ot===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ct===null?Xe.memoizedState:ct.next;if(t!==null)ct=t,ot=e;else{if(e===null)throw Error(i(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ct===null?Xe.memoizedState=ct=e:ct=ct.next=e}return ct}function Ni(e,t){return typeof t=="function"?t(e):t}function gl(e){var t=Vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=ot,o=s.baseQueue,l=n.pending;if(l!==null){if(o!==null){var f=o.next;o.next=l.next,l.next=f}s.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,s=s.baseState;var y=f=null,v=null,P=l;do{var z=P.lane;if((cr&z)===z)v!==null&&(v=v.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),s=P.hasEagerState?P.eagerState:e(s,P.action);else{var H={lane:z,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};v===null?(y=v=H,f=s):v=v.next=H,Xe.lanes|=z,dr|=z}P=P.next}while(P!==null&&P!==l);v===null?f=s:v.next=y,qt(s,t.memoizedState)||(Bt=!0),t.memoizedState=s,t.baseState=f,t.baseQueue=v,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do l=o.lane,Xe.lanes|=l,dr|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xl(e){var t=Vt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do l=e(l,f.action),f=f.next;while(f!==o);qt(l,t.memoizedState)||(Bt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function Iu(){}function Mu(e,t){var n=Xe,s=Vt(),o=t(),l=!qt(s.memoizedState,o);if(l&&(s.memoizedState=o,Bt=!0),s=s.queue,yl(Ou.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,Li(9,Ru.bind(null,n,s,o,t),void 0,null),dt===null)throw Error(i(349));(cr&30)!==0||ju(n,t,o)}return o}function ju(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ru(e,t,n,s){t.value=n,t.getSnapshot=s,zu(t)&&Uu(e)}function Ou(e,t,n){return n(function(){zu(t)&&Uu(e)})}function zu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qt(e,n)}catch{return!0}}function Uu(e){var t=Sn(e,1);t!==null&&sn(t,e,1,-1)}function Hu(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:e},t.queue=e,e=e.dispatch=Ah.bind(null,Xe,e),[t.memoizedState,e]}function Li(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Wu(){return Vt().memoizedState}function Ps(e,t,n,s){var o=hn();Xe.flags|=e,o.memoizedState=Li(1|t,n,void 0,s===void 0?null:s)}function Ts(e,t,n,s){var o=Vt();s=s===void 0?null:s;var l=void 0;if(ot!==null){var f=ot.memoizedState;if(l=f.destroy,s!==null&&hl(s,f.deps)){o.memoizedState=Li(t,n,l,s);return}}Xe.flags|=e,o.memoizedState=Li(1|t,n,l,s)}function Gu(e,t){return Ps(8390656,8,e,t)}function yl(e,t){return Ts(2048,8,e,t)}function Vu(e,t){return Ts(4,2,e,t)}function $u(e,t){return Ts(4,4,e,t)}function Yu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qu(e,t,n){return n=n!=null?n.concat([e]):null,Ts(4,4,Yu.bind(null,t,e),n)}function vl(){}function Ku(e,t){var n=Vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&hl(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Xu(e,t){var n=Vt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&hl(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Zu(e,t,n){return(cr&21)===0?(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n):(qt(n,t)||(n=Ba(),Xe.lanes|=n,dr|=n,e.baseState=!0),t)}function Ch(e,t){var n=Oe;Oe=n!==0&&4>n?n:4,e(!0);var s=fl.transition;fl.transition={};try{e(!1),t()}finally{Oe=n,fl.transition=s}}function Ju(){return Vt().memoizedState}function Eh(e,t,n){var s=Xn(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},qu(e))ec(t,n);else if(n=Pu(e,t,n,s),n!==null){var o=_t();sn(n,e,s,o),tc(n,t,s)}}function Ah(e,t,n){var s=Xn(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(qu(e))ec(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var f=t.lastRenderedState,y=l(f,n);if(o.hasEagerState=!0,o.eagerState=y,qt(y,f)){var v=t.interleaved;v===null?(o.next=o,ol(t)):(o.next=v.next,v.next=o),t.interleaved=o;return}}catch{}finally{}n=Pu(e,t,o,s),n!==null&&(o=_t(),sn(n,e,s,o),tc(n,t,s))}}function qu(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function ec(e,t){Pi=Fs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tc(e,t,n){if((n&4194240)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,wo(e,n)}}var Ns={readContext:Gt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},Bh={readContext:Gt,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Gt,useEffect:Gu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ps(4194308,4,Yu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=hn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=hn();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Eh.bind(null,Xe,e),[s.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Hu,useDebugValue:vl,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Hu(!1),t=e[0];return e=Ch.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Xe,o=hn();if(Ye){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),dt===null)throw Error(i(349));(cr&30)!==0||ju(s,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Gu(Ou.bind(null,s,l,e),[e]),s.flags|=2048,Li(9,Ru.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=hn(),t=dt.identifierPrefix;if(Ye){var n=_n,s=wn;n=(s&~(1<<32-Jt(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Sh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dh={readContext:Gt,useCallback:Ku,useContext:Gt,useEffect:yl,useImperativeHandle:Qu,useInsertionEffect:Vu,useLayoutEffect:$u,useMemo:Xu,useReducer:gl,useRef:Wu,useState:function(){return gl(Ni)},useDebugValue:vl,useDeferredValue:function(e){var t=Vt();return Zu(t,ot.memoizedState,e)},useTransition:function(){var e=gl(Ni)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Iu,useSyncExternalStore:Mu,useId:Ju,unstable_isNewReconciler:!1},Fh={readContext:Gt,useCallback:Ku,useContext:Gt,useEffect:yl,useImperativeHandle:Qu,useInsertionEffect:Vu,useLayoutEffect:$u,useMemo:Xu,useReducer:xl,useRef:Wu,useState:function(){return xl(Ni)},useDebugValue:vl,useDeferredValue:function(e){var t=Vt();return ot===null?t.memoizedState=e:Zu(t,ot.memoizedState,e)},useTransition:function(){var e=xl(Ni)[0],t=Vt().memoizedState;return[e,t]},useMutableSource:Iu,useSyncExternalStore:Mu,useId:Ju,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function kl(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ls={isMounted:function(e){return(e=e._reactInternals)?rr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=_t(),o=Xn(e),l=Cn(s,o);l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,o),t!==null&&(sn(t,e,o,s),Es(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=_t(),o=Xn(e),l=Cn(s,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,o),t!==null&&(sn(t,e,o,s),Es(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),s=Xn(e),o=Cn(n,s);o.tag=2,t!=null&&(o.callback=t),t=$n(e,o,s),t!==null&&(sn(t,e,s,n),Es(t,e,s))}};function nc(e,t,n,s,o,l,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,f):t.prototype&&t.prototype.isPureReactComponent?!vi(n,s)||!vi(o,l):!0}function rc(e,t,n){var s=!1,o=Wn,l=t.contextType;return typeof l=="object"&&l!==null?l=Gt(l):(o=At(t)?sr:gt.current,s=t.contextTypes,l=(s=s!=null)?Lr(e,o):Wn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ls,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function ic(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Ls.enqueueReplaceState(t,t.state,null)}function wl(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},ll(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Gt(l):(l=At(t)?sr:gt.current,o.context=Lr(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(kl(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ls.enqueueReplaceState(o,o.state,null),As(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ur(e,t){try{var n="",s=t;do n+=Ae(s),s=s.return;while(s);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function _l(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ph=typeof WeakMap=="function"?WeakMap:Map;function sc(e,t,n){n=Cn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){zs||(zs=!0,Rl=s),Sl(e,t)},n}function oc(e,t,n){n=Cn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){Sl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Sl(e,t),typeof s!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function lc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Ph;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=Gh.bind(null,e,t,n),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uc(e,t,n,s,o){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Cn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var Th=se.ReactCurrentOwner,Bt=!1;function wt(e,t,n,s){t.child=e===null?Fu(t,null,n,s):jr(t,e.child,n,s)}function cc(e,t,n,s,o){n=n.render;var l=t.ref;return Or(t,o),s=pl(e,t,n,s,l,o),n=ml(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,En(e,t,o)):(Ye&&n&&Zo(t),t.flags|=1,wt(e,t,s,o),t.child)}function dc(e,t,n,s,o){if(e===null){var l=n.type;return typeof l=="function"&&!Vl(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,fc(e,t,l,s,o)):(e=$s(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,(e.lanes&o)===0){var f=l.memoizedProps;if(n=n.compare,n=n!==null?n:vi,n(f,s)&&e.ref===t.ref)return En(e,t,o)}return t.flags|=1,e=Jn(l,s),e.ref=t.ref,e.return=t,t.child=e}function fc(e,t,n,s,o){if(e!==null){var l=e.memoizedProps;if(vi(l,s)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=s=l,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,En(e,t,o)}return Cl(e,t,n,s,o)}function hc(e,t,n){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(Wr,Rt),Rt|=n;else{if((n&1073741824)===0)return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(Wr,Rt),Rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,Ge(Wr,Rt),Rt|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,Ge(Wr,Rt),Rt|=s;return wt(e,t,o,n),t.child}function pc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,n,s,o){var l=At(n)?sr:gt.current;return l=Lr(t,l),Or(t,o),n=pl(e,t,n,s,l,o),s=ml(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,En(e,t,o)):(Ye&&s&&Zo(t),t.flags|=1,wt(e,t,n,o),t.child)}function mc(e,t,n,s,o){if(At(n)){var l=!0;xs(t)}else l=!1;if(Or(t,o),t.stateNode===null)Is(e,t),rc(t,n,s),wl(t,n,s,o),s=!0;else if(e===null){var f=t.stateNode,y=t.memoizedProps;f.props=y;var v=f.context,P=n.contextType;typeof P=="object"&&P!==null?P=Gt(P):(P=At(n)?sr:gt.current,P=Lr(t,P));var z=n.getDerivedStateFromProps,H=typeof z=="function"||typeof f.getSnapshotBeforeUpdate=="function";H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==s||v!==P)&&ic(t,f,s,P),Vn=!1;var R=t.memoizedState;f.state=R,As(t,s,f,o),v=t.memoizedState,y!==s||R!==v||Et.current||Vn?(typeof z=="function"&&(kl(t,n,z,s),v=t.memoizedState),(y=Vn||nc(t,n,y,s,R,v,P))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=v),f.props=s,f.state=v,f.context=P,s=y):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,Tu(e,t),y=t.memoizedProps,P=t.type===t.elementType?y:tn(t.type,y),f.props=P,H=t.pendingProps,R=f.context,v=n.contextType,typeof v=="object"&&v!==null?v=Gt(v):(v=At(n)?sr:gt.current,v=Lr(t,v));var ee=n.getDerivedStateFromProps;(z=typeof ee=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==H||R!==v)&&ic(t,f,s,v),Vn=!1,R=t.memoizedState,f.state=R,As(t,s,f,o);var ie=t.memoizedState;y!==H||R!==ie||Et.current||Vn?(typeof ee=="function"&&(kl(t,n,ee,s),ie=t.memoizedState),(P=Vn||nc(t,n,P,s,R,ie,v)||!1)?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,ie,v),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,ie,v)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ie),f.props=s,f.state=ie,f.context=v,s=P):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return El(e,t,n,s,l,o)}function El(e,t,n,s,o,l){pc(e,t);var f=(t.flags&128)!==0;if(!s&&!f)return o&&ku(t,n,!1),En(e,t,l);s=t.stateNode,Th.current=t;var y=f&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&f?(t.child=jr(t,e.child,null,l),t.child=jr(t,null,y,l)):wt(e,t,y,l),t.memoizedState=s.state,o&&ku(t,n,!0),t.child}function gc(e){var t=e.stateNode;t.pendingContext?yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yu(e,t.context,!1),al(e,t.containerInfo)}function xc(e,t,n,s,o){return Mr(),tl(o),t.flags|=256,wt(e,t,n,s),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function yc(e,t,n){var s=t.pendingProps,o=Ke.current,l=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(o&2)!==0),y?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ge(Ke,o&1),e===null)return el(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(f=s.children,e=s.fallback,l?(s=t.mode,l=t.child,f={mode:"hidden",children:f},(s&1)===0&&l!==null?(l.childLanes=0,l.pendingProps=f):l=Ys(f,s,0,null),e=mr(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Bl(n),t.memoizedState=Al,e):Dl(t,f));if(o=e.memoizedState,o!==null&&(y=o.dehydrated,y!==null))return Nh(e,t,f,s,y,o,n);if(l){l=s.fallback,f=t.mode,o=e.child,y=o.sibling;var v={mode:"hidden",children:s.children};return(f&1)===0&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=v,t.deletions=null):(s=Jn(o,v),s.subtreeFlags=o.subtreeFlags&14680064),y!==null?l=Jn(y,l):(l=mr(l,f,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,f=e.child.memoizedState,f=f===null?Bl(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},l.memoizedState=f,l.childLanes=e.childLanes&~n,t.memoizedState=Al,s}return l=e.child,e=l.sibling,s=Jn(l,{mode:"visible",children:s.children}),(t.mode&1)===0&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Dl(e,t){return t=Ys({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,n,s){return s!==null&&tl(s),jr(t,e.child,null,n),e=Dl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nh(e,t,n,s,o,l,f){if(n)return t.flags&256?(t.flags&=-257,s=_l(Error(i(422))),bs(e,t,f,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=Ys({mode:"visible",children:s.children},o,0,null),l=mr(l,o,f,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,(t.mode&1)!==0&&jr(t,e.child,null,f),t.child.memoizedState=Bl(f),t.memoizedState=Al,l);if((t.mode&1)===0)return bs(e,t,f,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var y=s.dgst;return s=y,l=Error(i(419)),s=_l(l,s,void 0),bs(e,t,f,s)}if(y=(f&e.childLanes)!==0,Bt||y){if(s=dt,s!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(s.suspendedLanes|f))!==0?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Sn(e,o),sn(s,e,o,-1))}return Gl(),s=_l(Error(i(421))),bs(e,t,f,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Vh.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,jt=Un(o.nextSibling),Mt=t,Ye=!0,en=null,e!==null&&(Ht[Wt++]=wn,Ht[Wt++]=_n,Ht[Wt++]=or,wn=e.id,_n=e.overflow,or=t),t=Dl(t,s.children),t.flags|=4096,t)}function vc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),sl(e.return,t,n)}function Fl(e,t,n,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=o)}function kc(e,t,n){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(wt(e,t,s.children,n),s=Ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vc(e,n,t);else if(e.tag===19)vc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Ge(Ke,s),(t.mode&1)===0)t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Bs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Fl(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Bs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Fl(t,!0,n,null,l);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Is(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Lh(e,t,n){switch(t.tag){case 3:gc(t),Mr();break;case 5:bu(t);break;case 1:At(t.type)&&xs(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Ge(Ss,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Ge(Ke,Ke.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?yc(e,t,n):(Ge(Ke,Ke.current&1),e=En(e,t,n),e!==null?e.sibling:null);Ge(Ke,Ke.current&1);break;case 19:if(s=(n&t.childLanes)!==0,(e.flags&128)!==0){if(s)return kc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ge(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,hc(e,t,n)}return En(e,t,n)}var wc,Pl,_c,Sc;wc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pl=function(){},_c=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,ur(fn.current);var l=null;switch(n){case"input":o=Nt(e,o),s=Nt(e,s),l=[];break;case"select":o=K({},o,{value:void 0}),s=K({},s,{value:void 0}),l=[];break;case"textarea":o=j(e,o),s=j(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ps)}ut(n,s);var f;n=null;for(P in o)if(!s.hasOwnProperty(P)&&o.hasOwnProperty(P)&&o[P]!=null)if(P==="style"){var y=o[P];for(f in y)y.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(c.hasOwnProperty(P)?l||(l=[]):(l=l||[]).push(P,null));for(P in s){var v=s[P];if(y=o!=null?o[P]:void 0,s.hasOwnProperty(P)&&v!==y&&(v!=null||y!=null))if(P==="style")if(y){for(f in y)!y.hasOwnProperty(f)||v&&v.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in v)v.hasOwnProperty(f)&&y[f]!==v[f]&&(n||(n={}),n[f]=v[f])}else n||(l||(l=[]),l.push(P,n)),n=v;else P==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,y=y?y.__html:void 0,v!=null&&y!==v&&(l=l||[]).push(P,v)):P==="children"?typeof v!="string"&&typeof v!="number"||(l=l||[]).push(P,""+v):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(c.hasOwnProperty(P)?(v!=null&&P==="onScroll"&&Ve("scroll",e),l||y===v||(l=[])):(l=l||[]).push(P,v))}n&&(l=l||[]).push("style",n);var P=l;(t.updateQueue=P)&&(t.flags|=4)}},Sc=function(e,t,n,s){n!==s&&(t.flags|=4)};function bi(e,t){if(!Ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function bh(e,t,n){var s=t.pendingProps;switch(Jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(t),null;case 1:return At(t.type)&&gs(),yt(t),null;case 3:return s=t.stateNode,zr(),$e(Et),$e(gt),dl(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,en!==null&&(Ul(en),en=null))),Pl(e,t),yt(t),null;case 5:ul(t);var o=ur(Fi.current);if(n=t.type,e!==null&&t.stateNode!=null)_c(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(i(166));return yt(t),null}if(e=ur(fn.current),ws(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[dn]=t,s[Ci]=l,e=(t.mode&1)!==0,n){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<wi.length;o++)Ve(wi[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":_(s,l),Ve("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Ve("invalid",s);break;case"textarea":ge(s,l),Ve("invalid",s)}ut(n,l),o=null;for(var f in l)if(l.hasOwnProperty(f)){var y=l[f];f==="children"?typeof y=="string"?s.textContent!==y&&(l.suppressHydrationWarning!==!0&&hs(s.textContent,y,e),o=["children",y]):typeof y=="number"&&s.textContent!==""+y&&(l.suppressHydrationWarning!==!0&&hs(s.textContent,y,e),o=["children",""+y]):c.hasOwnProperty(f)&&y!=null&&f==="onScroll"&&Ve("scroll",s)}switch(n){case"input":Ot(s),ei(s,l,!0);break;case"textarea":Ot(s),ze(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=ps)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=He(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=f.createElement(n,{is:s.is}):(e=f.createElement(n),n==="select"&&(f=e,s.multiple?f.multiple=!0:s.size&&(f.size=s.size))):e=f.createElementNS(e,n),e[dn]=t,e[Ci]=s,wc(e,t,!1,!1),t.stateNode=e;e:{switch(f=zt(n,s),n){case"dialog":Ve("cancel",e),Ve("close",e),o=s;break;case"iframe":case"object":case"embed":Ve("load",e),o=s;break;case"video":case"audio":for(o=0;o<wi.length;o++)Ve(wi[o],e);o=s;break;case"source":Ve("error",e),o=s;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),o=s;break;case"details":Ve("toggle",e),o=s;break;case"input":_(e,s),o=Nt(e,s),Ve("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=K({},s,{value:void 0}),Ve("invalid",e);break;case"textarea":ge(e,s),o=j(e,s),Ve("invalid",e);break;default:o=s}ut(n,o),y=o;for(l in y)if(y.hasOwnProperty(l)){var v=y[l];l==="style"?Pn(e,v):l==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&Lt(e,v)):l==="children"?typeof v=="string"?(n!=="textarea"||v!=="")&&at(e,v):typeof v=="number"&&at(e,""+v):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(c.hasOwnProperty(l)?v!=null&&l==="onScroll"&&Ve("scroll",e):v!=null&&me(e,l,v,f))}switch(n){case"input":Ot(e),ei(e,s,!1);break;case"textarea":Ot(e),ze(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Pe(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Fn(e,!!s.multiple,l,!1):s.defaultValue!=null&&Fn(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ps)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yt(t),null;case 6:if(e&&t.stateNode!=null)Sc(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(n=ur(Fi.current),ur(fn.current),ws(t)){if(s=t.stateNode,n=t.memoizedProps,s[dn]=t,(l=s.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:hs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hs(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[dn]=t,t.stateNode=s}return yt(t),null;case 13:if($e(Ke),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ye&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Au(),Mr(),t.flags|=98560,l=!1;else if(l=ws(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(i(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));l[dn]=t}else Mr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;yt(t),l=!1}else en!==null&&(Ul(en),en=null),l=!0;if(!l)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ke.current&1)!==0?lt===0&&(lt=3):Gl())),t.updateQueue!==null&&(t.flags|=4),yt(t),null);case 4:return zr(),Pl(e,t),e===null&&_i(t.stateNode.containerInfo),yt(t),null;case 10:return il(t.type._context),yt(t),null;case 17:return At(t.type)&&gs(),yt(t),null;case 19:if($e(Ke),l=t.memoizedState,l===null)return yt(t),null;if(s=(t.flags&128)!==0,f=l.rendering,f===null)if(s)bi(l,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Bs(e),f!==null){for(t.flags|=128,bi(l,!1),s=f.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,f=l.alternate,f===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,e=f.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(Ke,Ke.current&1|2),t.child}e=e.sibling}l.tail!==null&&qe()>Gr&&(t.flags|=128,s=!0,bi(l,!1),t.lanes=4194304)}else{if(!s)if(e=Bs(f),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return yt(t),null}else 2*qe()-l.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,s=!0,bi(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(n=l.last,n!==null?n.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=qe(),t.sibling=null,n=Ke.current,Ge(Ke,s?n&1|2:n&1),t):(yt(t),null);case 22:case 23:return Wl(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&(t.mode&1)!==0?(Rt&1073741824)!==0&&(yt(t),t.subtreeFlags&6&&(t.flags|=8192)):yt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function Ih(e,t){switch(Jo(t),t.tag){case 1:return At(t.type)&&gs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zr(),$e(Et),$e(gt),dl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if($e(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(Ke),null;case 4:return zr(),null;case 10:return il(t.type._context),null;case 22:case 23:return Wl(),null;case 24:return null;default:return null}}var Ms=!1,vt=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,re=null;function Hr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ze(e,t,s)}else n.current=null}function Tl(e,t,n){try{n()}catch(s){Ze(e,t,s)}}var Cc=!1;function jh(e,t){if(Wo=ns,e=nu(),Io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var f=0,y=-1,v=-1,P=0,z=0,H=e,R=null;t:for(;;){for(var ee;H!==n||o!==0&&H.nodeType!==3||(y=f+o),H!==l||s!==0&&H.nodeType!==3||(v=f+s),H.nodeType===3&&(f+=H.nodeValue.length),(ee=H.firstChild)!==null;)R=H,H=ee;for(;;){if(H===e)break t;if(R===n&&++P===o&&(y=f),R===l&&++z===s&&(v=f),(ee=H.nextSibling)!==null)break;H=R,R=H.parentNode}H=ee}n=y===-1||v===-1?null:{start:y,end:v}}else n=null}n=n||{start:0,end:0}}else n=null;for(Go={focusedElem:e,selectionRange:n},ns=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var ie=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,et=ie.memoizedState,B=t.stateNode,w=B.getSnapshotBeforeUpdate(t.elementType===t.type?oe:tn(t.type,oe),et);B.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch($){Ze(t,t.return,$)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return ie=Cc,Cc=!1,ie}function Ii(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Tl(t,n,l)}o=o.next}while(o!==s)}}function js(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Nl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ec(e){var t=e.alternate;t!==null&&(e.alternate=null,Ec(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Ci],delete t[Qo],delete t[vh],delete t[kh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ac(e){return e.tag===5||e.tag===3||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ll(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ps));else if(s!==4&&(e=e.child,e!==null))for(Ll(e,t,n),e=e.sibling;e!==null;)Ll(e,t,n),e=e.sibling}function bl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}var ht=null,nn=!1;function Yn(e,t,n){for(n=n.child;n!==null;)Dc(e,t,n),n=n.sibling}function Dc(e,t,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Xi,n)}catch{}switch(n.tag){case 5:vt||Hr(n,t);case 6:var s=ht,o=nn;ht=null,Yn(e,t,n),ht=s,nn=o,ht!==null&&(nn?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(nn?(e=ht,n=n.stateNode,e.nodeType===8?Yo(e.parentNode,n):e.nodeType===1&&Yo(e,n),hi(e)):Yo(ht,n.stateNode));break;case 4:s=ht,o=nn,ht=n.stateNode.containerInfo,nn=!0,Yn(e,t,n),ht=s,nn=o;break;case 0:case 11:case 14:case 15:if(!vt&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,f=l.destroy;l=l.tag,f!==void 0&&((l&2)!==0||(l&4)!==0)&&Tl(n,t,f),o=o.next}while(o!==s)}Yn(e,t,n);break;case 1:if(!vt&&(Hr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(y){Ze(n,t,y)}Yn(e,t,n);break;case 21:Yn(e,t,n);break;case 22:n.mode&1?(vt=(s=vt)||n.memoizedState!==null,Yn(e,t,n),vt=s):Yn(e,t,n);break;default:Yn(e,t,n)}}function Fc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mh),t.forEach(function(s){var o=$h.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var l=e,f=t,y=f;e:for(;y!==null;){switch(y.tag){case 5:ht=y.stateNode,nn=!1;break e;case 3:ht=y.stateNode.containerInfo,nn=!0;break e;case 4:ht=y.stateNode.containerInfo,nn=!0;break e}y=y.return}if(ht===null)throw Error(i(160));Dc(l,f,o),ht=null,nn=!1;var v=o.alternate;v!==null&&(v.return=null),o.return=null}catch(P){Ze(o,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pc(t,e),t=t.sibling}function Pc(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),pn(e),s&4){try{Ii(3,e,e.return),js(3,e)}catch(oe){Ze(e,e.return,oe)}try{Ii(5,e,e.return)}catch(oe){Ze(e,e.return,oe)}}break;case 1:rn(t,e),pn(e),s&512&&n!==null&&Hr(n,n.return);break;case 5:if(rn(t,e),pn(e),s&512&&n!==null&&Hr(n,n.return),e.flags&32){var o=e.stateNode;try{at(o,"")}catch(oe){Ze(e,e.return,oe)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,f=n!==null?n.memoizedProps:l,y=e.type,v=e.updateQueue;if(e.updateQueue=null,v!==null)try{y==="input"&&l.type==="radio"&&l.name!=null&&st(o,l),zt(y,f);var P=zt(y,l);for(f=0;f<v.length;f+=2){var z=v[f],H=v[f+1];z==="style"?Pn(o,H):z==="dangerouslySetInnerHTML"?Lt(o,H):z==="children"?at(o,H):me(o,z,H,P)}switch(y){case"input":qr(o,l);break;case"textarea":Be(o,l);break;case"select":var R=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var ee=l.value;ee!=null?Fn(o,!!l.multiple,ee,!1):R!==!!l.multiple&&(l.defaultValue!=null?Fn(o,!!l.multiple,l.defaultValue,!0):Fn(o,!!l.multiple,l.multiple?[]:"",!1))}o[Ci]=l}catch(oe){Ze(e,e.return,oe)}}break;case 6:if(rn(t,e),pn(e),s&4){if(e.stateNode===null)throw Error(i(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(oe){Ze(e,e.return,oe)}}break;case 3:if(rn(t,e),pn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{hi(t.containerInfo)}catch(oe){Ze(e,e.return,oe)}break;case 4:rn(t,e),pn(e);break;case 13:rn(t,e),pn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(jl=qe())),s&4&&Fc(e);break;case 22:if(z=n!==null&&n.memoizedState!==null,e.mode&1?(vt=(P=vt)||z,rn(t,e),vt=P):rn(t,e),pn(e),s&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!z&&(e.mode&1)!==0)for(re=e,z=e.child;z!==null;){for(H=re=z;re!==null;){switch(R=re,ee=R.child,R.tag){case 0:case 11:case 14:case 15:Ii(4,R,R.return);break;case 1:Hr(R,R.return);var ie=R.stateNode;if(typeof ie.componentWillUnmount=="function"){s=R,n=R.return;try{t=s,ie.props=t.memoizedProps,ie.state=t.memoizedState,ie.componentWillUnmount()}catch(oe){Ze(s,n,oe)}}break;case 5:Hr(R,R.return);break;case 22:if(R.memoizedState!==null){Lc(H);continue}}ee!==null?(ee.return=R,re=ee):Lc(H)}z=z.sibling}e:for(z=null,H=e;;){if(H.tag===5){if(z===null){z=H;try{o=H.stateNode,P?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(y=H.stateNode,v=H.memoizedProps.style,f=v!=null&&v.hasOwnProperty("display")?v.display:null,y.style.display=un("display",f))}catch(oe){Ze(e,e.return,oe)}}}else if(H.tag===6){if(z===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(oe){Ze(e,e.return,oe)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;z===H&&(z=null),H=H.return}z===H&&(z=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:rn(t,e),pn(e),s&4&&Fc(e);break;case 21:break;default:rn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ac(n)){var s=n;break e}n=n.return}throw Error(i(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(at(o,""),s.flags&=-33);var l=Bc(e);bl(e,l,o);break;case 3:case 4:var f=s.stateNode.containerInfo,y=Bc(e);Ll(e,y,f);break;default:throw Error(i(161))}}catch(v){Ze(e,e.return,v)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rh(e,t,n){re=e,Tc(e)}function Tc(e,t,n){for(var s=(e.mode&1)!==0;re!==null;){var o=re,l=o.child;if(o.tag===22&&s){var f=o.memoizedState!==null||Ms;if(!f){var y=o.alternate,v=y!==null&&y.memoizedState!==null||vt;y=Ms;var P=vt;if(Ms=f,(vt=v)&&!P)for(re=o;re!==null;)f=re,v=f.child,f.tag===22&&f.memoizedState!==null?bc(o):v!==null?(v.return=f,re=v):bc(o);for(;l!==null;)re=l,Tc(l),l=l.sibling;re=o,Ms=y,vt=P}Nc(e)}else(o.subtreeFlags&8772)!==0&&l!==null?(l.return=o,re=l):Nc(e)}}function Nc(e){for(;re!==null;){var t=re;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||js(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!vt)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:tn(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Lu(t,l,s);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lu(t,f,n)}break;case 5:var y=t.stateNode;if(n===null&&t.flags&4){n=y;var v=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&n.focus();break;case"img":v.src&&(n.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var z=P.memoizedState;if(z!==null){var H=z.dehydrated;H!==null&&hi(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}vt||t.flags&512&&Nl(t)}catch(R){Ze(t,t.return,R)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function Lc(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function bc(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{js(4,t)}catch(v){Ze(t,n,v)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(v){Ze(t,o,v)}}var l=t.return;try{Nl(t)}catch(v){Ze(t,l,v)}break;case 5:var f=t.return;try{Nl(t)}catch(v){Ze(t,f,v)}}}catch(v){Ze(t,t.return,v)}if(t===e){re=null;break}var y=t.sibling;if(y!==null){y.return=t.return,re=y;break}re=t.return}}var Oh=Math.ceil,Rs=se.ReactCurrentDispatcher,Il=se.ReactCurrentOwner,$t=se.ReactCurrentBatchConfig,Me=0,dt=null,rt=null,pt=0,Rt=0,Wr=Hn(0),lt=0,Mi=null,dr=0,Os=0,Ml=0,ji=null,Dt=null,jl=0,Gr=1/0,An=null,zs=!1,Rl=null,Qn=null,Us=!1,Kn=null,Hs=0,Ri=0,Ol=null,Ws=-1,Gs=0;function _t(){return(Me&6)!==0?qe():Ws!==-1?Ws:Ws=qe()}function Xn(e){return(e.mode&1)===0?1:(Me&2)!==0&&pt!==0?pt&-pt:_h.transition!==null?(Gs===0&&(Gs=Ba()),Gs):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Ma(e.type)),e)}function sn(e,t,n,s){if(50<Ri)throw Ri=0,Ol=null,Error(i(185));ai(e,n,s),((Me&2)===0||e!==dt)&&(e===dt&&((Me&2)===0&&(Os|=n),lt===4&&Zn(e,pt)),Ft(e,s),n===1&&Me===0&&(t.mode&1)===0&&(Gr=qe()+500,ys&&Gn()))}function Ft(e,t){var n=e.callbackNode;_f(e,t);var s=qi(e,e===dt?pt:0);if(s===0)n!==null&&Ca(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Ca(n),t===1)e.tag===0?wh(Mc.bind(null,e)):wu(Mc.bind(null,e)),xh(function(){(Me&6)===0&&Gn()}),n=null;else{switch(Da(s)){case 1:n=yo;break;case 4:n=Ea;break;case 16:n=Ki;break;case 536870912:n=Aa;break;default:n=Ki}n=Gc(n,Ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ic(e,t){if(Ws=-1,Gs=0,(Me&6)!==0)throw Error(i(327));var n=e.callbackNode;if(Vr()&&e.callbackNode!==n)return null;var s=qi(e,e===dt?pt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||t)t=Vs(e,s);else{t=s;var o=Me;Me|=2;var l=Rc();(dt!==e||pt!==t)&&(An=null,Gr=qe()+500,hr(e,t));do try{Hh();break}catch(y){jc(e,y)}while(!0);rl(),Rs.current=l,Me=o,rt!==null?t=0:(dt=null,pt=0,t=lt)}if(t!==0){if(t===2&&(o=vo(e),o!==0&&(s=o,t=zl(e,o))),t===1)throw n=Mi,hr(e,0),Zn(e,s),Ft(e,qe()),n;if(t===6)Zn(e,s);else{if(o=e.current.alternate,(s&30)===0&&!zh(o)&&(t=Vs(e,s),t===2&&(l=vo(e),l!==0&&(s=l,t=zl(e,l))),t===1))throw n=Mi,hr(e,0),Zn(e,s),Ft(e,qe()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(i(345));case 2:pr(e,Dt,An);break;case 3:if(Zn(e,s),(s&130023424)===s&&(t=jl+500-qe(),10<t)){if(qi(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){_t(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=$o(pr.bind(null,e,Dt,An),t);break}pr(e,Dt,An);break;case 4:if(Zn(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var f=31-Jt(s);l=1<<f,f=t[f],f>o&&(o=f),s&=~l}if(s=o,s=qe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Oh(s/1960))-s,10<s){e.timeoutHandle=$o(pr.bind(null,e,Dt,An),s);break}pr(e,Dt,An);break;case 5:pr(e,Dt,An);break;default:throw Error(i(329))}}}return Ft(e,qe()),e.callbackNode===n?Ic.bind(null,e):null}function zl(e,t){var n=ji;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=Vs(e,t),e!==2&&(t=Dt,Dt=n,t!==null&&Ul(t)),e}function Ul(e){Dt===null?Dt=e:Dt.push.apply(Dt,e)}function zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],l=o.getSnapshot;o=o.value;try{if(!qt(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t){for(t&=~Ml,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Jt(t),s=1<<n;e[n]=-1,t&=~s}}function Mc(e){if((Me&6)!==0)throw Error(i(327));Vr();var t=qi(e,0);if((t&1)===0)return Ft(e,qe()),null;var n=Vs(e,t);if(e.tag!==0&&n===2){var s=vo(e);s!==0&&(t=s,n=zl(e,s))}if(n===1)throw n=Mi,hr(e,0),Zn(e,t),Ft(e,qe()),n;if(n===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,Dt,An),Ft(e,qe()),null}function Hl(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(Gr=qe()+500,ys&&Gn())}}function fr(e){Kn!==null&&Kn.tag===0&&(Me&6)===0&&Vr();var t=Me;Me|=1;var n=$t.transition,s=Oe;try{if($t.transition=null,Oe=1,e)return e()}finally{Oe=s,$t.transition=n,Me=t,(Me&6)===0&&Gn()}}function Wl(){Rt=Wr.current,$e(Wr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gh(n)),rt!==null)for(n=rt.return;n!==null;){var s=n;switch(Jo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gs();break;case 3:zr(),$e(Et),$e(gt),dl();break;case 5:ul(s);break;case 4:zr();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:il(s.type._context);break;case 22:case 23:Wl()}n=n.return}if(dt=e,rt=e=Jn(e.current,null),pt=Rt=t,lt=0,Mi=null,Ml=Os=dr=0,Dt=ji=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,l=n.pending;if(l!==null){var f=l.next;l.next=o,s.next=f}n.pending=s}ar=null}return e}function jc(e,t){do{var n=rt;try{if(rl(),Ds.current=Ns,Fs){for(var s=Xe.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Fs=!1}if(cr=0,ct=ot=Xe=null,Pi=!1,Ti=0,Il.current=null,n===null||n.return===null){lt=1,Mi=t,rt=null;break}e:{var l=e,f=n.return,y=n,v=t;if(t=pt,y.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var P=v,z=y,H=z.tag;if((z.mode&1)===0&&(H===0||H===11||H===15)){var R=z.alternate;R?(z.updateQueue=R.updateQueue,z.memoizedState=R.memoizedState,z.lanes=R.lanes):(z.updateQueue=null,z.memoizedState=null)}var ee=ac(f);if(ee!==null){ee.flags&=-257,uc(ee,f,y,l,t),ee.mode&1&&lc(l,P,t),t=ee,v=P;var ie=t.updateQueue;if(ie===null){var oe=new Set;oe.add(v),t.updateQueue=oe}else ie.add(v);break e}else{if((t&1)===0){lc(l,P,t),Gl();break e}v=Error(i(426))}}else if(Ye&&y.mode&1){var et=ac(f);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),uc(et,f,y,l,t),tl(Ur(v,y));break e}}l=v=Ur(v,y),lt!==4&&(lt=2),ji===null?ji=[l]:ji.push(l),l=f;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var B=sc(l,v,t);Nu(l,B);break e;case 1:y=v;var w=l.type,F=l.stateNode;if((l.flags&128)===0&&(typeof w.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Qn===null||!Qn.has(F)))){l.flags|=65536,t&=-t,l.lanes|=t;var $=oc(l,y,t);Nu(l,$);break e}}l=l.return}while(l!==null)}zc(n)}catch(ce){t=ce,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(!0)}function Rc(){var e=Rs.current;return Rs.current=Ns,e===null?Ns:e}function Gl(){(lt===0||lt===3||lt===2)&&(lt=4),dt===null||(dr&268435455)===0&&(Os&268435455)===0||Zn(dt,pt)}function Vs(e,t){var n=Me;Me|=2;var s=Rc();(dt!==e||pt!==t)&&(An=null,hr(e,t));do try{Uh();break}catch(o){jc(e,o)}while(!0);if(rl(),Me=n,Rs.current=s,rt!==null)throw Error(i(261));return dt=null,pt=0,lt}function Uh(){for(;rt!==null;)Oc(rt)}function Hh(){for(;rt!==null&&!hf();)Oc(rt)}function Oc(e){var t=Wc(e.alternate,e,Rt);e.memoizedProps=e.pendingProps,t===null?zc(e):rt=t,Il.current=null}function zc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=bh(n,t,Rt),n!==null){rt=n;return}}else{if(n=Ih(n,t),n!==null){n.flags&=32767,rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,rt=null;return}}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);lt===0&&(lt=5)}function pr(e,t,n){var s=Oe,o=$t.transition;try{$t.transition=null,Oe=1,Wh(e,t,n,s)}finally{$t.transition=o,Oe=s}return null}function Wh(e,t,n,s){do Vr();while(Kn!==null);if((Me&6)!==0)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Sf(e,l),e===dt&&(rt=dt=null,pt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Us||(Us=!0,Gc(Ki,function(){return Vr(),null})),l=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||l){l=$t.transition,$t.transition=null;var f=Oe;Oe=1;var y=Me;Me|=4,Il.current=null,jh(e,n),Pc(n,e),uh(Go),ns=!!Wo,Go=Wo=null,e.current=n,Rh(n),pf(),Me=y,Oe=f,$t.transition=l}else e.current=n;if(Us&&(Us=!1,Kn=e,Hs=o),l=e.pendingLanes,l===0&&(Qn=null),xf(n.stateNode),Ft(e,qe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(zs)throw zs=!1,e=Rl,Rl=null,e;return(Hs&1)!==0&&e.tag!==0&&Vr(),l=e.pendingLanes,(l&1)!==0?e===Ol?Ri++:(Ri=0,Ol=e):Ri=0,Gn(),null}function Vr(){if(Kn!==null){var e=Da(Hs),t=$t.transition,n=Oe;try{if($t.transition=null,Oe=16>e?16:e,Kn===null)var s=!1;else{if(e=Kn,Kn=null,Hs=0,(Me&6)!==0)throw Error(i(331));var o=Me;for(Me|=4,re=e.current;re!==null;){var l=re,f=l.child;if((re.flags&16)!==0){var y=l.deletions;if(y!==null){for(var v=0;v<y.length;v++){var P=y[v];for(re=P;re!==null;){var z=re;switch(z.tag){case 0:case 11:case 15:Ii(8,z,l)}var H=z.child;if(H!==null)H.return=z,re=H;else for(;re!==null;){z=re;var R=z.sibling,ee=z.return;if(Ec(z),z===P){re=null;break}if(R!==null){R.return=ee,re=R;break}re=ee}}}var ie=l.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var et=oe.sibling;oe.sibling=null,oe=et}while(oe!==null)}}re=l}}if((l.subtreeFlags&2064)!==0&&f!==null)f.return=l,re=f;else e:for(;re!==null;){if(l=re,(l.flags&2048)!==0)switch(l.tag){case 0:case 11:case 15:Ii(9,l,l.return)}var B=l.sibling;if(B!==null){B.return=l.return,re=B;break e}re=l.return}}var w=e.current;for(re=w;re!==null;){f=re;var F=f.child;if((f.subtreeFlags&2064)!==0&&F!==null)F.return=f,re=F;else e:for(f=w;re!==null;){if(y=re,(y.flags&2048)!==0)try{switch(y.tag){case 0:case 11:case 15:js(9,y)}}catch(ce){Ze(y,y.return,ce)}if(y===f){re=null;break e}var $=y.sibling;if($!==null){$.return=y.return,re=$;break e}re=y.return}}if(Me=o,Gn(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Xi,e)}catch{}s=!0}return s}finally{Oe=n,$t.transition=t}}return!1}function Uc(e,t,n){t=Ur(n,t),t=sc(e,t,1),e=$n(e,t,1),t=_t(),e!==null&&(ai(e,1,t),Ft(e,t))}function Ze(e,t,n){if(e.tag===3)Uc(e,e,n);else for(;t!==null;){if(t.tag===3){Uc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Qn===null||!Qn.has(s))){e=Ur(n,e),e=oc(t,e,1),t=$n(t,e,1),e=_t(),t!==null&&(ai(t,1,e),Ft(t,e));break}}t=t.return}}function Gh(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,dt===e&&(pt&n)===n&&(lt===4||lt===3&&(pt&130023424)===pt&&500>qe()-jl?hr(e,0):Ml|=n),Ft(e,t)}function Hc(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ji,Ji<<=1,(Ji&130023424)===0&&(Ji=4194304)));var n=_t();e=Sn(e,t),e!==null&&(ai(e,t,n),Ft(e,n))}function Vh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hc(e,n)}function $h(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(i(314))}s!==null&&s.delete(t),Hc(e,n)}var Wc;Wc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Bt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Bt=!1,Lh(e,t,n);Bt=(e.flags&131072)!==0}else Bt=!1,Ye&&(t.flags&1048576)!==0&&_u(t,ks,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Is(e,t),e=t.pendingProps;var o=Lr(t,gt.current);Or(t,n),o=pl(null,t,s,e,o,n);var l=ml();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(s)?(l=!0,xs(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ll(t),o.updater=Ls,t.stateNode=o,o._reactInternals=t,wl(t,s,e,n),t=El(null,t,s,!0,l,n)):(t.tag=0,Ye&&l&&Zo(t),wt(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Is(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=Qh(s),e=tn(s,e),o){case 0:t=Cl(null,t,s,e,n);break e;case 1:t=mc(null,t,s,e,n);break e;case 11:t=cc(null,t,s,e,n);break e;case 14:t=dc(null,t,s,tn(s.type,e),n);break e}throw Error(i(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),Cl(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),mc(e,t,s,o,n);case 3:e:{if(gc(t),e===null)throw Error(i(387));s=t.pendingProps,l=t.memoizedState,o=l.element,Tu(e,t),As(t,s,null,n);var f=t.memoizedState;if(s=f.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Ur(Error(i(423)),t),t=xc(e,t,s,n,o);break e}else if(s!==o){o=Ur(Error(i(424)),t),t=xc(e,t,s,n,o);break e}else for(jt=Un(t.stateNode.containerInfo.firstChild),Mt=t,Ye=!0,en=null,n=Fu(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mr(),s===o){t=En(e,t,n);break e}wt(e,t,s,n)}t=t.child}return t;case 5:return bu(t),e===null&&el(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,f=o.children,Vo(s,o)?f=null:l!==null&&Vo(s,l)&&(t.flags|=32),pc(e,t),wt(e,t,f,n),t.child;case 6:return e===null&&el(t),null;case 13:return yc(e,t,n);case 4:return al(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=jr(t,null,s,n):wt(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),cc(e,t,s,o,n);case 7:return wt(e,t,t.pendingProps,n),t.child;case 8:return wt(e,t,t.pendingProps.children,n),t.child;case 12:return wt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,f=o.value,Ge(Ss,s._currentValue),s._currentValue=f,l!==null)if(qt(l.value,f)){if(l.children===o.children&&!Et.current){t=En(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var y=l.dependencies;if(y!==null){f=l.child;for(var v=y.firstContext;v!==null;){if(v.context===s){if(l.tag===1){v=Cn(-1,n&-n),v.tag=2;var P=l.updateQueue;if(P!==null){P=P.shared;var z=P.pending;z===null?v.next=v:(v.next=z.next,z.next=v),P.pending=v}}l.lanes|=n,v=l.alternate,v!==null&&(v.lanes|=n),sl(l.return,n,t),y.lanes|=n;break}v=v.next}}else if(l.tag===10)f=l.type===t.type?null:l.child;else if(l.tag===18){if(f=l.return,f===null)throw Error(i(341));f.lanes|=n,y=f.alternate,y!==null&&(y.lanes|=n),sl(f,n,t),f=l.sibling}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===t){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}wt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Or(t,n),o=Gt(o),s=s(o),t.flags|=1,wt(e,t,s,n),t.child;case 14:return s=t.type,o=tn(s,t.pendingProps),o=tn(s.type,o),dc(e,t,s,o,n);case 15:return fc(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tn(s,o),Is(e,t),t.tag=1,At(s)?(e=!0,xs(t)):e=!1,Or(t,n),rc(t,s,o),wl(t,s,o,n),El(null,t,s,!0,e,n);case 19:return kc(e,t,n);case 22:return hc(e,t,n)}throw Error(i(156,t.tag))};function Gc(e,t){return Sa(e,t)}function Yh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,t,n,s){return new Yh(e,t,n,s)}function Vl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qh(e){if(typeof e=="function")return Vl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===q)return 11;if(e===Re)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $s(e,t,n,s,o,l){var f=2;if(s=e,typeof e=="function")Vl(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Fe:return mr(n.children,o,l,t);case J:f=8,o|=8;break;case Ie:return e=Yt(12,n,t,o|2),e.elementType=Ie,e.lanes=l,e;case de:return e=Yt(13,n,t,o),e.elementType=de,e.lanes=l,e;case W:return e=Yt(19,n,t,o),e.elementType=W,e.lanes=l,e;case Se:return Ys(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ee:f=10;break e;case Y:f=9;break e;case q:f=11;break e;case Re:f=14;break e;case Ne:f=16,s=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Yt(f,n,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function mr(e,t,n,s){return e=Yt(7,e,s,t),e.lanes=n,e}function Ys(e,t,n,s){return e=Yt(22,e,s,t),e.elementType=Se,e.lanes=n,e.stateNode={isHidden:!1},e}function $l(e,t,n){return e=Yt(6,e,null,t),e.lanes=n,e}function Yl(e,t,n){return t=Yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kh(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Ql(e,t,n,s,o,l,f,y,v){return e=new Kh(e,t,n,y,v),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Yt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ll(l),e}function Xh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Wn;e=e._reactInternals;e:{if(rr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var n=e.type;if(At(n))return vu(e,n,t)}return t}function $c(e,t,n,s,o,l,f,y,v){return e=Ql(n,s,!0,e,o,l,f,y,v),e.context=Vc(null),n=e.current,s=_t(),o=Xn(n),l=Cn(s,o),l.callback=t??null,$n(n,l,o),e.current.lanes=o,ai(e,o,s),Ft(e,s),e}function Qs(e,t,n,s){var o=t.current,l=_t(),f=Xn(o);return n=Vc(n),t.context===null?t.context=n:t.pendingContext=n,t=Cn(l,f),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=$n(o,t,f),e!==null&&(sn(e,o,f,l),Es(e,o,f)),f}function Ks(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kl(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}function Zh(){return null}var Qc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}Xs.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));Qs(e,t,null,null)},Xs.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fr(function(){Qs(null,e,null,null)}),t[vn]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ta();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&ba(e)}};function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kc(){}function Jh(e,t,n,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var P=Ks(f);l.call(P)}}var f=$c(t,s,e,0,null,!1,!1,"",Kc);return e._reactRootContainer=f,e[vn]=f.current,_i(e.nodeType===8?e.parentNode:e),fr(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var y=s;s=function(){var P=Ks(v);y.call(P)}}var v=Ql(e,0,!1,null,null,!1,!1,"",Kc);return e._reactRootContainer=v,e[vn]=v.current,_i(e.nodeType===8?e.parentNode:e),fr(function(){Qs(t,v,n,s)}),v}function Js(e,t,n,s,o){var l=n._reactRootContainer;if(l){var f=l;if(typeof o=="function"){var y=o;o=function(){var v=Ks(f);y.call(v)}}Qs(t,f,e,o)}else f=Jh(n,t,e,o,s);return Ks(f)}Fa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=li(t.pendingLanes);n!==0&&(wo(t,n|1),Ft(t,qe()),(Me&6)===0&&(Gr=qe()+500,Gn()))}break;case 13:fr(function(){var s=Sn(e,1);if(s!==null){var o=_t();sn(s,e,1,o)}}),Kl(e,1)}},_o=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=_t();sn(t,e,134217728,n)}Kl(e,134217728)}},Pa=function(e){if(e.tag===13){var t=Xn(e),n=Sn(e,t);if(n!==null){var s=_t();sn(n,e,t,s)}Kl(e,t)}},Ta=function(){return Oe},Na=function(e,t){var n=Oe;try{return Oe=e,t()}finally{Oe=n}},ni=function(e,t,n){switch(t){case"input":if(qr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=ms(s);if(!o)throw Error(i(90));an(s),qr(s,o)}}}break;case"textarea":Be(e,n);break;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}},ii=Hl,_r=fr;var qh={usingClientEntryPoint:!1,Events:[Ei,Tr,ms,ri,wr,Hl]},Oi={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ep={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wa(e),e===null?null:e.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||Zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qs.isDisabled&&qs.supportsFiber)try{Xi=qs.inject(ep),cn=qs}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qh,Pt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(t))throw Error(i(200));return Xh(e,t,null,n)},Pt.createRoot=function(e,t){if(!Zl(e))throw Error(i(299));var n=!1,s="",o=Qc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Ql(e,1,!1,null,null,n,!1,s,o),e[vn]=t.current,_i(e.nodeType===8?e.parentNode:e),new Xl(t)},Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=wa(t),e=e===null?null:e.stateNode,e},Pt.flushSync=function(e){return fr(e)},Pt.hydrate=function(e,t,n){if(!Zs(t))throw Error(i(200));return Js(null,e,t,!0,n)},Pt.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(i(405));var s=n!=null&&n.hydratedSources||null,o=!1,l="",f=Qc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=$c(t,null,e,1,n??null,o,!1,l,f),e[vn]=t.current,_i(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xs(t)},Pt.render=function(e,t,n){if(!Zs(t))throw Error(i(200));return Js(null,e,t,!1,n)},Pt.unmountComponentAtNode=function(e){if(!Zs(e))throw Error(i(40));return e._reactRootContainer?(fr(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1},Pt.unstable_batchedUpdates=Hl,Pt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Zs(n))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return Js(e,t,n,!1,s)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var id;function cp(){if(id)return ta.exports;id=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(r){console.error(r)}}return u(),ta.exports=up(),ta.exports}var sd;function dp(){if(sd)return eo;sd=1;var u=cp();return eo.createRoot=u.createRoot,eo.hydrateRoot=u.hydrateRoot,eo}var fp=dp();const hp=vd(fp),od=u=>{let r;const i=new Set,a=(E,C)=>{const k=typeof E=="function"?E(r):E;if(!Object.is(k,r)){const T=r;r=C??(typeof k!="object"||k===null)?k:Object.assign({},r,k),i.forEach(M=>M(r,T))}},c=()=>r,m={setState:a,getState:c,getInitialState:()=>x,subscribe:E=>(i.add(E),()=>i.delete(E))},x=r=u(a,c,m);return m},pp=(u=>u?od(u):od),mp=u=>u;function gp(u,r=mp){const i=Hi.useSyncExternalStore(u.subscribe,Hi.useCallback(()=>r(u.getState()),[u,r]),Hi.useCallback(()=>r(u.getInitialState()),[u,r]));return Hi.useDebugValue(i),i}const ld=u=>{const r=pp(u),i=a=>gp(r,a);return Object.assign(i,r),i},xp=(u=>u?ld(u):ld);class $i{constructor(r){N(this,"buffer");N(this,"index",0);this.buffer=r instanceof Uint8Array?r:new Uint8Array(r)}slice(r,i){return new $i(this.buffer.slice(r,i))}readable(){return this.index<this.buffer.length}skip(r){this.index+=r}readUInt8(){return this.buffer[this.index++]}readInt8(){return this.buffer[this.index++]<<24>>24}readUInt16(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)}readUInt32(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)+(this.buffer[this.index++]<<24)>>>0}readString(){const r=this.readUInt16();if(r===0)return"";const i=new TextDecoder("utf-8").decode(this.buffer.slice(this.index,this.index+r));return this.index+=r,i}readRGB(){return this.buffer[this.index++]+(this.buffer[this.index++]<<8)+(this.buffer[this.index++]<<16)}readLight(){return{level:this.readUInt16(),color:this.readUInt16()}}readAnimationLength(){return{min:this.readUInt32(),max:this.readUInt32()}}}const uo=new Uint8Array([69,77,80,69,82,73,65,0]),po=20;var mo=(u=>(u[u.SPRITE_DATA=1]="SPRITE_DATA",u[u.OBJECT_DEFS=2]="OBJECT_DEFS",u))(mo||{});function yp(u){const r=u instanceof Uint8Array?u:new Uint8Array(u);if(r.length<po)return!1;for(let i=0;i<uo.length;i++)if(r[i]!==uo[i])return!1;return!0}function kd(u){const r=u instanceof Uint8Array?u:new Uint8Array(u);if(!yp(r))return null;const i=new DataView(r.buffer,r.byteOffset,r.byteLength);return{fileType:i.getUint8(8),formatVersion:i.getUint16(9,!0),contentVersion:i.getUint32(11,!0),flags:i.getUint8(15)}}const ad={"41BF619C":740,"439D5A33":760,"42A3":1098},ue={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrOpacity:100,ThingAttrNotPreWalkable:101,ThingAttrFloorChange:252,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function vp(u,r){if(u===ue.ThingAttrLast)return u;if(r>=1e3){if(u===16)return ue.ThingAttrNoMoveAnimation;if(u>16)return u-1}else if(r>=755){if(u===23)return ue.ThingAttrFloorChange}else if(r>=740){if(u>0&&u<=15)return u===5?ue.ThingAttrMultiUse:u===6?ue.ThingAttrForceUse:u+1;switch(u){case 16:return ue.ThingAttrLight;case 17:return ue.ThingAttrFloorChange;case 18:return ue.ThingAttrFullGround;case 19:return ue.ThingAttrElevation;case 20:return ue.ThingAttrDisplacement;case 22:return ue.ThingAttrMinimapColor;case 23:return ue.ThingAttrRotateable;case 24:return ue.ThingAttrLyingCorpse;case 25:return ue.ThingAttrHangable;case 26:return ue.ThingAttrHookSouth;case 27:return ue.ThingAttrHookEast;case 28:return ue.ThingAttrAnimateAlways}}return u}function kp(){return{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1}}function wp(u,r){const i=kp();for(;;){const a=u.readUInt8(),c=vp(a,r);switch(c){case ue.ThingAttrLast:return i;case ue.ThingAttrGround:i.ground=!0,i.groundSpeed=u.readUInt16();break;case ue.ThingAttrGroundBorder:i.groundBorder=!0;break;case ue.ThingAttrOnBottom:i.onBottom=!0;break;case ue.ThingAttrOnTop:i.onTop=!0;break;case ue.ThingAttrContainer:i.container=!0;break;case ue.ThingAttrStackable:i.stackable=!0;break;case ue.ThingAttrForceUse:i.forceUse=!0;break;case ue.ThingAttrMultiUse:i.multiUse=!0;break;case ue.ThingAttrWritable:i.writable=!0,i.writableMaxLen=u.readUInt16();break;case ue.ThingAttrWritableOnce:i.writableOnce=!0,i.writableOnceMaxLen=u.readUInt16();break;case ue.ThingAttrFluidContainer:i.fluidContainer=!0;break;case ue.ThingAttrSplash:i.splash=!0;break;case ue.ThingAttrNotWalkable:i.notWalkable=!0;break;case ue.ThingAttrNotMoveable:i.notMoveable=!0;break;case ue.ThingAttrBlockProjectile:i.blockProjectile=!0;break;case ue.ThingAttrNotPathable:i.notPathable=!0;break;case ue.ThingAttrPickupable:i.pickupable=!0;break;case ue.ThingAttrHangable:i.hangable=!0;break;case ue.ThingAttrHookSouth:i.hookSouth=!0;break;case ue.ThingAttrHookEast:i.hookEast=!0;break;case ue.ThingAttrRotateable:i.rotateable=!0;break;case ue.ThingAttrLight:{i.hasLight=!0;const d=u.readLight();i.lightLevel=d.level,i.lightColor=d.color;break}case ue.ThingAttrDontHide:i.dontHide=!0;break;case ue.ThingAttrTranslucent:i.translucent=!0;break;case ue.ThingAttrDisplacement:{if(i.hasDisplacement=!0,r>=755){const d=u.readLight();i.displacementX=d.level,i.displacementY=d.color}break}case ue.ThingAttrElevation:i.hasElevation=!0,i.elevation=u.readUInt16();break;case ue.ThingAttrLyingCorpse:i.lyingCorpse=!0;break;case ue.ThingAttrAnimateAlways:i.animateAlways=!0;break;case ue.ThingAttrMinimapColor:i.hasMinimapColor=!0,i.minimapColor=u.readUInt16();break;case ue.ThingAttrLensHelp:i.lensHelp=u.readUInt16();break;case ue.ThingAttrFullGround:i.fullGround=!0;break;case ue.ThingAttrLook:i.look=!0;break;case ue.ThingAttrCloth:i.cloth=!0,i.clothSlot=u.readUInt16();break;case ue.ThingAttrMarket:i.hasMarket=!0,i.marketCategory=u.readUInt16(),i.marketTradeAs=u.readUInt16(),i.marketShowAs=u.readUInt16(),i.marketName=u.readString(),i.marketRestrictVocation=u.readUInt16(),i.marketRequiredLevel=u.readUInt16();break;case ue.ThingAttrUsable:i.usable=!0,i.usableActionId=u.readUInt16();break;case ue.ThingAttrWrapable:i.wrapable=!0;break;case ue.ThingAttrUnwrapable:i.unwrapable=!0;break;case ue.ThingAttrTopEffect:i.topEffect=!0;break;case ue.ThingAttrOpacity:break;case ue.ThingAttrNotPreWalkable:break;case ue.ThingAttrFloorChange:break;case ue.ThingAttrNoMoveAnimation:i.noMoveAnimation=!0;break;case ue.ThingAttrChargeable:i.chargeable=!0;break;default:throw new Error(`Unknown flag 0x${c.toString(16)} at offset ${u.index}`)}}}function _p(u,r,i){const a=i?u.readUInt8():0,c=u.readUInt8(),d=u.readUInt8();(c>1||d>1)&&u.readUInt8();const p=u.readUInt8(),m=u.readUInt8(),x=u.readUInt8(),E=r>=755?u.readUInt8():1,C=u.readUInt8();let k=0,T=0,M=0;const U=[];if(C>1&&r>=1050){k=u.readUInt8(),T=u.readUInt32(),M=u.readInt8();for(let ae=0;ae<C;ae++)U.push(u.readAnimationLength())}const G=c*d*p*m*x*E*C,V=[];for(let ae=0;ae<G;ae++)V.push(r>=960?u.readUInt32():u.readUInt16());return{type:a,width:c,height:d,layers:p,patternX:m,patternY:x,patternZ:E,animationLength:C,asynchronous:k,nLoop:T,start:M,animationLengths:U,sprites:V}}function Sp(u){const r=kd(u);let i,a;if(r){if(r.fileType!==mo.OBJECT_DEFS)throw new Error(`Expected object definitions (0x02), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,a=po}else{const T=new DataView(u).getUint32(0,!0).toString(16).toUpperCase();if(!(T in ad))throw new Error("Unknown object definition file format.");i=ad[T],a=4}const c=new $i(u.slice(a)),d=c.readUInt16(),p=c.readUInt16(),m=c.readUInt16(),x=c.readUInt16(),E=d+p+m+x,C=new Map;for(let k=100;k<=E;k++){const T=c.index,M=wp(c,i),U=k>d&&k<=d+p,G=i>=1050&&U,V=G?c.readUInt8():1,ae=[];for(let _e=0;_e<V;_e++)ae.push(_p(c,i,G));const fe=c.index,me=c.buffer.slice(T,fe);let se;k<=d?se="item":k<=d+p?se="outfit":k<=d+p+m?se="effect":se="distance",C.set(k,{id:k,category:se,flags:M,frameGroups:ae,rawBytes:me})}return console.log(`[OB] Parsed ${C.size} things: items=${d} outfits=${p} effects=${m} distances=${x}`),{version:i,itemCount:d,outfitCount:p,effectCount:m,distanceCount:x,things:C,originalBuffer:u}}const ud={"57BBD603":1098};function Cp(u){const r=kd(u);let i,a;if(r){if(r.fileType!==mo.SPRITE_DATA)throw new Error(`Expected sprite data (0x01), got 0x${r.fileType.toString(16)}`);i=r.contentVersion,a=po}else{const E=new DataView(u).getUint32(0,!0).toString(16).toUpperCase();if(!(E in ud))throw new Error("Unknown sprite file format.");i=ud[E],a=4}const c=new Uint8Array(u.slice(a)),d=new $i(c),p=i>760?d.readUInt32():d.readUInt16(),m=new Map;for(let x=1;x<=p;x++){const E=d.readUInt32();E!==0&&m.set(x,E-a)}return console.log(`[OB] Parsed sprite index: ${p} sprites, ${m.size} non-empty`),{version:i,spriteCount:p,addresses:m,buffer:c,originalBuffer:u}}function co(u,r){const i=u.addresses.get(r);if(i===void 0)return null;const a=u.buffer,c=a[i+3]+(a[i+4]<<8),d=new $i(a.slice(i,i+5+c));d.readRGB(),d.skip(2);const p=new Uint32Array(1024);let m=0;for(;d.readable();){const E=d.readUInt16(),C=d.readUInt16();m+=E;for(let k=m;k<m+C;k++){const T=d.readUInt8(),M=d.readUInt8(),U=d.readUInt8(),G=d.readUInt8();p[k]=G<<24|U<<16|M<<8|T}m+=C}const x=new ImageData(32,32);return new Uint32Array(x.data.buffer).set(p),x}const la=new Map,go=document.createElement("canvas");go.width=32;go.height=32;const cd=go.getContext("2d");function aa(u,r,i){if(r===0)return null;const a=la.get(r);if(a)return a;const c=(i==null?void 0:i.get(r))??co(u,r);if(!c)return null;cd.clearRect(0,0,32,32),cd.putImageData(c,0,0);const d=go.toDataURL();return la.set(r,d),d}function Zr(){la.clear()}const le=xp((u,r)=>({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,activeCategory:"item",selectedThingId:null,searchQuery:"",editVersion:0,focusSpriteId:null,loadFiles:(i,a)=>{u({loading:!0,error:null});try{const c=Sp(i),d=Cp(a);Zr(),u({objectData:c,spriteData:d,loaded:!0,loading:!1,selectedThingId:100,activeCategory:"item",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null})}catch(c){u({error:c instanceof Error?c.message:String(c),loading:!1})}},setActiveCategory:i=>{const a=r().getCategoryRange(i);u({activeCategory:i,selectedThingId:a?a.start:null,searchQuery:""})},setSelectedThingId:i=>u({selectedThingId:i}),setSearchQuery:i=>u({searchQuery:i}),reset:()=>{Zr(),u({objectData:null,spriteData:null,loaded:!1,loading:!1,error:null,activeCategory:"item",selectedThingId:null,searchQuery:"",dirty:!1,dirtyIds:new Set,undoStack:[],redoStack:[],spriteOverrides:new Map,dirtySpriteIds:new Set,editVersion:0,focusSpriteId:null})},updateThingFlags:(i,a)=>{const{objectData:c,undoStack:d,dirtyIds:p,editVersion:m}=r();if(!c)return;const x=c.things.get(i);if(!x)return;const E={...x.flags};x.flags=a,x.rawBytes=void 0;const C=new Set(p);C.add(i),u({dirty:!0,dirtyIds:C,undoStack:[...d,{thingId:i,oldFlags:E,newFlags:{...a}}],redoStack:[],editVersion:m+1})},undo:()=>{const{objectData:i,undoStack:a,redoStack:c,editVersion:d}=r();if(!i||a.length===0)return;const p=a[a.length-1],m=i.things.get(p.thingId);m&&(m.flags={...p.oldFlags}),u({undoStack:a.slice(0,-1),redoStack:[...c,p],editVersion:d+1})},redo:()=>{const{objectData:i,undoStack:a,redoStack:c,editVersion:d}=r();if(!i||c.length===0)return;const p=c[c.length-1],m=i.things.get(p.thingId);m&&(m.flags={...p.newFlags}),u({undoStack:[...a,p],redoStack:c.slice(0,-1),editVersion:d+1})},replaceSprite:(i,a)=>{const{spriteOverrides:c,dirtySpriteIds:d,editVersion:p}=r(),m=new Map(c);m.set(i,a);const x=new Set(d);x.add(i),Zr(),u({dirty:!0,spriteOverrides:m,dirtySpriteIds:x,editVersion:p+1})},addThing:i=>{const{objectData:a,editVersion:c}=r();if(!a)return null;let d;switch(i){case"item":a.itemCount++,d=a.itemCount;break;case"outfit":a.outfitCount++,d=a.itemCount+a.outfitCount;break;case"effect":a.effectCount++,d=a.itemCount+a.outfitCount+a.effectCount;break;case"distance":a.distanceCount++,d=a.itemCount+a.outfitCount+a.effectCount+a.distanceCount;break}const x={id:d,category:i,flags:{ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1},frameGroups:[{type:0,width:1,height:1,layers:1,patternX:1,patternY:1,patternZ:1,animationLength:1,asynchronous:0,nLoop:0,start:0,animationLengths:[{min:0,max:0}],sprites:[0]}]};a.things.set(d,x);const E=new Set(r().dirtyIds);return E.add(d),u({dirty:!0,dirtyIds:E,selectedThingId:d,editVersion:c+1}),d},removeThing:i=>{const{objectData:a,editVersion:c,activeCategory:d}=r();if(!a||!a.things.get(i))return;const m=r().getCategoryRange(d);if(!m)return;const x=m.end;if(i!==x)return;switch(a.things.delete(i),d){case"item":a.itemCount--;break;case"outfit":a.outfitCount--;break;case"effect":a.effectCount--;break;case"distance":a.distanceCount--;break}const E=i>m.start?i-1:m.start;u({dirty:!0,selectedThingId:a.things.has(E)?E:null,editVersion:c+1})},importThing:(i,a,c,d)=>{const{objectData:p,spriteData:m,editVersion:x,spriteOverrides:E,dirtySpriteIds:C}=r();if(!p||!m)return null;let k;switch(i){case"item":p.itemCount++,k=p.itemCount;break;case"outfit":p.outfitCount++,k=p.itemCount+p.outfitCount;break;case"effect":p.effectCount++,k=p.itemCount+p.outfitCount+p.effectCount;break;case"distance":p.distanceCount++,k=p.itemCount+p.outfitCount+p.effectCount+p.distanceCount;break}const T=new Map(E),M=new Set(C),U=new Map;for(const[fe,me]of d){if(fe===0||U.has(fe))continue;m.spriteCount++;const se=m.spriteCount;U.set(fe,se),T.set(se,me),M.add(se)}const G=c.map((fe,me)=>({...fe,type:me,sprites:fe.sprites.map(se=>se===0?0:U.get(se)??se),animationLengths:fe.animationLengths.map(se=>({...se}))})),V={id:k,category:i,flags:{...a},frameGroups:G};p.things.set(k,V);const ae=new Set(r().dirtyIds);return ae.add(k),Zr(),u({dirty:!0,dirtyIds:ae,spriteOverrides:T,dirtySpriteIds:M,selectedThingId:k,activeCategory:i,editVersion:x+1}),k},markClean:()=>u({dirty:!1,dirtyIds:new Set,dirtySpriteIds:new Set}),getCategoryRange:i=>{const a=r().objectData;if(!a)return null;switch(i){case"item":return{start:100,end:a.itemCount};case"outfit":return{start:a.itemCount+1,end:a.itemCount+a.outfitCount};case"effect":return{start:a.itemCount+a.outfitCount+1,end:a.itemCount+a.outfitCount+a.effectCount};case"distance":return{start:a.itemCount+a.outfitCount+a.effectCount+1,end:a.itemCount+a.outfitCount+a.effectCount+a.distanceCount}}}}));function Ep(u,r,i,a){if(!u)return[];const c=a(r);if(!c)return[];const d=[];for(let p=c.start;p<=c.end;p++){const m=u.things.get(p);if(m){if(i&&!p.toString().includes(i))continue;d.push(m)}}return d}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wd=(...u)=>u.filter((r,i,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===i).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=te.forwardRef(({color:u="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:p,...m},x)=>te.createElement("svg",{ref:x,...Bp,width:r,height:r,stroke:u,strokeWidth:a?Number(i)*24/Number(r):i,className:wd("lucide",c),...m},[...p.map(([E,C])=>te.createElement(E,C)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(u,r)=>{const i=te.forwardRef(({className:a,...c},d)=>te.createElement(Dp,{ref:d,iconNode:r,className:wd(`lucide-${Ap(u)}`,a),...c}));return i.displayName=`${u}`,i};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Qe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Qe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Qe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Qe("ImageDown",[["path",{d:"M10.3 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10l-3.1-3.1a2 2 0 0 0-2.814.014L6 21",key:"9csbqa"}],["path",{d:"m14 19 3 3v-5.5",key:"9ldu5r"}],["path",{d:"m17 22 3-3",key:"1nkfve"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Qe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Qe("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Qe("Shirt",[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Qe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=Qe("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=Qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Qe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Qe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Kp(){const u=le(U=>U.loadFiles),r=le(U=>U.loading),i=le(U=>U.error),[a,c]=te.useState(!1),d=te.useRef(null),p=te.useRef(null),[m,x]=te.useState(null),[E,C]=te.useState(null);te.useCallback(()=>{d.current&&p.current&&u(d.current,p.current)},[u]);const k=te.useCallback(U=>{var ae;const G=(ae=U.name.split(".").pop())==null?void 0:ae.toLowerCase(),V=new FileReader;V.onload=fe=>{var se;const me=(se=fe.target)==null?void 0:se.result;G==="dat"||G==="eobj"?(d.current=me,x(U.name)):(G==="spr"||G==="espr")&&(p.current=me,C(U.name)),d.current&&p.current&&u(d.current,p.current)},V.readAsArrayBuffer(U)},[u]),T=te.useCallback(U=>{U.preventDefault(),c(!1),Array.from(U.dataTransfer.files).forEach(k)},[k]),M=te.useCallback(U=>{Array.from(U.target.files||[]).forEach(k)},[k]);return h.jsx("div",{className:"h-full flex items-center justify-center bg-emperia-bg p-8",children:h.jsxs("div",{className:"max-w-lg w-full",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-emperia-text mb-2",children:"Emperia Object Builder"}),h.jsx("p",{className:"text-emperia-muted text-sm",children:"v1.0.0  Web Edition"})]}),h.jsxs("div",{onDragOver:U=>{U.preventDefault(),c(!0)},onDragLeave:()=>c(!1),onDrop:T,className:`
            border-2 border-dashed rounded-xl p-12 text-center cursor-pointer
            transition-all duration-200
            ${a?"border-emperia-accent bg-emperia-accent/10":"border-emperia-border hover:border-emperia-muted bg-emperia-surface"}
          `,onClick:()=>{var U;return(U=document.getElementById("file-input"))==null?void 0:U.click()},children:[h.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:".dat,.spr,.eobj,.espr",className:"hidden",onChange:M}),r?h.jsxs("div",{className:"flex flex-col items-center gap-3",children:[h.jsx(jp,{className:"w-12 h-12 text-emperia-accent animate-spin"}),h.jsx("p",{className:"text-emperia-text",children:"Loading files"})]}):h.jsxs("div",{className:"flex flex-col items-center gap-3",children:[h.jsx(Ed,{className:"w-12 h-12 text-emperia-muted"}),h.jsx("p",{className:"text-emperia-text font-medium",children:"Drop your files here"}),h.jsxs("p",{className:"text-emperia-muted text-sm",children:["Drag & drop ",h.jsx("code",{className:"text-emperia-accent",children:".eobj"})," + ",h.jsx("code",{className:"text-emperia-accent",children:".espr"})," files",h.jsx("br",{}),"or legacy ",h.jsx("code",{className:"text-emperia-accent",children:".dat"})," + ",h.jsx("code",{className:"text-emperia-accent",children:".spr"})]})]})]}),h.jsxs("div",{className:"mt-4 flex gap-4 justify-center text-xs",children:[h.jsxs("div",{className:`flex items-center gap-1.5 ${m?"text-green-400":"text-emperia-muted"}`,children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${m?"bg-green-400":"bg-emperia-border"}`}),m||"Objects (.eobj / .dat)"]}),h.jsxs("div",{className:`flex items-center gap-1.5 ${E?"text-green-400":"text-emperia-muted"}`,children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${E?"bg-green-400":"bg-emperia-border"}`}),E||"Sprites (.espr / .spr)"]})]}),i&&h.jsxs("div",{className:"mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 flex items-start gap-2",children:[h.jsx(Lp,{className:"w-4 h-4 text-red-400 mt-0.5 shrink-0"}),h.jsx("p",{className:"text-red-300 text-sm",children:i})]})]})})}class Ad{constructor(r=4096){N(this,"chunks",[]);N(this,"current");N(this,"pos",0);this.current=new Uint8Array(r)}ensure(r){if(this.pos+r<=this.current.length)return;this.chunks.push(this.current.slice(0,this.pos));const i=Math.max(this.current.length*2,r+1024);this.current=new Uint8Array(i),this.pos=0}writeUInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeInt8(r){this.ensure(1),this.current[this.pos++]=r&255}writeUInt16(r){this.ensure(2),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255}writeUInt32(r){this.ensure(4),this.current[this.pos++]=r&255,this.current[this.pos++]=r>>8&255,this.current[this.pos++]=r>>16&255,this.current[this.pos++]=r>>24&255}writeBytes(r){this.ensure(r.length),this.current.set(r,this.pos),this.pos+=r.length}writeString(r){const i=new TextEncoder().encode(r);this.writeUInt16(i.length),this.ensure(i.length),this.current.set(i,this.pos),this.pos+=i.length}toArrayBuffer(){this.chunks.push(this.current.slice(0,this.pos));const r=this.chunks.reduce((c,d)=>c+d.length,0),i=new Uint8Array(r);let a=0;for(const c of this.chunks)i.set(c,a),a+=c.length;return this.chunks=[],this.current=new Uint8Array(4096),this.pos=0,i.buffer}}const Ce={ThingAttrGround:0,ThingAttrGroundBorder:1,ThingAttrOnBottom:2,ThingAttrOnTop:3,ThingAttrContainer:4,ThingAttrStackable:5,ThingAttrForceUse:6,ThingAttrMultiUse:7,ThingAttrWritable:8,ThingAttrWritableOnce:9,ThingAttrFluidContainer:10,ThingAttrSplash:11,ThingAttrNotWalkable:12,ThingAttrNotMoveable:13,ThingAttrBlockProjectile:14,ThingAttrNotPathable:15,ThingAttrPickupable:16,ThingAttrHangable:17,ThingAttrHookSouth:18,ThingAttrHookEast:19,ThingAttrRotateable:20,ThingAttrLight:21,ThingAttrDontHide:22,ThingAttrTranslucent:23,ThingAttrDisplacement:24,ThingAttrElevation:25,ThingAttrLyingCorpse:26,ThingAttrAnimateAlways:27,ThingAttrMinimapColor:28,ThingAttrLensHelp:29,ThingAttrFullGround:30,ThingAttrLook:31,ThingAttrCloth:32,ThingAttrMarket:33,ThingAttrUsable:34,ThingAttrWrapable:35,ThingAttrUnwrapable:36,ThingAttrTopEffect:37,ThingAttrNoMoveAnimation:253,ThingAttrChargeable:254,ThingAttrLast:255};function Xp(u,r,i){const a=c=>{if(i>=1e3){if(c===Ce.ThingAttrNoMoveAnimation){u.writeUInt8(16);return}if(c===Ce.ThingAttrChargeable){u.writeUInt8(Ce.ThingAttrChargeable+1);return}if(c>=16){u.writeUInt8(c+1);return}}u.writeUInt8(c)};r.ground&&(a(Ce.ThingAttrGround),u.writeUInt16(r.groundSpeed??0)),r.groundBorder&&a(Ce.ThingAttrGroundBorder),r.onBottom&&a(Ce.ThingAttrOnBottom),r.onTop&&a(Ce.ThingAttrOnTop),r.container&&a(Ce.ThingAttrContainer),r.stackable&&a(Ce.ThingAttrStackable),r.forceUse&&a(Ce.ThingAttrForceUse),r.multiUse&&a(Ce.ThingAttrMultiUse),r.writable&&(a(Ce.ThingAttrWritable),u.writeUInt16(r.writableMaxLen??0)),r.writableOnce&&(a(Ce.ThingAttrWritableOnce),u.writeUInt16(r.writableOnceMaxLen??0)),r.fluidContainer&&a(Ce.ThingAttrFluidContainer),r.splash&&a(Ce.ThingAttrSplash),r.notWalkable&&a(Ce.ThingAttrNotWalkable),r.notMoveable&&a(Ce.ThingAttrNotMoveable),r.blockProjectile&&a(Ce.ThingAttrBlockProjectile),r.notPathable&&a(Ce.ThingAttrNotPathable),r.pickupable&&a(Ce.ThingAttrPickupable),r.hangable&&a(Ce.ThingAttrHangable),r.hookSouth&&a(Ce.ThingAttrHookSouth),r.hookEast&&a(Ce.ThingAttrHookEast),r.rotateable&&a(Ce.ThingAttrRotateable),r.hasLight&&(a(Ce.ThingAttrLight),u.writeUInt16(r.lightLevel??0),u.writeUInt16(r.lightColor??0)),r.dontHide&&a(Ce.ThingAttrDontHide),r.translucent&&a(Ce.ThingAttrTranslucent),r.hasDisplacement&&(a(Ce.ThingAttrDisplacement),i>=755&&(u.writeUInt16(r.displacementX??0),u.writeUInt16(r.displacementY??0))),r.hasElevation&&(a(Ce.ThingAttrElevation),u.writeUInt16(r.elevation??0)),r.lyingCorpse&&a(Ce.ThingAttrLyingCorpse),r.animateAlways&&a(Ce.ThingAttrAnimateAlways),r.hasMinimapColor&&(a(Ce.ThingAttrMinimapColor),u.writeUInt16(r.minimapColor??0)),r.lensHelp!=null&&(a(Ce.ThingAttrLensHelp),u.writeUInt16(r.lensHelp)),r.fullGround&&a(Ce.ThingAttrFullGround),r.look&&a(Ce.ThingAttrLook),r.cloth&&(a(Ce.ThingAttrCloth),u.writeUInt16(r.clothSlot??0)),r.hasMarket&&(a(Ce.ThingAttrMarket),u.writeUInt16(r.marketCategory??0),u.writeUInt16(r.marketTradeAs??0),u.writeUInt16(r.marketShowAs??0),u.writeString(r.marketName??""),u.writeUInt16(r.marketRestrictVocation??0),u.writeUInt16(r.marketRequiredLevel??0)),r.usable&&(a(Ce.ThingAttrUsable),u.writeUInt16(r.usableActionId??0)),r.wrapable&&a(Ce.ThingAttrWrapable),r.unwrapable&&a(Ce.ThingAttrUnwrapable),r.topEffect&&a(Ce.ThingAttrTopEffect),r.noMoveAnimation&&a(Ce.ThingAttrNoMoveAnimation),r.chargeable&&a(Ce.ThingAttrChargeable),u.writeUInt8(Ce.ThingAttrLast)}function Zp(u,r,i,a){if(a&&u.writeUInt8(r.type),u.writeUInt8(r.width),u.writeUInt8(r.height),(r.width>1||r.height>1)&&u.writeUInt8(Math.max(r.width,r.height)),u.writeUInt8(r.layers),u.writeUInt8(r.patternX),u.writeUInt8(r.patternY),i>=755&&u.writeUInt8(r.patternZ),u.writeUInt8(r.animationLength),r.animationLength>1&&i>=1050){u.writeUInt8(r.asynchronous),u.writeUInt32(r.nLoop),u.writeUInt8(r.start&255);for(let c=0;c<r.animationLength;c++){const d=r.animationLengths[c]??{min:100,max:100};u.writeUInt32(d.min),u.writeUInt32(d.max)}}for(const c of r.sprites)i>=960?u.writeUInt32(c):u.writeUInt16(c)}function Jp(u,r){if(!r||r.size===0)return console.log("[OB] Compile: no edits, returning original buffer"),u.originalBuffer.slice(0);console.log(`[OB] Compile: rebuilding with ${r.size} edited thing(s)`);const i=new Ad(1024*1024),a=new Uint8Array(u.originalBuffer,0,28);i.writeBytes(a);const c=u.itemCount+u.outfitCount+u.effectCount+u.distanceCount;for(let d=100;d<=c;d++){const p=u.things.get(d);if(!p){i.writeUInt8(Ce.ThingAttrLast),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),i.writeUInt8(1),u.version>=755&&i.writeUInt8(1),i.writeUInt8(1),u.version>=960?i.writeUInt32(0):i.writeUInt16(0);continue}if(p.rawBytes&&!r.has(d)){i.writeBytes(p.rawBytes);continue}Xp(i,p.flags,u.version);const m=p.category==="outfit",x=u.version>=1050&&m;x&&i.writeUInt8(p.frameGroups.length);for(const E of p.frameGroups)Zp(i,E,u.version,x)}return i.toArrayBuffer()}const dd=32,to=dd*dd;function qp(u){const r=new Uint32Array(u.data.buffer),i=[];let a=0;for(;a<to;){let m=0;for(;a+m<to&&!((r[a+m]>>24&255)>0);)m++;let x=a+m,E=0;for(;x+E<to&&(r[x+E]>>24&255)!==0;)E++;if(m>0&&E===0&&a+m>=to)break;const C=new Uint8Array(4+E*4),k=new DataView(C.buffer);k.setUint16(0,m,!0),k.setUint16(2,E,!0);for(let T=0;T<E;T++){const M=r[x+T];C[4+T*4+0]=M&255,C[4+T*4+1]=M>>8&255,C[4+T*4+2]=M>>16&255,C[4+T*4+3]=M>>24&255}i.push(C),a=x+E}const c=i.reduce((m,x)=>m+x.length,0),d=new Uint8Array(5+c);d[0]=255,d[1]=0,d[2]=255,d[3]=c&255,d[4]=c>>8&255;let p=5;for(const m of i)d.set(m,p),p+=m.length;return d}function e0(u,r){if(!r||r.size===0)return console.log("[OB] Sprite compile: no edits, returning original buffer"),u.originalBuffer.slice(0);console.log(`[OB] Sprite compile: rebuilding with ${r.size} modified sprite(s)`);const i=new Map;for(const[k,T]of r)i.set(k,qp(T));const a=new Map;for(let k=1;k<=u.spriteCount;k++){const T=i.get(k);if(T)a.set(k,T);else{const M=u.addresses.get(k);if(M!==void 0){const U=u.buffer,G=U[M+3]+(U[M+4]<<8);a.set(k,U.slice(M,M+5+G))}}}const c=po,d=u.version>760?4:2,p=u.spriteCount*4,m=c+d+p,x=new Map;let E=m;for(let k=1;k<=u.spriteCount;k++){const T=a.get(k);T&&(x.set(k,E),E+=T.length)}const C=new Ad(E+1024);for(let k=0;k<uo.length;k++)C.writeUInt8(uo[k]);C.writeUInt8(mo.SPRITE_DATA),C.writeUInt16(1),C.writeUInt32(u.version),C.writeUInt8(0),C.writeUInt32(0),u.version>760?C.writeUInt32(u.spriteCount):C.writeUInt16(u.spriteCount);for(let k=1;k<=u.spriteCount;k++)C.writeUInt32(x.get(k)??0);for(let k=1;k<=u.spriteCount;k++){const T=a.get(k);T&&C.writeBytes(T)}return C.toArrayBuffer()}function t0(){const u=le(k=>k.objectData),r=le(k=>k.spriteData),i=le(k=>k.reset),a=le(k=>k.dirty),c=le(k=>k.undo),d=le(k=>k.redo),p=le(k=>k.undoStack),m=le(k=>k.redoStack),x=le(k=>k.markClean);te.useEffect(()=>{const k=T=>{(T.ctrlKey||T.metaKey)&&T.key==="z"&&!T.shiftKey&&(T.preventDefault(),c()),(T.ctrlKey||T.metaKey)&&(T.key==="y"||T.key==="z"&&T.shiftKey)&&(T.preventDefault(),d())};return window.addEventListener("keydown",k),()=>window.removeEventListener("keydown",k)},[c,d]);const E=le(k=>k.dirtyIds),C=()=>{if(!u||!r)return;const k=Jp(u,E);ia(k,"emperia.eobj");const T=le.getState().spriteOverrides,M=e0(r,T);ia(M,"emperia.espr");const U=JSON.stringify({version:1,features:{spriteDataSize:4096,transparency:!0,spriteSize:32,frameDurations:!0,extended:!0,frameGroups:!0},contentVersion:u.version,format:"emperia-asset-manifest",files:{sprites:"emperia.espr",objects:"emperia.eobj"}},null,2);ia(new TextEncoder().encode(U).buffer,"emperia.easset"),x()};return h.jsxs("div",{className:"h-10 flex items-center px-3 gap-2 bg-emperia-surface border-b border-emperia-border shrink-0",children:[h.jsx("span",{className:"text-sm font-bold text-emperia-text tracking-wide",children:"Emperia Object Builder"}),h.jsx("span",{className:"text-xs text-emperia-muted",children:"v1.0.0"}),a&&h.jsx("span",{title:"Unsaved changes",children:h.jsx(Np,{className:"w-2 h-2 fill-amber-400 text-amber-400"})}),h.jsx("div",{className:"flex-1"}),u&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center gap-3 text-xs text-emperia-muted mr-2",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Mp,{className:"w-3 h-3"}),"v",u.version]}),h.jsxs("span",{children:[u.things.size," objects"]})]}),h.jsx("button",{onClick:c,disabled:p.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Undo (Ctrl+Z)",children:h.jsx($p,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:d,disabled:m.length===0,className:`p-1.5 rounded text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                       disabled:opacity-30 disabled:cursor-default transition-colors`,title:"Redo (Ctrl+Y)",children:h.jsx(Wp,{className:"w-3.5 h-3.5"})}),h.jsx("div",{className:"w-px h-5 bg-emperia-border mx-1"}),h.jsxs("button",{onClick:C,className:`flex items-center gap-1.5 px-2.5 py-1 rounded text-xs font-medium
                       bg-emperia-accent/20 text-emperia-accent hover:bg-emperia-accent/30
                       transition-colors`,title:"Compile and download .eobj + .espr",children:[h.jsx(_d,{className:"w-3.5 h-3.5"}),"Compile"]})]}),h.jsxs("button",{onClick:i,className:`flex items-center gap-1.5 px-2 py-1 rounded text-xs
                   text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover
                   transition-colors`,children:[h.jsx(Sd,{className:"w-3.5 h-3.5"}),"Open"]})]})}function ia(u,r){const i=new Blob([u],{type:"application/octet-stream"}),a=URL.createObjectURL(i),c=document.createElement("a");c.href=a,c.download=r,c.click(),URL.revokeObjectURL(a)}const n0=[{key:"item",label:"Items",icon:Op},{key:"outfit",label:"Outfits",icon:Gp},{key:"effect",label:"Effects",icon:Vp},{key:"distance",label:"Distance",icon:Fp}];function r0(){const u=le(C=>C.activeCategory),r=le(C=>C.setActiveCategory),i=le(C=>C.objectData),a=le(C=>C.searchQuery),c=le(C=>C.setSearchQuery),d=le(C=>C.selectedThingId),p=le(C=>C.addThing),m=le(C=>C.removeThing),x=le(C=>C.getCategoryRange);le(C=>C.editVersion);const E=C=>{if(!i)return 0;switch(C){case"item":return i.itemCount-99;case"outfit":return i.outfitCount;case"effect":return i.effectCount;case"distance":return i.distanceCount}};return h.jsxs("div",{className:"shrink-0",children:[h.jsx("div",{className:"flex border-b border-emperia-border",children:n0.map(({key:C,label:k,icon:T})=>h.jsxs("button",{onClick:()=>r(C),className:`
              flex-1 flex flex-col items-center gap-0.5 py-2 text-xs transition-colors
              ${u===C?"text-emperia-accent border-b-2 border-emperia-accent bg-emperia-accent/5":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}
            `,children:[h.jsx(T,{className:"w-4 h-4"}),h.jsx("span",{children:k}),h.jsx("span",{className:"text-[10px] opacity-60",children:E(C)})]},C))}),h.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1",children:[h.jsxs("div",{className:"flex items-center gap-1.5 bg-emperia-surface rounded px-2 py-1 flex-1",children:[h.jsx(Cd,{className:"w-3.5 h-3.5 text-emperia-muted shrink-0"}),h.jsx("input",{type:"text",placeholder:"Search by ID",value:a,onChange:C=>c(C.target.value),className:"bg-transparent text-xs text-emperia-text placeholder-emperia-muted/50 outline-none w-full"})]}),h.jsx("button",{onClick:()=>p(u),disabled:!i,className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-green-400 hover:border-green-400/50 disabled:opacity-30 transition-colors",title:`Add new ${u}`,children:h.jsx(Hp,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>{if(!d||!i)return;const C=x(u);!C||d!==C.end||confirm(`Remove ${u} #${d}? Only the last item can be removed.`)&&m(d)},disabled:!i||!d||(()=>{const C=x(u);return!C||d!==C.end})(),className:"p-1 rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-red-400 hover:border-red-400/50 disabled:opacity-30 transition-colors",title:`Remove last ${u}`,children:h.jsx(Rp,{className:"w-3.5 h-3.5"})})]})]})}const Bn=40,fd=20;function i0(){const u=le(J=>J.objectData),r=le(J=>J.activeCategory),i=le(J=>J.searchQuery),a=le(J=>J.getCategoryRange),c=le(J=>J.selectedThingId),d=le(J=>J.setSelectedThingId),p=le(J=>J.spriteData),m=le(J=>J.spriteOverrides),x=le(J=>J.editVersion),E=te.useMemo(()=>Ep(u,r,i,a),[u,r,i,a,x]),C=te.useRef(null),[k,T]=te.useState(0),[M,U]=te.useState(0),G=6,V=Math.ceil(E.length/G),ae=V*Bn,fe=Math.max(0,Math.floor(k/Bn)-fd),me=Math.min(V,Math.ceil((k+M)/Bn)+fd),se=fe*G,_e=Math.min(E.length,me*G),I=E.slice(se,_e),Fe=te.useCallback(()=>{C.current&&T(C.current.scrollTop)},[]);return te.useEffect(()=>{const J=C.current;if(!J)return;const Ie=new ResizeObserver(()=>U(J.clientHeight));return Ie.observe(J),U(J.clientHeight),()=>Ie.disconnect()},[]),te.useEffect(()=>{if(c==null||!C.current)return;const J=E.findIndex(q=>q.id===c);if(J<0)return;const Ee=Math.floor(J/G)*Bn,Y=C.current;(Ee<Y.scrollTop||Ee+Bn>Y.scrollTop+Y.clientHeight)&&(Y.scrollTop=Math.max(0,Ee-Y.clientHeight/2+Bn/2))},[c,E]),h.jsx("div",{ref:C,onScroll:Fe,className:"flex-1 overflow-y-auto",children:h.jsx("div",{style:{height:ae,position:"relative"},children:h.jsx("div",{style:{position:"absolute",top:fe*Bn,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${G}, 1fr)`},children:I.map(J=>{var q;const Ie=((q=J.frameGroups[0])==null?void 0:q.sprites[0])??0,Ee=p?aa(p,Ie,m):null,Y=J.id===c;return h.jsxs("button",{onClick:()=>d(J.id),className:`
                  relative flex items-center justify-center
                  border border-transparent transition-colors
                  ${Y?"bg-emperia-accent/20 border-emperia-accent":"hover:bg-emperia-hover"}
                `,style:{width:Bn,height:Bn},title:`#${J.id}`,children:[Ee?h.jsx("img",{src:Ee,alt:"",className:"w-8 h-8 pixelated",style:{imageRendering:"pixelated"}}):h.jsx("div",{className:"w-8 h-8 bg-emperia-border/30 rounded-sm"}),h.jsx("span",{className:"absolute bottom-0 right-0.5 text-[8px] text-emperia-muted/60 leading-none",children:J.id})]},J.id)})})})})}const vr=[16777215,12571903,12577279,12582911,12582889,12582868,12582847,13959103,15335359,16777151,16771519,16766143,16760767,16760788,16760809,16760831,15319039,13942783,12566527,14342874,9412543,9416639,9420735,9420719,9420703,9420687,10469263,11517839,12566415,12562319,12558223,12554127,12554143,12554159,12554175,11505599,10457023,9408447,11974326,6258623,9416639,6275007,6274975,6274943,6274911,8372063,10469215,12566367,12558175,12549983,12541791,12541823,12541855,12541887,10444735,8347583,6250431,9539985,4156095,4166847,4177855,4177812,4177770,4177727,6995775,9748287,12566335,12555327,12544575,12533567,12533610,12533652,12533695,9715647,6963135,4145087,7171437,22015,43775,65535,65450,65364,65280,5570304,11206400,16776960,16754944,16733440,16711680,16711765,16711849,16711934,11141375,5570815,255,4737096,16319,32703,49087,49023,48959,48896,4177664,8371968,12566272,12549888,12533504,12517376,12517439,12517503,12517567,8323263,4128959,191,2368548,10879,21887,32639,32597,32554,32512,2785024,5603072,8355584,8344576,8333824,8323072,8323114,8323156,8323199,5570687,2752639,127],Jr=vr.length,s0=4278255615,o0=4278190335,l0=4278255360,a0=4294901760;function u0(u,r,i){const a=vr[Math.max(0,Math.min(Jr-1,i.head))],c=vr[Math.max(0,Math.min(Jr-1,i.body))],d=vr[Math.max(0,Math.min(Jr-1,i.legs))],p=vr[Math.max(0,Math.min(Jr-1,i.feet))],m=new Uint32Array(r.data.buffer),x=u.data;for(let E=0;E<m.length;E++){const C=4*E;let k;switch(m[E]){case s0:k=a;break;case o0:k=c;break;case l0:k=d;break;case a0:k=p;break;default:continue}x[C+0]=x[C+0]*(k>>0&255)/255,x[C+1]=x[C+1]*(k>>8&255)/255,x[C+2]=x[C+2]*(k>>16&255)/255}}function hd(u){const r=vr[Math.max(0,Math.min(Jr-1,u))],i=r>>0&255,a=r>>8&255,c=r>>16&255;return`#${i.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}${c.toString(16).padStart(2,"0")}`}const ln=4294967296,pd=2147483647,md=-2147483648,Yr=268435455,c0=4294967295,Bd=1073741823,gd=192,no=12,d0=114,f0=768,h0=4096,p0=2,sa=[4294967295,-ln],Xr=[0,0],m0=[1,0],ro=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],We=x0(),tr=y0();function De(u,r=0){const i=[];if(i[u-1]=void 0,r!==0)for(let a=0;a<u;a++)i[a]=r;return i}function Dd(u,r,i,a,c){if(!(r<0||a<0||c<0||r+c>u.length||a+c>i.length))if(u===i&&r<a&&a<r+c)for(let d=c-1;d>=0;d--)i[a+d]=u[r+d];else for(let d=0;d<c;d++)i[a+d]=u[r+d]}function xn(u,r){return We[((u-r^-r)&2047)>>>2]}function Vi(u,r){let i,a;for(r%=18446744073709552e3,u%=18446744073709552e3,i=r%ln,a=Math.floor(u/ln)*ln,r=r-i+a,u=u-a+i;u<0;)u+=ln,r-=ln;for(;u>4294967295;)u-=ln,r+=ln;for(r=r%18446744073709552e3;r>9223372032559809e3;)r-=18446744073709552e3;for(;r<-9223372036854776e3;)r+=18446744073709552e3;return[u,r]}function yn(u,r){return Vi(u[0]+r[0],u[1]+r[1])}function Fd(u,r){return Vi(u[0]-r[0],u[1]-r[1])}function Dn(u,r){if(u[0]==r[0]&&u[1]==r[1])return 0;const i=u[1]<0,a=r[1]<0;return i&&!a?-1:!i&&a?1:Fd(u,r)[1]<0?-1:1}function St(u){return u[0]>=2147483648?~~Math.max(Math.min(u[0]-ln,pd),md):~~Math.max(Math.min(u[0],pd),md)}function kr(u){return u>=0?[u,0]:[u+ln,-ln]}function g0(u,r){if(r&=63,r<=30){const a=1<<r;return Vi(Math.floor(u[0]/a),u[1]/a)}const i=(1<<30)*(1<<r-30);return Vi(Math.floor(u[0]/i),u[1]/i)}function Le(u){for(let r=u.length-1;r>=0;--r)u[r]=1024}function fo(u){return u-=2,u<4?u:3}function er(u){return u<4?0:u<10?u-3:u-6}function kt(u){return{numBitLevels:u,models:De(1<<u)}}function x0(){const u=[];for(let r=8;r>=0;--r){let i=1<<9-r-1,a=1<<9-r;for(let c=i;c<a;++c)u[c]=(r<<6)+(a-c<<6>>>9-r-1)}return u}function y0(){const u=[0,1];let r=2;for(let i=2;i<22;++i){let a=1<<(i>>1)-1;for(let c=0;c<a;++c,++r)u[r]=i}return u}class v0{constructor(r){N(this,"encoder",null);N(this,"decoder",null);N(this,"alive",0);N(this,"inBytesProcessed",[0,0]);N(this,"lzma");this.lzma=r}processChunk(){if(!this.alive)throw new Error("bad state");if(!this.encoder)throw new Error("No decoding");return this.lzma.codeOneBlock(),this.inBytesProcessed=this.encoder.processedInSize[0],this.encoder.finished[0]&&(this.lzma.releaseStreams(),this.alive=0),this.alive}}class xd{constructor(r){N(this,"encoder",null);N(this,"decoder");N(this,"alive",0);N(this,"inBytesProcessed",[0,0]);this.decoder=r}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.decoder.codeOneChunk();if(r===-1)throw new Error("Corrupted input");this.inBytesProcessed=this.decoder.nowPos64;const i=Dn(this.decoder.outSize,Xr)>=0&&Dn(this.decoder.nowPos64,this.decoder.outSize)>=0;return(r||i)&&(this.decoder.flush(),this.decoder.cleanup(),this.alive=0),this.alive}}class k0{constructor(r=null,i=4096){N(this,"buffer",null);N(this,"pos",0);N(this,"streamPos",0);N(this,"stream",null);N(this,"windowSize",0);N(this,"w",null);N(this,"buf",[]);this.w=r,this.stream=r,this.windowSize=i,this.buf=new Array(i),this.buffer=this.buf,this.pos=0,this.streamPos=0}copyBlock(r,i){if(this.buffer)for(let a=0;a<i;a++){let c=this.pos-r-1;c<0&&(c+=this.windowSize);const d=this.buffer[c];this.putByte(d)}}putByte(r){this.buffer&&(this.buffer[this.pos]=r,this.pos++,this.streamPos++,this.pos>=this.windowSize&&this.flush())}getByte(r){if(!this.buffer)return 0;let i=this.pos+r;return i<0?i+=this.windowSize:i>=this.windowSize&&(i-=this.windowSize),this.buffer[i]}flush(){if(this.w&&this.buffer&&this.pos>0){const r=this.buffer.slice(0,this.pos);this.w.write(r),this.pos=0}}isEmpty(){return this.streamPos===0}reset(){this.pos=0,this.streamPos=0,this.buffer&&this.buffer.fill(0)}}class w0{constructor(){N(this,"stream",null);N(this,"code",0);N(this,"rrange",0)}setStream(r){this.stream=r}init(){this.code=0,this.rrange=-1;for(let r=0;r<5;++r)this.code=this.code<<8|this.readFromStream()}decodeBit(r,i){let a,c=r[i];return a=(this.rrange>>>11)*c,(this.code^-2147483648)<(a^-2147483648)?(this.rrange=a,r[i]=c+(2048-c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),0):(this.rrange-=a,this.code-=a,r[i]=c-(c>>>5)<<16>>16,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8),1)}decodeDirectBits(r){let i=0;for(let a=r;a!=0;a-=1){this.rrange>>>=1;let c=this.code-this.rrange>>>31;this.code-=this.rrange&c-1,i=i<<1|1-c,this.rrange&-16777216||(this.code=this.code<<8|this.readFromStream(),this.rrange<<=8)}return i}get currentCode(){return this.code}get currentRange(){return this.rrange}readFromStream(){if(!this.stream)return 0;if(this.stream.pos>=this.stream.count)return-1;let r;return this.stream.buf instanceof ArrayBuffer?r=new Uint8Array(this.stream.buf)[this.stream.pos++]:this.stream.buf instanceof Uint8Array?r=this.stream.buf[this.stream.pos++]:r=this.stream.buf[this.stream.pos++],r&255}}class _0{constructor(){N(this,"rangeDecoder");N(this,"outWindow");N(this,"state",0);N(this,"rep0",0);N(this,"rep1",0);N(this,"rep2",0);N(this,"rep3",0);N(this,"prevByte",0);N(this,"nowPos64",[0,0]);N(this,"outSize",[0,0]);N(this,"posStateMask",0);N(this,"dictSizeCheck",0);N(this,"matchDecoders",[]);N(this,"rep0LongDecoders",[]);N(this,"repDecoders",[]);N(this,"repG0Decoders",[]);N(this,"repG1Decoders",[]);N(this,"repG2Decoders",[]);N(this,"posDecoders",[]);N(this,"literalDecoder");N(this,"posSlotDecoders",[]);N(this,"lenDecoder");N(this,"repLenDecoder");N(this,"posAlignDecoder");N(this,"decoder");N(this,"encoder",null);N(this,"alive",0);N(this,"inBytesProcessed",[0,0]);this.rangeDecoder=new w0,this.outWindow=new k0(null,h0),this.matchDecoders=De(gd),this.rep0LongDecoders=De(gd),this.repDecoders=De(no),this.repG0Decoders=De(no),this.repG1Decoders=De(no),this.repG2Decoders=De(no),this.posDecoders=De(d0),this.literalDecoder={coders:[],numPrevBits:0,numPosBits:0,posMask:0,init:()=>this.initLiteralDecoder()};for(let r=0;r<4;r++)this.posSlotDecoders[r]=kt(6);this.lenDecoder=this.createLenDecoder(),this.repLenDecoder=this.createLenDecoder(),this.posAlignDecoder=kt(4),this.decoder=this}get literalCoder(){return this.literalDecoder}createLenDecoder(){return{choice:De(p0),lowCoder:[],midCoder:[],highCoder:kt(8),numPosStates:0}}setDecoderProperties(r){if(r.length<5)return!1;const i=r[0]%9,a=Math.floor(r[0]/9),c=a%5,d=Math.floor(a/5);if(d>4)return!1;this.literalDecoder.numPrevBits=i,this.literalDecoder.numPosBits=c,this.literalDecoder.posMask=(1<<c)-1,this.posStateMask=(1<<d)-1;let p=0;for(let x=0;x<4;x++){const E=r[1+x]&255;p+=E<<x*8}this.dictSizeCheck=Math.max(p,1),p>0&&(this.outWindow.windowSize=Math.max(p,4096),this.outWindow.buffer=De(this.outWindow.windowSize));const m=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;this.literalDecoder.coders=[];for(let x=0;x<m;x++)this.literalDecoder.coders[x]={decoders:De(f0)};this.lenDecoder.numPosStates=1<<d,this.repLenDecoder.numPosStates=1<<d,this.lenDecoder.lowCoder=[],this.lenDecoder.midCoder=[],this.repLenDecoder.lowCoder=[],this.repLenDecoder.midCoder=[];for(let x=0;x<1<<d;x++)this.lenDecoder.lowCoder[x]=kt(3),this.lenDecoder.midCoder[x]=kt(3),this.repLenDecoder.lowCoder[x]=kt(3),this.repLenDecoder.midCoder[x]=kt(3);return!0}copyBlock(r){const i=this.outWindow,a=this.rep0;let c=i.pos-a-1;for(c<0&&(c+=i.windowSize);r!=0;r-=1)c>=i.windowSize&&(c=0),i.buffer[i.pos]=i.buffer[c],i.pos+=1,c+=1,i.pos>=i.windowSize&&this.flush()}putByte(r){this.outWindow.buffer[this.outWindow.pos]=r,this.outWindow.pos+=1,this.outWindow.pos>=this.outWindow.windowSize&&this.flush()}getByte(r){const i=this.outWindow;let a=i.pos-r-1;return a<0&&(a+=i.windowSize),i.buffer[a]}getDecoder(r,i){const a=r&this.literalDecoder.posMask,c=(i&255)>>>8-this.literalDecoder.numPrevBits,d=(a<<this.literalDecoder.numPrevBits)+c;return this.literalDecoder.coders[d]}initLiteralDecoder(){let r=1<<this.literalDecoder.numPrevBits+this.literalDecoder.numPosBits;for(let i=0;i<r;++i)for(let a=0;a<this.literalDecoder.coders[i].decoders.length;a++)this.literalDecoder.coders[i].decoders[a]=1024}init(){this.outWindow.streamPos=0,this.outWindow.pos=0,Le(this.matchDecoders),Le(this.rep0LongDecoders),Le(this.repDecoders),Le(this.repG0Decoders),Le(this.repG1Decoders),Le(this.repG2Decoders),Le(this.posDecoders),this.initLiteralDecoder();for(let r=0;r<4;++r)Le(this.posSlotDecoders[r].models);this.initLenDecoder(this.lenDecoder),this.initLenDecoder(this.repLenDecoder),Le(this.posAlignDecoder.models),this.initRangeDecoder()}initLenDecoder(r){Le(r.choice);for(let i=0;i<r.numPosStates;++i)Le(r.lowCoder[i].models),Le(r.midCoder[i].models);Le(r.highCoder.models)}outWindowReleaseStream(){this.flush(),this.outWindow.stream=null}decodeBit(r,i){return this.rangeDecoder.decodeBit(r,i)}decodeDirectBits(r){return this.rangeDecoder.decodeDirectBits(r)}initRangeDecoder(){this.rangeDecoder.init()}rangeBitTreeDecoder(r){let i,a=1;for(i=r.numBitLevels;i!=0;i-=1)a=(a<<1)+this.decodeBit(r.models,a);return a-(1<<r.numBitLevels)}reverseDecode(r,i,a){let c=0;for(let d=0,p=1,m;d<a;++d)m=this.decodeBit(r,i+p),p<<=1,p+=m,c|=m<<d;return c}reverseDecodeAlignDecoder(){let r=0;for(let i=1,a=0,c;a<this.posAlignDecoder.numBitLevels;++a)c=this.decodeBit(this.posAlignDecoder.models,i),i<<=1,i+=c,r|=c<<a;return r}decodeNormalWithRangeDecoder(r){let i=1;do i=i<<1|this.decodeBit(r.decoders,i);while(i<256);return i<<24>>24}decodeWithMatchByteWithRangeDecoder(r,i){let a,c,d=1;do if(c=i>>7&1,i<<=1,a=this.decodeBit(r.decoders,(1+c<<8)+d),d=d<<1|a,c!=a){for(;d<256;)d=d<<1|this.decodeBit(r.decoders,d);break}while(d<256);return d<<24>>24}decodeLenWithRangeDecoder(r,i){if(!this.decodeBit(r.choice,0))return this.rangeBitTreeDecoder(r.lowCoder[i]);let a=8;return this.decodeBit(r.choice,1)?a+=8+this.rangeBitTreeDecoder(r.highCoder):a+=this.rangeBitTreeDecoder(r.midCoder[i]),a}codeOneChunk(){let r,i,a,c,d,p=St(this.nowPos64)&this.posStateMask;if(!this.decodeBit(this.matchDecoders,(this.state<<4)+p))r=this.getDecoder(St(this.nowPos64),this.prevByte),this.state<7?this.prevByte=this.decodeNormalWithRangeDecoder(r):this.prevByte=this.decodeWithMatchByteWithRangeDecoder(r,this.getByte(this.rep0)),this.putByte(this.prevByte),this.state=er(this.state),this.nowPos64=yn(this.nowPos64,[1,0]);else{if(this.decodeBit(this.repDecoders,this.state))a=0,this.decodeBit(this.repG0Decoders,this.state)?(this.decodeBit(this.repG1Decoders,this.state)?(this.decodeBit(this.repG2Decoders,this.state)?(i=this.rep3,this.rep3=this.rep2):i=this.rep2,this.rep2=this.rep1):i=this.rep1,this.rep1=this.rep0,this.rep0=i):this.decodeBit(this.rep0LongDecoders,(this.state<<4)+p)||(this.state=this.state<7?9:11,a=1),a||(a=this.decodeLenWithRangeDecoder(this.repLenDecoder,p)+2,this.state=this.state<7?8:11);else if(this.rep3=this.rep2,this.rep2=this.rep1,this.rep1=this.rep0,a=2+this.decodeLenWithRangeDecoder(this.lenDecoder,p),this.state=this.state<7?7:10,d=this.rangeBitTreeDecoder(this.posSlotDecoders[fo(a)]),d>=4){if(c=(d>>1)-1,this.rep0=(2|d&1)<<c,d<14)this.rep0+=this.reverseDecode(this.posDecoders,this.rep0-d-1,c);else if(this.rep0+=this.decodeDirectBits(c-4)<<4,this.rep0+=this.reverseDecodeAlignDecoder(),this.rep0<0)return this.rep0==-1?1:-1}else this.rep0=d;if(Dn([this.rep0,0],this.nowPos64)>=0||this.rep0>=this.dictSizeCheck)return-1;this.copyBlock(a),this.nowPos64=yn(this.nowPos64,[a,0]),this.prevByte=this.getByte(0)}return 0}setupForDecoding(r,i,a){this.rangeDecoder.setStream(r),this.outSize=i,this.outWindowReleaseStream(),this.outWindow.stream=a,this.init(),this.state=0,this.rep0=0,this.rep1=0,this.rep2=0,this.rep3=0,this.outSize=i,this.nowPos64=[0,0],this.prevByte=0,this.decoder=this,this.encoder=null,this.alive=1}processChunk(){if(!this.alive)throw new Error("Bad state");if(this.encoder)throw new Error("No encoding");const r=this.codeOneChunk();if(r===-1)throw new Error("Corrupted input");const i=Dn(this.outSize,[0,0])>=0&&Dn(this.nowPos64,this.outSize)>=0;return(r||i)&&(this.flush(),this.outWindowReleaseStream(),this.rangeDecoder.setStream(null),this.alive=0),this.alive}writeToOutput(r,i,a,c){const d=r.count+c;if(d>r.buf.length){const p=Math.max(r.buf.length*2,d),m=new Array(p);for(let x=0;x<r.count;x++)m[x]=r.buf[x];r.buf=m}for(let p=0;p<c;p++)r.buf[r.count+p]=i[a+p];r.count+=c}isBufferWithCount(r){const i=r;return!!i&&Array.isArray(i.buf)&&typeof i.count=="number"&&typeof i.write=="function"}flush(){const r=this.outWindow.pos-this.outWindow.streamPos;if(r){if(this.outWindow.stream&&this.outWindow.buffer){const i=this.outWindow.stream;if(this.isBufferWithCount(i))this.writeToOutput(i,this.outWindow.buffer,this.outWindow.streamPos,r);else if(typeof i.write=="function"){const a=this.outWindow.buffer.slice(this.outWindow.streamPos,this.outWindow.streamPos+r);i.write(a)}}this.outWindow.pos>=this.outWindow.windowSize&&(this.outWindow.pos=0),this.outWindow.streamPos=this.outWindow.pos}}cleanup(){this.outWindow.stream=null,this.rangeDecoder.stream=null}}class S0{constructor(){N(this,"choice",De(2));N(this,"lowCoder",[]);N(this,"midCoder",[]);N(this,"highCoder",kt(8));N(this,"tableSize",0);N(this,"prices",[]);N(this,"counters",[]);for(let r=0;r<16;++r)this.lowCoder[r]=kt(3),this.midCoder[r]=kt(3)}init(r){Le(this.choice);for(let i=0;i<r;++i)Le(this.lowCoder[i].models),Le(this.midCoder[i].models);Le(this.highCoder.models)}encode(r,i,a){r<8?(a.encodeBit(this.choice,0,0),a.encodeBitTree(this.lowCoder[i],r)):(r-=8,a.encodeBit(this.choice,0,1),r<8?(a.encodeBit(this.choice,1,0),a.encodeBitTree(this.midCoder[i],r)):(a.encodeBit(this.choice,1,1),a.encodeBitTree(this.highCoder,r-8)))}encodeWithUpdate(r,i,a){this.encode(r,i,a),this.counters&&(this.counters[i]-=1)==0&&(this.counters[i]=this.tableSize)}getPrice(r,i){return this.prices[i*272+r]}initPriceTable(){this.prices=[],this.counters=[]}setTableSize(r){this.tableSize=r}setTableSizeAndInitCounters(r,i){if(this.tableSize=r,this.counters)for(let a=0;a<i;++a)this.counters[a]=r}getTableSize(){return this.tableSize}updateTables(r){(!this.prices||!this.counters)&&this.initPriceTable();for(let i=0;i<r;++i)this.setPrices(i,this.tableSize,this.prices,0),this.counters&&(this.counters[i]=this.tableSize)}getBitTreePrice(r,i){let a,c,d=1,p=0;for(c=r.numBitLevels;c!=0;)c-=1,a=i>>>c&1,p+=this.getBitPrice(r.models[d],a),d=(d<<1)+a;return p}getBitPrice(r,i){return xn(r,i)}setPrices(r,i,a,c){const d=this.getBitPrice(this.choice[0],0),p=this.getBitPrice(this.choice[0],1),m=p+this.getBitPrice(this.choice[1],0),x=p+this.getBitPrice(this.choice[1],1);let E=0;const C=c+r*272;for(E=0;E<8;++E){if(E>=i)return;a[C+E]=d+this.getBitTreePrice(this.lowCoder[r],E)}for(;E<16;++E){if(E>=i)return;a[C+E]=m+this.getBitTreePrice(this.midCoder[r],E-8)}for(;E<i;++E)a[C+E]=x+this.getBitTreePrice(this.highCoder,E-8-8)}}class C0{constructor(){N(this,"coders");this.coders=De(768,1024)}decodeNormal(r){let i=1;for(;i<256;){const a=r.decodeBit(this.coders,i);i=i<<1|a}return i&255}decodeWithMatchByte(r,i){let a=i,c=1;for(;c<256;){const d=a>>7&1;a<<=1;const p=r.decodeBit(this.coders,(1+d<<8)+c);if(c=c<<1|p,d!==p){for(;c<256;){const m=r.decodeBit(this.coders,c);c=c<<1|m}break}}return c&255}encode(r,i){let a=1;for(let c=7;c>=0;c--){const d=i>>c&1;r.encodeBit(this.coders,a,d),a=a<<1|d}}encodeMatched(r,i,a){let c=i,d=1,p=!0;for(let m=7;m>=0;m--){const x=a>>m&1;let E=d;if(p){const C=c>>m&1;E+=1+C<<8,p=C===x}r.encodeBit(this.coders,E,x),d=d<<1|x}}getPrice(r,i,a){let c=i,d=0,p=1,m=7;if(r)for(;m>=0;){const x=c>>m&1,E=a>>m&1;if(d+=xn(this.coders[1+x<<8+p],E),p=p<<1|E,x!==E){m--;break}m--}for(;m>=0;){const x=a>>m&1;d+=xn(this.coders[p],x),p=p<<1|x,m--}return d}reset(){this.coders.fill(1024)}get decoders(){return this.coders}}class E0{constructor(r,i){N(this,"_coders");N(this,"_numPrevBits");N(this,"_posMask");const a=1<<i+r;this._coders=[],this._numPrevBits=i,this._posMask=(1<<r)-1;for(let c=0;c<a;c++)this._coders[c]=new C0}getSubCoder(r,i){return this._coders[((r&this._posMask)<<this._numPrevBits)+(i>>8-this._numPrevBits)]}reset(){this._coders.forEach(r=>r.reset())}get numPrevBits(){return this._numPrevBits}get numPosBits(){return Math.log2(this._posMask+1)}get posMask(){return this._posMask}get coders(){return this._coders}}const io=new Map;function A0(u){return u<<6}function ua(u,r){const i=`${u.numBitLevels}-${r}`;if(io.has(i))return io.get(i);let a=0,c=1;for(let d=u.numBitLevels;d>0;d--){const p=r>>>d-1&1;a+=xn(u.models[c],p),c=(c<<1)+p}return io.size<1e4&&io.set(i,a),a}class B0{constructor(){N(this,"state",0);N(this,"previousByte",0);N(this,"position",[0,0]);N(this,"repDistances",[0,0,0,0]);N(this,"longestMatchLength",0);N(this,"longestMatchWasFound",!1);N(this,"additionalOffset",0);N(this,"isMatch",De(192));N(this,"isRep",De(12));N(this,"isRepG0",De(12));N(this,"isRepG1",De(12));N(this,"isRepG2",De(12));N(this,"isRep0Long",De(192))}initModels(){Le(this.isMatch),Le(this.isRep),Le(this.isRepG0),Le(this.isRepG1),Le(this.isRepG2),Le(this.isRep0Long)}updateRepDistances(r,i){if(i===0)this.repDistances[3]=this.repDistances[2],this.repDistances[2]=this.repDistances[1],this.repDistances[1]=this.repDistances[0],this.repDistances[0]=r;else{const a=this.repDistances[i];for(let c=i;c>0;c--)this.repDistances[c]=this.repDistances[c-1];this.repDistances[0]=a}}}class D0{constructor(){N(this,"posSlotEncoder",[]);N(this,"posEncoders",De(114));N(this,"posAlignEncoder");for(let r=0;r<4;r++)this.posSlotEncoder[r]=kt(6);this.posAlignEncoder=kt(4)}init(){for(const r of this.posSlotEncoder)Le(r.models);Le(this.posEncoders),Le(this.posAlignEncoder.models)}encodePosition(r,i,a){const c=this.getPosSlot(r);if(a.encodeBitTree(this.posSlotEncoder[i],c),c>=4){const d=(c>>1)-1,p=(2|c&1)<<d,m=r-p;c<14?this.encodeReverseBits(m,d,a):(a.encodeDirectBits(m>>4,d-4),a.encodeBitTree(this.posAlignEncoder,m&15))}}getPositionPrice(r,i){const a=this.getPosSlot(r);let c=ua(this.posSlotEncoder[i],a);if(a>=4){const d=(a>>1)-1,p=(2|a&1)<<d,m=r-p;a<14?c+=this.getReverseBitsPrice(m,d):(c+=A0(d-4),c+=ua(this.posAlignEncoder,m&15))}return c}getPosSlot(r){return r<4?r:r<1<<20?tr[r>>6]+12:tr[r>>26]+52}encodeReverseBits(r,i,a){let c=1;for(let d=0;d<i;d++){const p=r&1;a.encodeBit(this.posEncoders,c,p),c=c<<1|p,r>>>=1}}getReverseBitsPrice(r,i){let a=0,c=1;for(let d=0;d<i;d++){const p=r&1;a+=xn(this.posEncoders[c],p),c=c<<1|p,r>>>=1}return a}}class F0{constructor(){N(this,"encoderState",new B0);N(this,"positionEncoder",new D0);N(this,"_state",0);N(this,"_previousByte",0);N(this,"_distTableSize",0);N(this,"_longestMatchWasFound",0);N(this,"_optimumEndIndex",0);N(this,"_optimumCurrentIndex",0);N(this,"_additionalOffset",0);N(this,"_dictionarySize",0);N(this,"_matchFinder",null);N(this,"_dictionarySizePrev",0);N(this,"_numFastBytes",0);N(this,"_numLiteralContextBits",0);N(this,"_numLiteralPosStateBits",0);N(this,"_posStateBits",0);N(this,"_posStateMask",0);N(this,"_needReleaseMFStream",0);N(this,"_inStream",null);N(this,"_finished",0);N(this,"nowPos64",[0,0]);N(this,"_repDistances",De(4));N(this,"_optimum",[]);N(this,"_rangeEncoder",{stream:{buf:[],count:0},rrange:0,cache:0,low:[0,0],cacheSize:0,position:[0,0],encodeBit:()=>{},encodeBitTree:()=>{},encodeDirectBits:()=>{}});N(this,"_isMatch",De(192));N(this,"_isRep",De(12));N(this,"_isRepG0",De(12));N(this,"_isRepG1",De(12));N(this,"_isRepG2",De(12));N(this,"_isRep0Long",De(192));N(this,"_posSlotEncoder",[]);N(this,"_posEncoders",De(114));N(this,"_posAlignEncoder",null);N(this,"_lenEncoder",null);N(this,"_repMatchLenEncoder",null);N(this,"_literalEncoder",null);N(this,"_matchDistances",[]);N(this,"_posSlotPrices",[]);N(this,"_distancesPrices",[]);N(this,"_alignPrices",De(16));N(this,"_matchPriceCount",0);N(this,"_alignPriceCount",0);N(this,"reps",De(4));N(this,"repLens",De(4));N(this,"processedInSize",[[0,0]]);N(this,"processedOutSize",[[0,0]]);N(this,"finished",[0]);N(this,"properties",De(5));N(this,"tempPrices",De(128));N(this,"_longestMatchLength",0);N(this,"_matchFinderType",1);N(this,"_numDistancePairs",0);N(this,"_numFastBytesPrev",-1);N(this,"backRes",0)}baseInit(){this._state=0,this._previousByte=0;for(let r=0;r<4;++r)this._repDistances[r]=0}getOptimum(){return this._optimum}getBackRes(){return this.backRes}setBackRes(r){this.backRes=r}init(){this.baseInit(),this.encoderState.initModels(),this.positionEncoder.init(),this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};this.initEncoderState(),Le(this._isMatch),Le(this._isRep0Long),Le(this._isRep),Le(this._isRepG0),Le(this._isRepG1),Le(this._isRepG2),Le(this._posEncoders),this.initLiteralEncoder();for(let r=0;r<4;++r)Le(this._posSlotEncoder[r].models);this._lenEncoder&&this._lenEncoder.init(1<<this._posStateBits),this._repMatchLenEncoder&&this._repMatchLenEncoder.init(1<<this._posStateBits),this._posAlignEncoder&&Le(this._posAlignEncoder.models),this._longestMatchWasFound=0,this._optimumEndIndex=0,this._optimumCurrentIndex=0,this._additionalOffset=0}initEncoderState(){this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=4294967295,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0,this._rangeEncoder.position=[0,0]}initLiteralEncoder(){const r=1<<this._literalEncoder.numPrevBits+this._literalEncoder.numPosBits;for(let i=0;i<r;++i)Le(this._literalEncoder.coders[i].decoders)}createOptimumStructures(){for(let r=0;r<4096;++r)this._optimum[r]={};for(let r=0;r<4;++r)this._posSlotEncoder[r]=kt(6)}createLenPriceTableEncoder(){const r=new S0;return r.initPriceTable(),r}createLiteralEncoderEncoder2(){return{decoders:De(768)}}createLiteralEncoder(){this._literalEncoder!=null&&this._literalEncoder.numPrevBits==this._numLiteralContextBits&&this._literalEncoder.numPosBits==this._numLiteralPosStateBits||(this._literalEncoder=new E0(this._numLiteralPosStateBits,this._numLiteralContextBits))}initialize(){this._lenEncoder=this.createLenPriceTableEncoder(),this._repMatchLenEncoder=this.createLenPriceTableEncoder(),this._posAlignEncoder=kt(4),this._optimum=[],this.createOptimumStructures(),this.createLiteralEncoder(),this.init()}configure(r){this.setDictionarySize(1<<r.searchDepth),this._numFastBytes=r.filterStrength,this._matchFinderType=r.modeIndex,this._numLiteralContextBits=3,this._numLiteralPosStateBits=0,this._posStateBits=2,this._posStateMask=3}setDictionarySize(r){this._dictionarySize=r;let i=0;for(;r>1<<i;++i);this._distTableSize=i*2}encodeBit(r,i,a){const c=this._rangeEncoder;let d,p=r[i];d=(c.rrange>>>11)*p,a?(c.low=yn(c.low,this.and64(kr(d),[4294967295,0])),c.rrange-=d,r[i]=p-(p>>>5)<<16>>16):(c.rrange=d,r[i]=p+(2048-p>>>5)<<16>>16),c.rrange&-16777216||(c.rrange<<=8,this.shiftLow())}encodeBitTree(r,i){let a,c,d=1;for(c=r.numBitLevels;c!=0;)c-=1,a=i>>>c&1,this.encodeBit(r.models,d,a),d=d<<1|a}encodeLiteral(r,i){let a,c=1;for(let d=7;d>=0;--d)a=i>>d&1,this.encodeBit(r.decoders,c,a),c=c<<1|a}encodeMatched(r,i,a){let c,d,p,m=!0,x=1;for(let E=7;E>=0;--E)c=a>>E&1,p=x,m&&(d=i>>E&1,p+=1+d<<8,m=d===c),this.encodeBit(r.decoders,p,c),x=x<<1|c}encodeLength(r,i,a){r.encode(i,a,this)}encodeDirectBits(r,i){const a=this._rangeEncoder;for(let c=i-1;c>=0;c-=1)a.rrange>>>=1,(r>>>c&1)==1&&(a.low=yn(a.low,kr(a.rrange))),a.rrange&-16777216||(a.rrange<<=8,this.shiftLow())}reverseEncode(r){const i=this._posAlignEncoder;if(!i)return;let a,c=1;for(let d=0;d<i.numBitLevels;++d)a=r&1,this.encodeBit(i.models,c,a),c=c<<1|a,r>>=1}reverseEncodeRange(r,i,a){let c,d=1;for(let p=0;p<i;++p)c=a&1,this.encodeBit(this._posEncoders,r+d,c),d=d<<1|c,a>>=1}writeEndMarker(r){this.encodeBit(this._isMatch,(this._state<<4)+r,1),this.encodeBit(this._isRep,this._state,0),this._state=this._state<7?7:10,this.encodeLength(this._lenEncoder,0,r);const i=63,a=fo(2);this.encodeBitTree(this._posSlotEncoder[a],i),this.encodeDirectBits(67108863,26),this.reverseEncode(15)}encodeLengthWithPriceUpdate(r,i,a){r.encodeWithUpdate(i,a,this)}and64(r,i){const a=~~Math.max(Math.min(r[1]/4294967296,2147483647),-2147483648)&~~Math.max(Math.min(i[1]/4294967296,2147483647),-2147483648),c=St(r)&St(i);let d=a*4294967296,p=c;return c<0&&(p+=4294967296),[p,d]}shru64(r,i){i&=63;let a=this.pwrAsDouble(i),c=Vi(Math.floor(r[0]/a),r[1]/a);return r[1]<0&&(c=yn(c,this.shl64([2,0],63-i))),c}shl64(r,i){let a,c,d,p;if(i&=63,r[0]==0&&r[1]==-9223372036854776e3)return i?[0,0]:r;if(r[1]<0)throw new Error("Neg");return p=this.pwrAsDouble(i),c=r[1]*p%18446744073709552e3,d=r[0]*p,a=d-d%4294967296,c+=a,d-=a,c>=9223372036854776e3&&(c-=18446744073709552e3),[d,c]}pwrAsDouble(r){return r<=30?1<<r:this.pwrAsDouble(30)*this.pwrAsDouble(r-30)}shiftLow(){const r=this._rangeEncoder,i=St(this.shru64(r.low,32));if(i!=0||Dn(r.low,[4278190080,0])<0){r.position=yn(r.position,kr(r.cacheSize));let a=r.cache;do this.writeToStream(r.stream,a+i),a=255;while((r.cacheSize-=1)!=0);r.cache=St(r.low)>>>24}r.cacheSize+=1,r.low=this.shl64(this.and64(r.low,[16777215,0]),8)}writeToStream(r,i){if(r){if(r.count>=r.buf.length){const a=Math.max(r.buf.length*2,r.count+1),c=new Array(a);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}}initRangeEncoder(){this._rangeEncoder.position=[0,0],this._rangeEncoder.low=[0,0],this._rangeEncoder.rrange=-1,this._rangeEncoder.cacheSize=1,this._rangeEncoder.cache=0}fillAlignPrices(){for(let r=0;r<16;++r)this._alignPrices[r]=this.reverseGetPrice(this._posAlignEncoder,r);this._alignPriceCount=0}fillDistancesPrices(){let r,i,a,c,d,p;for(let m=4;m<128;++m)c=this.getPosSlot(m),a=(c>>1)-1,r=(2|c&1)<<a,this.tempPrices[m]=this.reverseGetPriceArray(this._posEncoders,r-c-1,a,m-r);for(let m=0;m<4;++m){for(i=this._posSlotEncoder[m],d=m<<6,c=0;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]=this.rangeCoder_Encoder_GetPrice_1(i,c);for(c=14;c<this._distTableSize;c+=1)this._posSlotPrices[d+c]+=(c>>1)-1-4<<6;p=m*128;for(let x=0;x<4;++x)this._distancesPrices[p+x]=this._posSlotPrices[d+x];for(let x=4;x<128;++x)this._distancesPrices[p+x]=this._posSlotPrices[d+this.getPosSlot(x)]+this.tempPrices[x]}this._matchPriceCount=0}getPosSlot(r){return r<2048?tr[r]:r<2097152?tr[r>>10]+20:tr[r>>20]+40}reverseGetPrice(r,i){let a,c=1,d=0;for(let p=r.numBitLevels;p!=0;p-=1)a=i&1,i>>>=1,d+=this.getPrice(r.models[c],a),c=c<<1|a;return d}reverseGetPriceArray(r,i,a,c){let d,p=1,m=0;for(let x=a;x!=0;x-=1)d=c&1,c>>>=1,m+=We[((r[i+p]-d^-d)&2047)>>>2],p=p<<1|d;return m}getPrice(r,i){return xn(r,i)}rangeCoder_Encoder_GetPrice_1(r,i){return ua(r,i)}createEncoderStructures(){this._optimum=[];for(let r=0;r<4096;r++)this._optimum[r]={};for(let r=0;r<4096;++r)this._optimum[r]={};this._posSlotEncoder=new Array(4);for(let r=0;r<4;++r)this._posSlotEncoder[r]=kt(6)}createMatchFinderAndStructures(){if(!this._matchFinder){const r={};let i=4;this._matchFinderType||(i=2),r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0),r._cyclicBufferSize=0,r._cyclicBufferPos=0,r._streamPos=0,r._cutValue=255,r._matchMaxLen=0,r._streamEndWasReached=0,r._pos=0,r._posLimit=0,r._son=[],r._hash=[],r._bufferBase=[],r._blockSize=0,r._keepSizeAfter=0,r._keepSizeBefore=0,r._pointerToLastSafePosition=0,this._matchFinder=r}this.createLiteralEncoder(),!(this._dictionarySize==this._dictionarySizePrev&&this._numFastBytesPrev==this._numFastBytes)&&(this._dictionarySizePrev=this._dictionarySize,this._numFastBytesPrev=this._numFastBytes)}getSubCoderUtility(r,i){const c=(r&this._literalEncoder.posMask)<<this._literalEncoder.numPrevBits,d=8-this._literalEncoder.numPrevBits,p=(i&255)>>>d,m=c+p;return this._literalEncoder.coders[m]}}class P0{constructor(r){N(this,"matchFinder");this.matchFinder=r}getIndexByte(r){return this.matchFinder._bufferBase[this.matchFinder._bufferOffset+this.matchFinder._pos+r]}getMatchLen(r,i,a){this.matchFinder._streamEndWasReached&&this.matchFinder._pos+r+a>this.matchFinder._streamPos&&(a=this.matchFinder._streamPos-(this.matchFinder._pos+r)),++i;let c;const d=this.matchFinder._bufferOffset+this.matchFinder._pos+r;for(c=0;c<a&&this.matchFinder._bufferBase[d+c]==this.matchFinder._bufferBase[d+c-i];++c);return c}getNumAvailableBytes(){return this.matchFinder._streamPos-this.matchFinder._pos}moveBlock(){let r=this.matchFinder._bufferOffset+this.matchFinder._pos-this.matchFinder._keepSizeBefore;r>0&&--r;const i=this.matchFinder._bufferOffset+this.matchFinder._streamPos-r;for(let a=0;a<i;++a)this.matchFinder._bufferBase[a]=this.matchFinder._bufferBase[r+a];this.matchFinder._bufferOffset-=r}movePos(){this.matchFinder._pos+=1,this.matchFinder._pos>this.matchFinder._posLimit&&(this.matchFinder._bufferOffset+this.matchFinder._pos>this.matchFinder._pointerToLastSafePosition&&this.moveBlock(),this.readBlock())}readBlock(){if(!this.matchFinder._streamEndWasReached)for(;;){const r=-this.matchFinder._bufferOffset+this.matchFinder._blockSize-this.matchFinder._streamPos;if(!r)return;const i=this.readFromStream(this.matchFinder._bufferOffset+this.matchFinder._streamPos,r);if(i==-1){this.matchFinder._posLimit=this.matchFinder._streamPos,this.matchFinder._bufferOffset+this.matchFinder._posLimit>this.matchFinder._pointerToLastSafePosition&&(this.matchFinder._posLimit=this.matchFinder._pointerToLastSafePosition-this.matchFinder._bufferOffset),this.matchFinder._streamEndWasReached=1;return}this.matchFinder._streamPos+=i,this.matchFinder._streamPos>=this.matchFinder._pos+this.matchFinder._keepSizeAfter&&(this.matchFinder._posLimit=this.matchFinder._streamPos-this.matchFinder._keepSizeAfter)}}reduceOffsets(r){this.matchFinder._bufferOffset+=r,this.matchFinder._posLimit-=r,this.matchFinder._pos-=r,this.matchFinder._streamPos-=r}readFromStream(r,i){const a=this.matchFinder._stream,c=this.matchFinder._bufferBase;if(a.pos>=a.count)return-1;let d;return a.buf instanceof Uint8Array?d=Array.from(a.buf):a.buf instanceof ArrayBuffer?d=Array.from(new Uint8Array(a.buf)):d=a.buf,i=Math.min(i,a.count-a.pos),Dd(d,a.pos,c,r,i),a.pos+=i,i}}function T0(u,r,i,a){return~~((u+r+i+a)/2)+256}function N0(u,r){const i=r+1;if(u._cyclicBufferSize!==i){const a=(u._cyclicBufferSize=i)*2;u._son=De(a)}}function L0(u,r){let i=65536,a=0;return r&&(i=u-1,i|=i>>1,i|=i>>2,i|=i>>4,i|=i>>8,i>>=1,i|=65535,i>16777216&&(i>>=1),a=i,i+=1),{hashMask:a,hashSizeSum:i}}function b0(u){return 16+(u>>1)}function I0(u){return u<Bd}const M0={1:{searchDepth:16,filterStrength:64,modeIndex:0},2:{searchDepth:20,filterStrength:64,modeIndex:0},3:{searchDepth:19,filterStrength:64,modeIndex:1},4:{searchDepth:20,filterStrength:64,modeIndex:1},5:{searchDepth:21,filterStrength:128,modeIndex:1},6:{searchDepth:22,filterStrength:128,modeIndex:1},7:{searchDepth:23,filterStrength:128,modeIndex:1},8:{searchDepth:24,filterStrength:255,modeIndex:1},9:{searchDepth:25,filterStrength:255,modeIndex:1}};var ne,it,be,D,on,L,Td,Nd,ca,oo,Ld,bd,Id,Md,jd,Rd,Od,da,zd,Ud,Hd,Wd,Gd,Wi,fa,Vd,$d,Yd,Qd,ha,Kd,Xd,Zd,Jd,lo,qd,pa,xr,ef,ma,ao,ga,tf,yr,Gi,xa,nf,rf,sf,of;class Pd{constructor(){gr(this,L);gr(this,ne);gr(this,it);gr(this,be,null);gr(this,D);gr(this,on);$r(this,ne,new F0),$r(this,it,new _0),$r(this,D,Z(this,L,Td).call(this)),$r(this,on,Z(this,L,Nd).call(this))}writeHeaderProperties(){g(this,ne).properties[0]=(g(this,ne)._posStateBits*5+g(this,ne)._numLiteralPosStateBits)*9+g(this,ne)._numLiteralContextBits&255;for(let i=0;i<4;i++)g(this,ne).properties[1+i]=g(this,ne)._dictionarySize>>8*i&255;Z(this,L,bd).call(this,g(this,D).output,g(this,ne).properties,0,5)}GetPosSlot2(r){return r<131072?tr[r>>6]+12:r<134217728?tr[r>>16]+32:tr[r>>26]+52}ReverseEncode(r,i,a){let c,d=1;for(let p=0;p<i;++p)c=a&1,g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._posEncoders,r+d,c),d=d<<1|c,a>>=1}encodeString(r){let i,a=[],c=0,d=r.length;Z(this,L,Id).call(this,r,0,d,a,0);for(let m=0;m<d;++m)i=a[m],i>=1&&i<=127?++c:!i||i>=128&&i<=2047?c+=2:c+=3;const p=[];c=0;for(let m=0;m<d;++m)i=a[m],i>=1&&i<=127?p[c++]=i<<24>>24:!i||i>=128&&i<=2047?(p[c++]=(192|i>>6&31)<<24>>24,p[c++]=(128|i&63)<<24>>24):(p[c++]=(224|i>>12&15)<<24>>24,p[c++]=(128|i>>6&63)<<24>>24,p[c++]=(128|i&63)<<24>>24);return p}compress(r,i=5){const a=M0[i];for(Z(this,L,Rd).call(this,r,a);g(this,D).chunker.processChunk(););const c=Z(this,L,oo).call(this,g(this,D).output);return new Int8Array(c)}compressString(r,i=5){const a=this.encodeString(r);return this.compress(new Uint8Array(a),i)}decompress(r){for(Z(this,L,da).call(this,r);g(this,on).chunker.processChunk(););return Z(this,L,oo).call(this,g(this,on).output)}decompressString(r){for(Z(this,L,da).call(this,r);g(this,on).chunker.processChunk(););const i=Z(this,L,oo).call(this,g(this,on).output),a=Z(this,L,of).call(this,i);return typeof a=="string"?a:String.fromCharCode(...a)}codeOneBlock(){Z(this,L,Kd).call(this)}releaseStreams(){Z(this,L,tf).call(this)}}ne=new WeakMap,it=new WeakMap,be=new WeakMap,D=new WeakMap,on=new WeakMap,L=new WeakSet,Td=function(){return{chunker:new v0(this),output:{buf:De(32),count:0,write:()=>{}}}},Nd=function(){return{chunker:new xd(g(this,it)),output:{buf:De(32),count:0,write:()=>{}}}},ca=function(r){if(r.pos>=r.count)return-1;let i;return r.buf instanceof ArrayBuffer?i=new Uint8Array(r.buf)[r.pos++]:(r.buf instanceof Uint8Array,i=r.buf[r.pos++]),i&255},oo=function(r){return r.buf.slice(0,r.count)},Ld=function(r,i){if(r){if(r.count>=r.buf.length){const a=Math.max(r.buf.length*2,r.count+1),c=new Array(a);for(let d=0;d<r.count;d++)c[d]=r.buf[d];r.buf=c}r.buf[r.count++]=i<<24>>24}},bd=function(r,i,a,c){const d=r.count+c;if(d>r.buf.length){const p=Math.max(r.buf.length*2,d),m=new Array(p);for(let x=0;x<r.count;x++)m[x]=r.buf[x];r.buf=m}Dd(i,a,r.buf,r.count,c),r.count+=c},Id=function(r,i,a,c,d){for(let p=i;p<a;++p)c[d++]=r.charCodeAt(p)},Md=function(r){g(this,ne).initialize(),g(this,ne).configure(r)},jd=function(r,i,a){if(Dn(i,sa)<0)throw new Error("invalid length "+i);g(this,D).length_0=i,Z(this,L,Zd).call(this),Z(this,L,Md).call(this,a),this.writeHeaderProperties();for(let c=0;c<64;c+=8)Z(this,L,Ld).call(this,g(this,D).output,St(g0(i,c))&255);g(this,ne)._needReleaseMFStream=0,g(this,ne)._inStream=r,g(this,ne)._finished=0,Z(this,L,Xd).call(this),g(this,ne)._rangeEncoder.stream=g(this,D).output,g(this,ne).init(),g(this,ne).fillDistancesPrices(),g(this,ne).fillAlignPrices(),g(this,ne)._lenEncoder.setTableSize(g(this,ne)._numFastBytes+1-2),g(this,ne)._lenEncoder.updateTables(1<<g(this,ne)._posStateBits),g(this,ne)._repMatchLenEncoder.setTableSize(g(this,ne)._numFastBytes+1-2),g(this,ne)._repMatchLenEncoder.updateTables(1<<g(this,ne)._posStateBits),g(this,ne).nowPos64=Xr,g(this,D).chunker.encoder=g(this,ne),g(this,D).chunker.alive=1},Rd=function(r,i){const a=r instanceof ArrayBuffer?r.byteLength:r.length,c=Math.max(32,Math.ceil(a*1.2));g(this,D).output={buf:De(c),count:0,write:()=>{}};const d={pos:0,buf:r instanceof ArrayBuffer?new Uint8Array(r):r,count:r instanceof ArrayBuffer?new Uint8Array(r).length:r.length};Z(this,L,jd).call(this,d,kr(r instanceof ArrayBuffer?r.byteLength:r.length),i)},Od=function(r){let i="",a=[],c,d;for(let m=0;m<5;++m){if(c=Z(this,L,ca).call(this,r),c==-1)throw new Error("truncated input");a[m]=c<<24>>24}if(g(this,it).setDecoderProperties(a)?0:1)throw new Error("corrupted input");for(let m=0;m<64;m+=8){if(c=Z(this,L,ca).call(this,r),c==-1)throw new Error("truncated input");c=c.toString(16),c.length==1&&(c="0"+c),i=c+""+i}/^0+$|^f+$/i.test(i)?g(this,D).length_0=sa:(d=parseInt(i,16),d>c0?g(this,D).length_0=sa:g(this,D).length_0=kr(d)),g(this,on).chunker=Z(this,L,Yd).call(this,r,g(this,D).length_0)},da=function(r){const i=r instanceof ArrayBuffer?r.byteLength:r.length,a=32,c=i*2,d=Math.max(a,c);g(this,on).output={buf:De(d),count:0,write:()=>{}};const p={buf:r,pos:0,count:r instanceof ArrayBuffer?r.byteLength:r.length};Z(this,L,Od).call(this,p)},zd=function(r,i,a){let c;g(this,ne)._matchFinder._keepSizeBefore=r,g(this,ne)._matchFinder._keepSizeAfter=i,c=r+i+a,(g(this,ne)._matchFinder._bufferBase==null||g(this,ne)._matchFinder._blockSize!=c)&&(g(this,ne)._matchFinder._bufferBase=De(c),g(this,ne)._matchFinder._blockSize=c),g(this,ne)._matchFinder._pointerToLastSafePosition=g(this,ne)._matchFinder._blockSize-i},Ud=function(){const r=g(this,D).chunker.encoder._matchFinder;let i;r._pos+=1,r._pos>r._posLimit&&(i=r._bufferOffset+r._pos,i>r._pointerToLastSafePosition&&g(this,be).moveBlock(),g(this,be).readBlock())},Hd=function(r,i){const a=g(this,ne)._dictionarySize,c=g(this,ne)._numFastBytes;if(I0(a)){g(this,ne)._matchFinder._cutValue=b0(c);const d=T0(a,r,c,i);Z(this,L,zd).call(this,a+r,c+i,d),g(this,ne)._matchFinder._matchMaxLen=c,N0(g(this,ne)._matchFinder,a);const{hashMask:p,hashSizeSum:m}=L0(a,g(this,ne)._matchFinder.HASH_ARRAY);if(g(this,ne)._matchFinder.HASH_ARRAY){g(this,ne)._matchFinder._hashMask=p;const x=m+g(this,ne)._matchFinder.kFixHashSize;x!==g(this,ne)._matchFinder._hashSizeSum&&(g(this,ne)._matchFinder._hashSizeSum=x,g(this,ne)._matchFinder._hash=De(x))}else m!==g(this,ne)._matchFinder._hashSizeSum&&(g(this,ne)._matchFinder._hashSizeSum=m,g(this,ne)._matchFinder._hash=De(m))}},Wd=function(){let r,i,a,c,d,p,m,x,E,C,k,T,M,U,G,V,ae,fe,me,se,_e;const I=g(this,D).chunker.encoder._matchFinder,Fe=g(this,D).chunker.encoder._matchDistances;if(I._pos+I._matchMaxLen<=I._streamPos)U=I._matchMaxLen;else if(U=I._streamPos-I._pos,U<I.kMinMatchCheck)return Z(this,L,Wi).call(this),0;for(ae=0,G=I._pos>I._cyclicBufferSize?I._pos-I._cyclicBufferSize:0,i=I._bufferOffset+I._pos,V=1,x=0,E=0,I.HASH_ARRAY?(_e=ro[I._bufferBase[i]&255]^I._bufferBase[i+1]&255,x=_e&1023,_e^=(I._bufferBase[i+2]&255)<<8,E=_e&65535,C=(_e^ro[I._bufferBase[i+3]&255]<<5)&I._hashMask):C=I._bufferBase[i]&255^(I._bufferBase[i+1]&255)<<8,a=I._hash[I.kFixHashSize+C]||0,I.HASH_ARRAY&&(c=I._hash[x]||0,d=I._hash[1024+E]||0,I._hash[x]=I._pos,I._hash[1024+E]=I._pos,c>G&&I._bufferBase[I._bufferOffset+c]==I._bufferBase[i]&&(Fe[ae++]=V=2,Fe[ae++]=I._pos-c-1),d>G&&I._bufferBase[I._bufferOffset+d]==I._bufferBase[i]&&(d==c&&(ae-=2),Fe[ae++]=V=3,Fe[ae++]=I._pos-d-1,c=d),ae!=0&&c==a&&(ae-=2,V=1)),I._hash[I.kFixHashSize+C]=I._pos,me=(I._cyclicBufferPos<<1)+1,se=I._cyclicBufferPos<<1,T=M=I.kNumHashDirectBytes,I.kNumHashDirectBytes!=0&&a>G&&I._bufferBase[I._bufferOffset+a+I.kNumHashDirectBytes]!=I._bufferBase[i+I.kNumHashDirectBytes]&&(Fe[ae++]=V=I.kNumHashDirectBytes,Fe[ae++]=I._pos-a-1),r=I._cutValue;;){if(a<=G||r==0){r-=1,I._son[me]=I._son[se]=0;break}if(m=I._pos-a,p=(m<=I._cyclicBufferPos?I._cyclicBufferPos-m:I._cyclicBufferPos-m+I._cyclicBufferSize)<<1,fe=I._bufferOffset+a,k=T<M?T:M,I._bufferBase[fe+k]==I._bufferBase[i+k]){for(;(k+=1)!=U&&I._bufferBase[fe+k]==I._bufferBase[i+k];);if(V<k&&(Fe[ae++]=V=k,Fe[ae++]=m-1,k==U)){I._son[se]=I._son[p],I._son[me]=I._son[p+1];break}}(I._bufferBase[fe+k]&255)<(I._bufferBase[i+k]&255)?(I._son[se]=a,se=p+1,a=I._son[se],M=k):(I._son[me]=a,me=p,a=I._son[me],T=k)}return Z(this,L,Wi).call(this),ae},Gd=function(){g(this,D).chunker.encoder._matchFinder._bufferOffset=0,g(this,D).chunker.encoder._matchFinder._pos=0,g(this,D).chunker.encoder._matchFinder._streamPos=0,g(this,D).chunker.encoder._matchFinder._streamEndWasReached=0,g(this,be).readBlock(),g(this,D).chunker.encoder._matchFinder._cyclicBufferPos=0,g(this,be).reduceOffsets(-1)},Wi=function(){let r;const i=g(this,D).chunker.encoder._matchFinder;(i._cyclicBufferPos+=1)>=i._cyclicBufferSize&&(i._cyclicBufferPos=0),Z(this,L,Ud).call(this),i._pos==Bd&&(r=i._pos-i._cyclicBufferSize,Z(this,L,fa).call(this,i._cyclicBufferSize*2,r),Z(this,L,fa).call(this,i._hashSizeSum,r),g(this,be).reduceOffsets(r))},fa=function(r,i){const a=g(this,D).chunker.encoder._matchFinder._son;for(let c=0,d;c<r;++c)d=a[c]||0,d<=i?d=0:d-=i,a[c]=d},Vd=function(r,i){r.HASH_ARRAY=i>2,r.HASH_ARRAY?(r.kNumHashDirectBytes=0,r.kMinMatchCheck=4,r.kFixHashSize=66560):(r.kNumHashDirectBytes=2,r.kMinMatchCheck=3,r.kFixHashSize=0)},$d=function(r){const i=g(this,D).chunker.encoder._matchFinder;let a,c,d,p,m,x,E,C,k,T,M,U,G,V,ae,fe,me;do{if(i._pos+i._matchMaxLen<=i._streamPos)U=i._matchMaxLen;else if(U=i._streamPos-i._pos,U<i.kMinMatchCheck){Z(this,L,Wi).call(this);continue}for(G=i._pos>i._cyclicBufferSize?i._pos-i._cyclicBufferSize:0,c=i._bufferOffset+i._pos,i.HASH_ARRAY?(me=ro[i._bufferBase[c]&255]^i._bufferBase[c+1]&255,x=me&1023,i._hash[x]=i._pos,me^=(i._bufferBase[c+2]&255)<<8,E=me&65535,i._hash[1024+E]=i._pos,C=(me^ro[i._bufferBase[c+3]&255]<<5)&i._hashMask):C=i._bufferBase[c]&255^(i._bufferBase[c+1]&255)<<8,d=i._hash[i.kFixHashSize+C],i._hash[i.kFixHashSize+C]=i._pos,ae=(i._cyclicBufferPos<<1)+1,fe=i._cyclicBufferPos<<1,T=M=i.kNumHashDirectBytes,a=i._cutValue;;){if(d<=G||a==0){a-=1,i._son[ae]=i._son[fe]=0;break}if(m=i._pos-d,p=(m<=i._cyclicBufferPos?i._cyclicBufferPos-m:i._cyclicBufferPos-m+i._cyclicBufferSize)<<1,V=i._bufferOffset+d,k=T<M?T:M,i._bufferBase[V+k]==i._bufferBase[c+k]){for(;(k+=1)!=U&&i._bufferBase[V+k]==i._bufferBase[c+k];);if(k==U){i._son[fe]=i._son[p],i._son[ae]=i._son[p+1];break}}(i._bufferBase[V+k]&255)<(i._bufferBase[c+k]&255)?(i._son[fe]=d,fe=p+1,d=i._son[fe],M=k):(i._son[ae]=d,ae=p,d=i._son[ae],T=k)}Z(this,L,Wi).call(this)}while((r-=1)!=0)},Yd=function(r,i){g(this,it).rangeDecoder.stream=r,g(this,it).flush(),g(this,it).outWindow.stream=null,g(this,it).outWindow.stream=g(this,on).output,Z(this,L,Qd).call(this),g(this,it).state=0,g(this,it).rep0=0,g(this,it).rep1=0,g(this,it).rep2=0,g(this,it).rep3=0,g(this,it).outSize=i,g(this,it).nowPos64=Xr,g(this,it).prevByte=0;const a=new xd(g(this,it));return a.alive=1,a},Qd=function(){g(this,it).init()},ha=function(r){const i=g(this,D).chunker.encoder;let a,c,d,p;i._optimumEndIndex=r,d=i._optimum[r].posPrev,c=i._optimum[r].backPrev;do i._optimum[r].prev1IsChar&&(Z(this,L,xa).call(this,i._optimum[d]),i._optimum[d].posPrev=d-1,i._optimum[r].prev2&&(i._optimum[d-1].prev1IsChar=0,i._optimum[d-1].posPrev=i._optimum[r].posPrev2,i._optimum[d-1].backPrev=i._optimum[r].backPrev2)),p=d,a=c,c=i._optimum[p].backPrev,d=i._optimum[p].posPrev,i._optimum[p].backPrev=a,i._optimum[p].posPrev=r,r=p;while(r>0);return i.backRes=i._optimum[0].backPrev,i._optimumCurrentIndex=i._optimum[0].posPrev,i._optimumCurrentIndex},Kd=function(){let r,i,a,c,d,p,m,x,E,C,k,T,M,U;if(g(this,D).chunker.encoder.processedInSize[0]=Xr,g(this,D).chunker.encoder.processedOutSize[0]=Xr,g(this,D).chunker.encoder.finished[0]=1,M=g(this,D).chunker.encoder.nowPos64,g(this,D).chunker.encoder._inStream&&(g(this,D).chunker.encoder._matchFinder._stream=g(this,D).chunker.encoder._inStream,Z(this,L,Gd).call(this),g(this,D).chunker.encoder._needReleaseMFStream=1,g(this,D).chunker.encoder._inStream=null),!g(this,D).chunker.encoder._finished){if(g(this,D).chunker.encoder._finished=1,Dn(g(this,D).chunker.encoder.nowPos64,Xr)===0){if(!g(this,be).getNumAvailableBytes()){Z(this,L,lo).call(this,St(g(this,D).chunker.encoder.nowPos64));return}Z(this,L,ao).call(this),T=St(g(this,D).chunker.encoder.nowPos64)&g(this,D).chunker.encoder._posStateMask,g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isMatch,(g(this,D).chunker.encoder._state<<4)+T,0),g(this,D).chunker.encoder._state=er(g(this,D).chunker.encoder._state),a=g(this,be).getIndexByte(-g(this,D).chunker.encoder._additionalOffset),g(this,D).chunker.encoder.encodeLiteral(Z(this,L,yr).call(this,St(g(this,D).chunker.encoder.nowPos64),g(this,D).chunker.encoder._previousByte),a),g(this,D).chunker.encoder._previousByte=a,g(this,D).chunker.encoder._additionalOffset-=1,g(this,D).chunker.encoder.nowPos64=yn(g(this,D).chunker.encoder.nowPos64,m0)}if(!g(this,be).getNumAvailableBytes()){Z(this,L,lo).call(this,St(g(this,D).chunker.encoder.nowPos64));return}for(;;){if(p=Z(this,L,qd).call(this,St(g(this,D).chunker.encoder.nowPos64)),E=g(this,D).chunker.encoder.backRes,T=St(g(this,D).chunker.encoder.nowPos64)&g(this,D).chunker.encoder._posStateMask,i=(g(this,D).chunker.encoder._state<<4)+T,p==1&&E==-1)g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isMatch,i,0),a=g(this,be).getIndexByte(-g(this,D).chunker.encoder._additionalOffset),U=Z(this,L,yr).call(this,St(g(this,D).chunker.encoder.nowPos64),g(this,D).chunker.encoder._previousByte),g(this,D).chunker.encoder._state<7?g(this,D).chunker.encoder.encodeLiteral(U,a):(x=g(this,be).getIndexByte(-g(this,D).chunker.encoder._repDistances[0]-1-g(this,D).chunker.encoder._additionalOffset),g(this,D).chunker.encoder.encodeMatched(U,x,a)),g(this,D).chunker.encoder._previousByte=a,g(this,D).chunker.encoder._state=er(g(this,D).chunker.encoder._state);else{if(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isMatch,i,1),E<4){if(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep,g(this,D).chunker.encoder._state,1),E?(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG0,g(this,D).chunker.encoder._state,1),E==1?g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG1,g(this,D).chunker.encoder._state,0):(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG1,g(this,D).chunker.encoder._state,1),g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG2,g(this,D).chunker.encoder._state,E-2))):(g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRepG0,g(this,D).chunker.encoder._state,0),p==1?g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep0Long,i,0):g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep0Long,i,1)),p==1?g(this,D).chunker.encoder._state=g(this,D).chunker.encoder._state<7?9:11:(g(this,D).chunker.encoder.encodeLength(g(this,D).chunker.encoder._repMatchLenEncoder,p-2,T),g(this,D).chunker.encoder._state=g(this,D).chunker.encoder._state<7?8:11),c=g(this,D).chunker.encoder._repDistances[E],E!=0){const G=g(this,D).chunker.encoder;for(let V=E;V>=1;--V)G._repDistances[V]=G._repDistances[V-1];G._repDistances[0]=c}}else{g(this,D).chunker.encoder.encodeBit(g(this,D).chunker.encoder._isRep,g(this,D).chunker.encoder._state,0),g(this,D).chunker.encoder._state=g(this,D).chunker.encoder._state<7?7:10,g(this,D).chunker.encoder.encodeLength(g(this,D).chunker.encoder._lenEncoder,p-2,T),E-=4,k=g(this,D).chunker.encoder.getPosSlot(E),m=fo(p),g(this,D).chunker.encoder.encodeBitTree(g(this,D).chunker.encoder._posSlotEncoder[m],k),k>=4&&(d=(k>>1)-1,r=(2|k&1)<<d,C=E-r,k<14?g(this,D).chunker.encoder.reverseEncodeRange(r-k-1,d,C):(g(this,D).chunker.encoder.encodeDirectBits(C>>4,d-4),g(this,D).chunker.encoder.reverseEncode(C&15),g(this,D).chunker.encoder._alignPriceCount+=1)),c=E;const G=g(this,D).chunker.encoder;for(let V=3;V>=1;--V)G._repDistances[V]=G._repDistances[V-1];G._repDistances[0]=c,G._matchPriceCount+=1}g(this,D).chunker.encoder._previousByte=g(this,be).getIndexByte(p-1-g(this,D).chunker.encoder._additionalOffset)}if(g(this,D).chunker.encoder._additionalOffset-=p,g(this,D).chunker.encoder.nowPos64=yn(g(this,D).chunker.encoder.nowPos64,kr(p)),!g(this,D).chunker.encoder._additionalOffset){if(g(this,D).chunker.encoder._matchPriceCount>=128&&g(this,D).chunker.encoder.fillDistancesPrices(),g(this,D).chunker.encoder._alignPriceCount>=16&&Z(this,L,Jd).call(this,g(this,D).chunker.encoder),g(this,D).chunker.encoder.processedInSize[0]=g(this,D).chunker.encoder.nowPos64,g(this,D).chunker.encoder.processedOutSize[0]=Z(this,L,sf).call(this),!g(this,be).getNumAvailableBytes()){Z(this,L,lo).call(this,St(g(this,D).chunker.encoder.nowPos64));return}if(Dn(Fd(g(this,D).chunker.encoder.nowPos64,M),[4096,0])>=0){g(this,D).chunker.encoder._finished=0,g(this,D).chunker.encoder.finished[0]=0;return}}}}},Xd=function(){let r,i;g(this,ne)._matchFinder||(r={},i=4,g(this,ne)._matchFinderType||(i=2),Z(this,L,Vd).call(this,r,i),g(this,ne)._matchFinder=r,$r(this,be,new P0(r))),g(this,ne).createLiteralEncoder(),!(g(this,ne)._dictionarySize==g(this,ne)._dictionarySizePrev&&g(this,ne)._numFastBytesPrev==g(this,ne)._numFastBytes)&&(Z(this,L,Hd).call(this,4096,274),g(this,ne)._dictionarySizePrev=g(this,ne)._dictionarySize,g(this,ne)._numFastBytesPrev=g(this,ne)._numFastBytes)},Zd=function(){for(let r=0;r<4096;++r)g(this,ne)._optimum[r]={};for(let r=0;r<4;++r)g(this,ne)._posSlotEncoder[r]=kt(6)},Jd=function(r){for(let i=0;i<16;++i)r._alignPrices[i]=Z(this,L,rf).call(this,r._posAlignEncoder,i);r._alignPriceCount=0},lo=function(r){Z(this,L,ga).call(this),g(this,D).chunker.encoder.writeEndMarker(r&g(this,D).chunker.encoder._posStateMask);for(let i=0;i<5;++i)g(this,D).chunker.encoder.shiftLow()},qd=function(r){let i,a,c,d,p,m,x,E,C,k,T,M,U,G,V,ae,fe,me,se,_e,I,Fe,J,Ie,Ee,Y,q,de,W,Re,Ne,Se,O,he,K,S,b,pe,ke,Ae,X,ve,Pe,A,Je,Ot,an,Kt,Nt;const _=g(this,D).chunker.encoder;if(_._optimumEndIndex!=_._optimumCurrentIndex)return Nt=_._optimum[_._optimumCurrentIndex].posPrev-_._optimumCurrentIndex,_.backRes=_._optimum[_._optimumCurrentIndex].backPrev,_._optimumCurrentIndex=_._optimum[_._optimumCurrentIndex].posPrev,Nt;if(_._optimumCurrentIndex=_._optimumEndIndex=0,_._longestMatchWasFound?(T=_._longestMatchLength,_._longestMatchWasFound=0):T=Z(this,L,ao).call(this),Ee=_._numDistancePairs,J=g(this,be).getNumAvailableBytes()+1,J<2)return _.backRes=-1,1;J>273&&(J=273),pe=0;for(let st=0;st<4;++st)_.reps[st]=_._repDistances[st],_.repLens[st]=g(this,be).getMatchLen(-1,_.reps[st],273),_.repLens[st]>_.repLens[pe]&&(pe=st);if(_.repLens[pe]>=_._numFastBytes)return _.backRes=pe,Nt=_.repLens[pe],Z(this,L,ma).call(this,Nt-1),Nt;if(T>=_._numFastBytes)return _.backRes=g(this,D).chunker.encoder._matchDistances[Ee-1]+4,Z(this,L,ma).call(this,T-1),T;if(x=g(this,be).getIndexByte(-1),V=g(this,be).getIndexByte(-_._repDistances[0]-1-1),T<2&&x!=V&&_.repLens[pe]<2)return _.backRes=-1,1;if(_._optimum[0].state=_._state,Se=r&_._posStateMask,_._optimum[1].price=We[_._isMatch[(_._state<<4)+Se]>>>2]+Z(this,L,Gi).call(this,Z(this,L,yr).call(this,r,_._previousByte),_._state>=7,V,x),Z(this,L,xa).call(this,_._optimum[1]),ae=We[2048-_._isMatch[(_._state<<4)+Se]>>>2],b=ae+We[2048-_._isRep[_._state]>>>2],V==x&&(ke=b+Z(this,L,ef).call(this,Se),ke<_._optimum[1].price&&(_._optimum[1].price=ke,Z(this,L,nf).call(this,_._optimum[1]))),k=T>=_.repLens[pe]?T:_.repLens[pe],k<2)return _.backRes=_._optimum[1].backPrev,1;_._optimum[1].posPrev=0,_._optimum[0].backs0=_.reps[0],_._optimum[0].backs1=_.reps[1],_._optimum[0].backs2=_.reps[2],_._optimum[0].backs3=_.reps[3],C=k;do _._optimum[C].price=Yr,C-=1;while(C>=2);for(let st=0;st<4;++st)if(S=_.repLens[st],!(S<2)){he=b+Z(this,L,xr).call(this,st,_._state,Se);do d=he+_._repMatchLenEncoder.getPrice(S-2,Se),W=_._optimum[S],d<W.price&&(W.price=d,W.posPrev=0,W.backPrev=st,W.prev1IsChar=0);while((S-=1)>=2)}if(Fe=ae+We[_._isRep[_._state]>>>2],C=_.repLens[0]>=2?_.repLens[0]+1:2,C<=T){for(Y=0;C>_._matchDistances[Y];)Y+=2;for(;E=_._matchDistances[Y+1],d=Fe+Z(this,L,pa).call(this,E,C,Se),W=_._optimum[C],d<W.price&&(W.price=d,W.posPrev=0,W.backPrev=E+4,W.prev1IsChar=0),!(C==_._matchDistances[Y]&&(Y+=2,Y==Ee));C+=1);}for(i=0;;){if(++i,i==k)return Z(this,L,ha).call(this,i);if(fe=Z(this,L,ao).call(this),Ee=_._numDistancePairs,fe>=_._numFastBytes)return _._longestMatchLength=fe,_._longestMatchWasFound=1,Z(this,L,ha).call(this,i);if(r+=1,Ne=_._optimum[i].posPrev,_._optimum[i].prev1IsChar?(Ne-=1,_._optimum[i].prev2?(X=_._optimum[_._optimum[i].posPrev2].state,_._optimum[i].backPrev2<4?X=X<7?8:11:X=X<7?7:10):X=_._optimum[Ne].state,X=er(X)):X=_._optimum[Ne].state,Ne==i-1?_._optimum[i].backPrev?X=er(X):X=X<7?9:11:(_._optimum[i].prev1IsChar&&_._optimum[i].prev2?(Ne=_._optimum[i].posPrev2,Re=_._optimum[i].backPrev2,X=X<7?8:11):(Re=_._optimum[i].backPrev,Re<4?X=X<7?8:11:X=X<7?7:10),de=_._optimum[Ne],Re<4?Re?Re==1?(_.reps[0]=de.backs1,_.reps[1]=de.backs0,_.reps[2]=de.backs2,_.reps[3]=de.backs3):Re==2?(_.reps[0]=de.backs2,_.reps[1]=de.backs0,_.reps[2]=de.backs1,_.reps[3]=de.backs3):(_.reps[0]=de.backs3,_.reps[1]=de.backs0,_.reps[2]=de.backs1,_.reps[3]=de.backs2):(_.reps[0]=de.backs0,_.reps[1]=de.backs1,_.reps[2]=de.backs2,_.reps[3]=de.backs3):(_.reps[0]=Re-4,_.reps[1]=de.backs0,_.reps[2]=de.backs1,_.reps[3]=de.backs2)),_._optimum[i].state=X,_._optimum[i].backs0=_.reps[0],_._optimum[i].backs1=_.reps[1],_._optimum[i].backs2=_.reps[2],_._optimum[i].backs3=_.reps[3],m=_._optimum[i].price,x=g(this,be).getIndexByte(-1),V=g(this,be).getIndexByte(-_.reps[0]-1-1),Se=r&_._posStateMask,a=m+We[_._isMatch[(X<<4)+Se]>>>2]+Z(this,L,Gi).call(this,Z(this,L,yr).call(this,r,g(this,be).getIndexByte(-2)),X>=7,V,x),_e=_._optimum[i+1],me=0,a<_e.price&&(_e.price=a,_e.posPrev=i,_e.backPrev=-1,_e.prev1IsChar=0,me=1),ae=m+We[2048-_._isMatch[(X<<4)+Se]>>>2],b=ae+We[2048-_._isRep[X]>>>2],V==x&&!(_e.posPrev<i&&!_e.backPrev)&&(ke=b+(We[_._isRepG0[X]>>>2]+We[_._isRep0Long[(X<<4)+Se]>>>2]),ke<=_e.price&&(_e.price=ke,_e.posPrev=i,_e.backPrev=0,_e.prev1IsChar=0,me=1)),Ie=g(this,be).getNumAvailableBytes()+1,Ie=4095-i<Ie?4095-i:Ie,J=Ie,!(J<2)){if(J>_._numFastBytes&&(J=_._numFastBytes),!me&&V!=x&&(Pe=Math.min(Ie-1,_._numFastBytes),U=g(this,be).getMatchLen(0,_.reps[0],Pe),U>=2)){for(ve=er(X),O=r+1&_._posStateMask,I=a+We[2048-_._isMatch[(ve<<4)+O]>>>2]+We[2048-_._isRep[ve]>>>2],q=i+1+U;k<q;)_._optimum[k+=1].price=Yr;d=I+(A=_._repMatchLenEncoder.getPrice(U-2,O),A+Z(this,L,xr).call(this,0,ve,O)),W=_._optimum[q],d<W.price&&(W.price=d,W.posPrev=i+1,W.backPrev=0,W.prev1IsChar=1,W.prev2=0)}for(Ae=2,K=0;K<4;++K)if(M=g(this,be).getMatchLen(-1,_.reps[K],J),!(M<2)){G=M;do{for(;k<i+M;)_._optimum[k+=1].price=Yr;d=b+(Je=_._repMatchLenEncoder.getPrice(M-2,Se),Je+Z(this,L,xr).call(this,K,X,Se)),W=_._optimum[i+M],d<W.price&&(W.price=d,W.posPrev=i,W.backPrev=K,W.prev1IsChar=0)}while((M-=1)>=2);if(M=G,K||(Ae=M+1),M<Ie&&(Pe=Math.min(Ie-1-M,_._numFastBytes),U=g(this,be).getMatchLen(M,_.reps[K],Pe),U>=2)){for(ve=X<7?8:11,O=r+M&_._posStateMask,c=b+(Ot=_._repMatchLenEncoder.getPrice(M-2,Se),Ot+Z(this,L,xr).call(this,K,X,Se))+We[_._isMatch[(ve<<4)+O]>>>2]+Z(this,L,Gi).call(this,Z(this,L,yr).call(this,r+M,g(this,be).getIndexByte(M-1-1)),!0,g(this,be).getIndexByte(M-1-(_.reps[K]+1)),g(this,be).getIndexByte(M-1)),ve=er(ve),O=r+M+1&_._posStateMask,se=c+We[2048-_._isMatch[(ve<<4)+O]>>>2],I=se+We[2048-_._isRep[ve]>>>2],q=M+1+U;k<i+q;)_._optimum[k+=1].price=Yr;d=I+(an=_._repMatchLenEncoder.getPrice(U-2,O),an+Z(this,L,xr).call(this,0,ve,O)),W=_._optimum[i+q],d<W.price&&(W.price=d,W.posPrev=i+M+1,W.backPrev=0,W.prev1IsChar=1,W.prev2=1,W.posPrev2=i,W.backPrev2=K)}}if(fe>J){for(fe=J,Ee=0;fe>_._matchDistances[Ee];Ee+=2);_._matchDistances[Ee]=fe,Ee+=2}if(fe>=Ae){for(Fe=ae+We[_._isRep[X]>>>2];k<i+fe;)_._optimum[k+=1].price=Yr;for(Y=0;Ae>_._matchDistances[Y];)Y+=2;for(M=Ae;;M+=1)if(p=_._matchDistances[Y+1],d=Fe+Z(this,L,pa).call(this,p,M,Se),W=_._optimum[i+M],d<W.price&&(W.price=d,W.posPrev=i,W.backPrev=p+4,W.prev1IsChar=0),M==_._matchDistances[Y]){if(M<Ie&&(Pe=Math.min(Ie-1-M,_._numFastBytes),U=g(this,be).getMatchLen(M,p,Pe),U>=2)){for(ve=X<7?7:10,O=r+M&_._posStateMask,c=d+We[_._isMatch[(ve<<4)+O]>>>2]+Z(this,L,Gi).call(this,Z(this,L,yr).call(this,r+M,g(this,be).getIndexByte(M-1-1)),!0,g(this,be).getIndexByte(M-(p+1)-1),g(this,be).getIndexByte(M-1)),ve=er(ve),O=r+M+1&_._posStateMask,se=c+We[2048-_._isMatch[(ve<<4)+O]>>>2],I=se+We[2048-_._isRep[ve]>>>2],q=M+1+U;k<i+q;)_._optimum[k+=1].price=Yr;d=I+(Kt=_._repMatchLenEncoder.getPrice(U-2,O),Kt+Z(this,L,xr).call(this,0,ve,O)),W=_._optimum[i+q],d<W.price&&(W.price=d,W.posPrev=i+M+1,W.backPrev=0,W.prev1IsChar=1,W.prev2=1,W.posPrev2=i,W.backPrev2=p+4)}if(Y+=2,Y==Ee)break}}}}return 1},pa=function(r,i,a){const c=g(this,D).chunker.encoder;let d,p=fo(i);if(r<128)d=c._distancesPrices[p*128+r];else{const m=(p<<6)+this.GetPosSlot2(r);d=c._posSlotPrices[m]+c._alignPrices[r&15]}return d+c._lenEncoder.getPrice(i-2,a)},xr=function(r,i,a){const c=g(this,D).chunker.encoder;let d;return r?(d=We[2048-g(this,D).chunker.encoder._isRepG0[i]>>>2],r==1?d+=We[g(this,D).chunker.encoder._isRepG1[i]>>>2]:(d+=We[2048-g(this,D).chunker.encoder._isRepG1[i]>>>2],d+=xn(g(this,D).chunker.encoder._isRepG2[i],r-2))):(d=We[c._isRepG0[i]>>>2],d+=We[2048-g(this,D).chunker.encoder._isRep0Long[(i<<4)+a]>>>2]),d},ef=function(r){const i=g(this,D).chunker.encoder,a=We[i._isRepG0[i._state]>>>2],c=We[i._isRep0Long[(i._state<<4)+r]>>>2];return a+c},ma=function(r){r>0&&(Z(this,L,$d).call(this,r),g(this,D).chunker.encoder._additionalOffset+=r)},ao=function(){let r=0;const i=g(this,D).chunker.encoder;return i._numDistancePairs=Z(this,L,Wd).call(this),i._numDistancePairs>0&&(r=i._matchDistances[i._numDistancePairs-2],r==i._numFastBytes&&(r+=g(this,be).getMatchLen(r-1,i._matchDistances[i._numDistancePairs-1],273-r))),i._additionalOffset+=1,r},ga=function(){const r=g(this,D).chunker.encoder;r._matchFinder&&r._needReleaseMFStream&&(r._matchFinder._stream=null,r._needReleaseMFStream=0)},tf=function(){Z(this,L,ga).call(this),g(this,D).chunker.encoder._rangeEncoder.stream=null},yr=function(r,i){return{decoders:g(this,D).chunker.encoder._literalEncoder.getSubCoder(r,i).decoders}},Gi=function(r,i,a,c){let d,p=1,m=7,x,E=0;if(i){for(;m>=0;--m)if(x=a>>m&1,d=c>>m&1,E+=xn(r.decoders[(1+x<<8)+p],d),p=p<<1|d,x!=d){--m;break}}for(;m>=0;--m)d=c>>m&1,E+=xn(r.decoders[p],d),p=p<<1|d;return E},xa=function(r){r.backPrev=-1,r.prev1IsChar=0},nf=function(r){r.backPrev=0,r.prev1IsChar=0},rf=function(r,i){let a,c=1,d=0;for(let p=r.numBitLevels;p!=0;p-=1)a=i&1,i>>>=1,d+=xn(r.models[c],a),c=c<<1|a;return d},sf=function(){const r=yn(kr(g(this,D).chunker.encoder._rangeEncoder.cacheSize),g(this,D).chunker.encoder._rangeEncoder.position);return yn(r,[4,0])},of=function(r){let i=0,a,c,d,p=r.length,m=[],x=[];for(let E=0;E<p;++E,++i){if(a=r[E]&255,a&128)if((a&224)==192){if(E+1>=p)return String.fromCharCode(...r);if(c=r[++E]&255,(c&192)!=128)return String.fromCharCode(...r);x[i]=(a&31)<<6|c&63}else if((a&240)==224){if(E+2>=p||(c=r[++E]&255,(c&192)!=128)||(d=r[++E]&255,(d&192)!=128))return r;x[i]=(a&15)<<12|(c&63)<<6|d&63}else return r;else{if(!a)return r;x[i]=a}i==16383&&(m.push(String.fromCharCode.apply(String,x)),i=-1)}return i>0&&(x.length=i,m.push(String.fromCharCode.apply(String,x))),m.join("")};/**
 * @license
 * Copyright Filip Seman
 * SPDX-License-Identifier: MIT
 */function j0(u,r=5){const i=u instanceof ArrayBuffer?new Uint8Array(u):u,a=new Pd().compress(i,r);return new Uint8Array(a)}function R0(u){const r=u instanceof ArrayBuffer?new Uint8Array(u):u,i=new Pd().decompress(r);return new Uint8Array(i)}const O0=300,lf=255,ho=4096,z0={item:1,outfit:2,effect:3,distance:4},U0={1:"item",2:"outfit",3:"effect",4:"distance"},Q={GROUND:0,GROUND_BORDER:1,ON_BOTTOM:2,ON_TOP:3,CONTAINER:4,STACKABLE:5,FORCE_USE:6,MULTI_USE:7,WRITABLE:8,WRITABLE_ONCE:9,FLUID_CONTAINER:10,FLUID:11,UNPASSABLE:12,UNMOVEABLE:13,BLOCK_MISSILE:14,BLOCK_PATHFIND:15,NO_MOVE_ANIMATION:16,PICKUPABLE:17,HANGABLE:18,HOOK_SOUTH:19,HOOK_EAST:20,ROTATABLE:21,HAS_LIGHT:22,DONT_HIDE:23,TRANSLUCENT:24,HAS_OFFSET:25,HAS_ELEVATION:26,LYING_OBJECT:27,ANIMATE_ALWAYS:28,MINI_MAP:29,LENS_HELP:30,FULL_GROUND:31,IGNORE_LOOK:32,CLOTH:33,MARKET_ITEM:34,DEFAULT_ACTION:35,WRAPPABLE:36,UNWRAPPABLE:37,TOP_EFFECT:38,HAS_CHARGES:252,FLOOR_CHANGE:253,USABLE:254};function H0(u){const r=new Uint8Array(u.length);for(let i=0;i<u.length;i+=4)r[i]=u[i+3],r[i+1]=u[i],r[i+2]=u[i+1],r[i+3]=u[i+2];return r}function W0(u){const r=new Uint8ClampedArray(u.length);for(let i=0;i<u.length;i+=4)r[i]=u[i+1],r[i+1]=u[i+2],r[i+2]=u[i+3],r[i+3]=u[i];return r}class G0{constructor(r=65536){N(this,"buf");N(this,"view");N(this,"pos",0);this.buf=new Uint8Array(r),this.view=new DataView(this.buf.buffer)}grow(r){for(;this.pos+r>this.buf.length;){const i=new Uint8Array(this.buf.length*2);i.set(this.buf),this.buf=i,this.view=new DataView(this.buf.buffer)}}u8(r){this.grow(1),this.view.setUint8(this.pos,r),this.pos+=1}u16(r){this.grow(2),this.view.setUint16(this.pos,r,!0),this.pos+=2}i16(r){this.grow(2),this.view.setInt16(this.pos,r,!0),this.pos+=2}u32(r){this.grow(4),this.view.setUint32(this.pos,r,!0),this.pos+=4}i32(r){this.grow(4),this.view.setInt32(this.pos,r,!0),this.pos+=4}bytes(r){this.grow(r.length),this.buf.set(r,this.pos),this.pos+=r.length}result(){return this.buf.slice(0,this.pos)}patchU32(r,i){this.view.setUint32(r,i,!0)}}class V0{constructor(r){N(this,"view");N(this,"pos",0);this.data=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength)}u8(){const r=this.view.getUint8(this.pos);return this.pos+=1,r}u16(){const r=this.view.getUint16(this.pos,!0);return this.pos+=2,r}i16(){const r=this.view.getInt16(this.pos,!0);return this.pos+=2,r}u32(){const r=this.view.getUint32(this.pos,!0);return this.pos+=4,r}i32(){const r=this.view.getInt32(this.pos,!0);return this.pos+=4,r}bytes(r){const i=this.data.slice(this.pos,this.pos+r);return this.pos+=r,i}str(r){return new TextDecoder("latin1").decode(this.bytes(r))}}function $0(u,r){if(r.ground?(u.u8(Q.GROUND),u.u16(r.groundSpeed??0)):r.groundBorder?u.u8(Q.GROUND_BORDER):r.onBottom?u.u8(Q.ON_BOTTOM):r.onTop&&u.u8(Q.ON_TOP),r.container&&u.u8(Q.CONTAINER),r.stackable&&u.u8(Q.STACKABLE),r.forceUse&&u.u8(Q.FORCE_USE),r.multiUse&&u.u8(Q.MULTI_USE),r.writable&&(u.u8(Q.WRITABLE),u.u16(r.writableMaxLen??0)),r.writableOnce&&(u.u8(Q.WRITABLE_ONCE),u.u16(r.writableOnceMaxLen??0)),r.fluidContainer&&u.u8(Q.FLUID_CONTAINER),r.splash&&u.u8(Q.FLUID),r.notWalkable&&u.u8(Q.UNPASSABLE),r.notMoveable&&u.u8(Q.UNMOVEABLE),r.blockProjectile&&u.u8(Q.BLOCK_MISSILE),r.notPathable&&u.u8(Q.BLOCK_PATHFIND),r.noMoveAnimation&&u.u8(Q.NO_MOVE_ANIMATION),r.pickupable&&u.u8(Q.PICKUPABLE),r.hangable&&u.u8(Q.HANGABLE),r.hookSouth&&u.u8(Q.HOOK_SOUTH),r.hookEast&&u.u8(Q.HOOK_EAST),r.rotateable&&u.u8(Q.ROTATABLE),r.hasLight&&(u.u8(Q.HAS_LIGHT),u.u16(r.lightLevel??0),u.u16(r.lightColor??0)),r.dontHide&&u.u8(Q.DONT_HIDE),r.translucent&&u.u8(Q.TRANSLUCENT),r.hasDisplacement&&(u.u8(Q.HAS_OFFSET),u.i16(r.displacementX??0),u.i16(r.displacementY??0)),r.hasElevation&&(u.u8(Q.HAS_ELEVATION),u.u16(r.elevation??0)),r.lyingCorpse&&u.u8(Q.LYING_OBJECT),r.animateAlways&&u.u8(Q.ANIMATE_ALWAYS),r.hasMinimapColor&&(u.u8(Q.MINI_MAP),u.u16(r.minimapColor??0)),r.lensHelp!=null&&(u.u8(Q.LENS_HELP),u.u16(r.lensHelp)),r.fullGround&&u.u8(Q.FULL_GROUND),r.look&&u.u8(Q.IGNORE_LOOK),r.cloth&&(u.u8(Q.CLOTH),u.u16(r.clothSlot??0)),r.hasMarket){u.u8(Q.MARKET_ITEM),u.u16(r.marketCategory??0),u.u16(r.marketTradeAs??0),u.u16(r.marketShowAs??0);const i=r.marketName??"";u.u16(i.length);for(let a=0;a<i.length;a++)u.u8(i.charCodeAt(a)&255);u.u16(r.marketRestrictVocation??0),u.u16(r.marketRequiredLevel??0)}r.usable&&(u.u8(Q.DEFAULT_ACTION),u.u16(r.usableActionId??0)),r.wrapable&&u.u8(Q.WRAPPABLE),r.unwrapable&&u.u8(Q.UNWRAPPABLE),r.topEffect&&u.u8(Q.TOP_EFFECT),r.chargeable&&u.u8(Q.HAS_CHARGES),u.u8(lf)}function Y0(u){const r={ground:!1,groundBorder:!1,onBottom:!1,onTop:!1,container:!1,stackable:!1,forceUse:!1,multiUse:!1,writable:!1,writableOnce:!1,fluidContainer:!1,splash:!1,notWalkable:!1,notMoveable:!1,blockProjectile:!1,notPathable:!1,pickupable:!1,hangable:!1,hookSouth:!1,hookEast:!1,rotateable:!1,hasLight:!1,dontHide:!1,translucent:!1,hasDisplacement:!1,hasElevation:!1,lyingCorpse:!1,animateAlways:!1,hasMinimapColor:!1,fullGround:!1,look:!1,cloth:!1,hasMarket:!1,usable:!1,wrapable:!1,unwrapable:!1,topEffect:!1,noMoveAnimation:!1,chargeable:!1};for(;;){const i=u.u8();if(i===lf)break;switch(i){case Q.GROUND:r.ground=!0,r.groundSpeed=u.u16();break;case Q.GROUND_BORDER:r.groundBorder=!0;break;case Q.ON_BOTTOM:r.onBottom=!0;break;case Q.ON_TOP:r.onTop=!0;break;case Q.CONTAINER:r.container=!0;break;case Q.STACKABLE:r.stackable=!0;break;case Q.FORCE_USE:r.forceUse=!0;break;case Q.MULTI_USE:r.multiUse=!0;break;case Q.WRITABLE:r.writable=!0,r.writableMaxLen=u.u16();break;case Q.WRITABLE_ONCE:r.writableOnce=!0,r.writableOnceMaxLen=u.u16();break;case Q.FLUID_CONTAINER:r.fluidContainer=!0;break;case Q.FLUID:r.splash=!0;break;case Q.UNPASSABLE:r.notWalkable=!0;break;case Q.UNMOVEABLE:r.notMoveable=!0;break;case Q.BLOCK_MISSILE:r.blockProjectile=!0;break;case Q.BLOCK_PATHFIND:r.notPathable=!0;break;case Q.NO_MOVE_ANIMATION:r.noMoveAnimation=!0;break;case Q.PICKUPABLE:r.pickupable=!0;break;case Q.HANGABLE:r.hangable=!0;break;case Q.HOOK_SOUTH:r.hookSouth=!0;break;case Q.HOOK_EAST:r.hookEast=!0;break;case Q.ROTATABLE:r.rotateable=!0;break;case Q.HAS_LIGHT:r.hasLight=!0,r.lightLevel=u.u16(),r.lightColor=u.u16();break;case Q.DONT_HIDE:r.dontHide=!0;break;case Q.TRANSLUCENT:r.translucent=!0;break;case Q.HAS_OFFSET:r.hasDisplacement=!0,r.displacementX=u.i16(),r.displacementY=u.i16();break;case Q.HAS_ELEVATION:r.hasElevation=!0,r.elevation=u.u16();break;case Q.LYING_OBJECT:r.lyingCorpse=!0;break;case Q.ANIMATE_ALWAYS:r.animateAlways=!0;break;case Q.MINI_MAP:r.hasMinimapColor=!0,r.minimapColor=u.u16();break;case Q.LENS_HELP:r.lensHelp=u.u16();break;case Q.FULL_GROUND:r.fullGround=!0;break;case Q.IGNORE_LOOK:r.look=!0;break;case Q.CLOTH:r.cloth=!0,r.clothSlot=u.u16();break;case Q.MARKET_ITEM:{r.hasMarket=!0,r.marketCategory=u.u16(),r.marketTradeAs=u.u16(),r.marketShowAs=u.u16();const a=u.u16();r.marketName=u.str(a),r.marketRestrictVocation=u.u16(),r.marketRequiredLevel=u.u16();break}case Q.DEFAULT_ACTION:r.usable=!0,r.usableActionId=u.u16();break;case Q.HAS_CHARGES:r.chargeable=!0;break;case Q.FLOOR_CHANGE:break;case Q.WRAPPABLE:r.wrapable=!0;break;case Q.UNWRAPPABLE:r.unwrapable=!0;break;case Q.TOP_EFFECT:r.topEffect=!0;break;case Q.USABLE:r.usable=!0;break;default:throw new Error(`Unknown OBD flag 0x${i.toString(16)}`)}}return r}function Q0(u){const{thing:r,clientVersion:i,spriteData:a,spriteOverrides:c}=u,d=new G0;d.u16(O0),d.u16(i),d.u8(z0[r.category]??1);const p=d.pos;d.u32(0),$0(d,r.flags),d.patchU32(p,d.pos);const m=r.category==="outfit",x=r.frameGroups.length;m&&d.u8(x);for(let E=0;E<x;E++){m&&d.u8(x<2?1:E);const C=r.frameGroups[E];if(d.u8(C.width),d.u8(C.height),(C.width>1||C.height>1)&&d.u8(32),d.u8(C.layers),d.u8(C.patternX),d.u8(C.patternY),d.u8(C.patternZ||1),d.u8(C.animationLength),C.animationLength>1){d.u8(C.asynchronous),d.i32(C.nLoop),d.u8(C.start);for(let k=0;k<C.animationLength;k++){const T=C.animationLengths[k]??{min:100,max:100};d.u32(T.min),d.u32(T.max)}}for(let k=0;k<C.sprites.length;k++){const T=C.sprites[k];d.u32(T);let M;if(T===0)M=new Uint8Array(ho);else{const G=c.get(T)??co(a,T);G?M=H0(new Uint8Array(G.data.buffer,G.data.byteOffset,G.data.byteLength)):M=new Uint8Array(ho)}d.u32(M.length),d.bytes(M)}}return j0(d.result(),5)}function K0(u){let r;try{r=R0(u)}catch(M){throw new Error(`Failed to decompress OBD file. Ensure this is a valid .obd file.
${M instanceof Error?M.message:M}`)}if(r.length<9)throw new Error("OBD file too small.");const i=new V0(r),a=i.u16();let c,d;if(a===300)c=3,d=i.u16();else if(a===200)c=2,d=i.u16();else throw a>=710?new Error(`This is an OBD Version 1 file (client ${a}). V1 is not supported  please re-export from the Object Builder as V2 or V3.`):new Error(`Unrecognised OBD header: 0x${a.toString(16)} (${a}). Not a valid .obd file.`);const p=i.u8(),m=U0[p];if(!m)throw new Error(`Invalid category byte: ${p}`);i.u32();const x=Y0(i),E=m==="outfit";let C=1;E&&c===3&&(C=i.u8());const k=[],T=new Map;for(let M=0;M<C;M++){E&&c===3&&i.u8();const U=i.u8(),G=i.u8();(U>1||G>1)&&i.u8();const V=i.u8(),ae=i.u8(),fe=i.u8(),me=i.u8()||1,se=i.u8();let _e=0,I=0,Fe=0;const J=[];if(se>1){_e=i.u8(),I=i.i32(),Fe=i.u8();for(let Y=0;Y<se;Y++)J.push({min:i.u32(),max:i.u32()})}else J.push({min:0,max:0});const Ie=U*G*V*ae*fe*me*se,Ee=[];for(let Y=0;Y<Ie;Y++){const q=i.u32();Ee.push(q);let de;if(c===3){const W=i.u32();de=i.bytes(W)}else de=i.bytes(ho);if(q>0&&de.length===ho&&!T.has(q)){const W=W0(de),Re=new ImageData(W,32,32);T.set(q,Re)}}k.push({type:M,width:U,height:G,layers:V,patternX:ae,patternY:fe,patternZ:me,animationLength:se,asynchronous:_e,nLoop:I,start:Fe,animationLengths:J,sprites:Ee})}return{category:m,clientVersion:d,flags:x,frameGroups:k,spritePixels:T}}const X0=["North","East","South","West"],Z0=["","","",""];function J0(){const u=le(j=>j.selectedThingId),r=le(j=>j.objectData),i=le(j=>j.spriteData),a=le(j=>j.spriteOverrides),c=le(j=>j.replaceSprite);le(j=>j.editVersion);const d=u!=null?(r==null?void 0:r.things.get(u))??null:null,[p,m]=te.useState(0),[x,E]=te.useState(0),[C,k]=te.useState(!1),[T,M]=te.useState(4),[U,G]=te.useState(!1),[V,ae]=te.useState(!1),[fe,me]=te.useState(!1),[se,_e]=te.useState(null),[I,Fe]=te.useState(0),[J,Ie]=te.useState(0),[Ee,Y]=te.useState(!1),[q,de]=te.useState({head:0,body:0,legs:0,feet:0}),[W,Re]=te.useState(!1),[Ne,Se]=te.useState(2),[O,he]=te.useState(0),[K,S]=te.useState(null),b=te.useRef(null),pe=te.useRef(0),ke=te.useRef(null),Ae=le(j=>j.activeCategory),X=Ae==="outfit",ve=Ae==="effect",Pe=Ae==="distance";te.useEffect(()=>{m(0),E(0),k(!1),Fe(0),Ie(0),Se(2),he(0),Re(X||ve||Pe),Y(X)},[u,X,ve,Pe]);const A=(d==null?void 0:d.frameGroups[p])??null,Je=te.useCallback(j=>{const ge=b.current;if(!ge||!A||!i)return;const Be=A.width*32,ze=A.height*32,He=W?[Ne<A.patternX?Ne:0]:Array.from({length:A.patternX},(Xt,ut)=>ut),Ue=W?[O<A.patternY?O:0]:Array.from({length:A.patternY},(Xt,ut)=>ut),tt=He.length,Lt=Ue.length,at=tt*Be,nt=Lt*ze;ge.width=at,ge.height=nt;const Ct=ge.getContext("2d");Ct.clearRect(0,0,at,nt);const un=X&&Ee&&A.layers>=2,Pn=un?[0]:Ee?Array.from({length:A.layers},(Xt,ut)=>ut):[I];for(const Xt of Pn)for(let ut=0;ut<Ue.length;ut++){const zt=Ue[ut];for(let Zt=0;Zt<He.length;Zt++){const Tn=He[Zt],ni=Zt*Be,Nn=ut*ze;for(let Ut=0;Ut<A.height;Ut++)for(let Ln=0;Ln<A.width;Ln++){const ri=Ui(A,j,Tn,zt,J,Xt,Ln,Ut);if(ri>=A.sprites.length)continue;const wr=A.sprites[ri];if(wr<=0)continue;const ii=a.get(wr)??co(i,wr);if(!ii)continue;const _r=new ImageData(new Uint8ClampedArray(ii.data),32,32);if(un){const bt=Ui(A,j,Tn,zt,J,1,Ln,Ut);if(bt<A.sprites.length){const nr=A.sprites[bt];if(nr>0){const bn=a.get(nr)??co(i,nr);bn&&u0(_r,bn,q)}}}const Sr=ni+(A.width-1-Ln)*32,si=Nn+(A.height-1-Ut)*32;if(Ee&&!un&&Xt>0){const bt=document.createElement("canvas");bt.width=32,bt.height=32,bt.getContext("2d").putImageData(_r,0,0),Ct.drawImage(bt,Sr,si)}else Ct.putImageData(_r,Sr,si)}}}},[A,i,a,I,J,Ee,W,Ne,O,X,q]);te.useEffect(()=>{Je(x)},[x,Je]),te.useEffect(()=>{var ze;if(!C||!A||A.animationLength<=1)return;let j=x;const ge=()=>{var Ue;j=(j+1)%A.animationLength,E(j),Je(j);const He=((Ue=A.animationLengths[j])==null?void 0:Ue.min)??200;pe.current=window.setTimeout(ge,He)},Be=((ze=A.animationLengths[j])==null?void 0:ze.min)??200;return pe.current=window.setTimeout(ge,Be),()=>{clearTimeout(pe.current)}},[C,A,Je]);const Ot=A?W?1:A.patternX:1,an=A?W?1:A.patternY:1,Kt=te.useCallback((j,ge)=>{if(!A||!b.current)return 0;const Be=b.current.getBoundingClientRect(),ze=(j-Be.left)/T,He=(ge-Be.top)/T,Ue=Math.floor(ze/32),tt=Math.floor(He/32),Lt=Ot*A.width,at=an*A.height;if(Ue<0||Ue>=Lt||tt<0||tt>=at)return 0;const nt=Math.floor(Ue/A.width),Ct=Math.floor(tt/A.height),un=W?Ne<A.patternX?Ne:0:nt,Pn=W?O<A.patternY?O:0:Ct,Xt=A.width-1-Ue%A.width,ut=A.height-1-tt%A.height,zt=Ui(A,x,un,Pn,J,I,Xt,ut);return zt<A.sprites.length?A.sprites[zt]:0},[A,T,x,I,J,W,Ne,O,Ot,an]),Nt=te.useCallback((j,ge,Be)=>{if(!A||!i)return;const ze=j[0];if(!ze||!ze.type.startsWith("image/"))return;const He=new Image;He.onload=()=>{const Ue=document.createElement("canvas");Ue.width=32,Ue.height=32;const tt=Ue.getContext("2d");if(He.width<=32&&He.height<=32){tt.clearRect(0,0,32,32),tt.drawImage(He,0,0,32,32);const Lt=tt.getImageData(0,0,32,32);let at=0;if(ge!=null&&Be!=null&&(at=Kt(ge,Be)),at===0){const nt=Ui(A,x,0,0,0,0,0,0);at=nt<A.sprites.length?A.sprites[nt]:0}at>0&&c(at,Lt)}else{const Lt=A.patternX*A.width,at=A.patternY*A.height;for(let nt=0;nt<at&&nt*32<He.height;nt++)for(let Ct=0;Ct<Lt&&Ct*32<He.width;Ct++){const un=Math.floor(Ct/A.width),Pn=Math.floor(nt/A.height),Xt=A.width-1-Ct%A.width,ut=A.height-1-nt%A.height,zt=Ui(A,x,un,Pn,0,0,Xt,ut);if(zt>=A.sprites.length)continue;const Zt=A.sprites[zt];if(Zt===0)continue;tt.clearRect(0,0,32,32),tt.drawImage(He,Ct*32,nt*32,32,32,0,0,32,32);const Tn=tt.getImageData(0,0,32,32);c(Zt,Tn)}}},He.src=URL.createObjectURL(ze)},[A,i,x,c,Kt]),_=te.useCallback(j=>{j.preventDefault(),me(!1),j.dataTransfer.files.length>0&&Nt(j.dataTransfer.files,j.clientX,j.clientY)},[Nt]),st=()=>{const j=b.current;if(!j)return;const ge=j.toDataURL("image/png"),Be=document.createElement("a");Be.href=ge,Be.download=`sprite_${(d==null?void 0:d.id)??0}_frame${x}.png`,Be.click()},qr=()=>{if(!(!d||!i))try{const j=Q0({thing:d,clientVersion:1098,spriteData:i,spriteOverrides:a}),ge=new Blob([new Uint8Array(j)],{type:"application/octet-stream"}),Be=URL.createObjectURL(ge),ze=document.createElement("a");ze.href=Be,ze.download=`${Ae}_${d.id}.obd`,ze.click(),URL.revokeObjectURL(Be)}catch(j){alert(`Export failed: ${j instanceof Error?j.message:j}`)}},ei=te.useRef(null),ti=j=>{var ze;const ge=(ze=j.target.files)==null?void 0:ze[0];if(!ge)return;const Be=new FileReader;Be.onload=()=>{try{const He=new Uint8Array(Be.result),Ue=K0(He),tt=le.getState().importThing,Lt=tt(Ue.category,Ue.flags,Ue.frameGroups,Ue.spritePixels);Lt!=null&&alert(`Imported ${Ue.category} as ID ${Lt} with ${Ue.spritePixels.size} sprites.`)}catch(He){alert(`Import failed: ${He instanceof Error?He.message:He}`)}},Be.readAsArrayBuffer(ge),j.target.value=""},mt=te.useCallback((j,ge)=>{if(!d||!A)return;A[j]=ge,d.rawBytes=void 0,Zr();const Be=le.getState(),ze=new Set(Be.dirtyIds);ze.add(d.id),le.setState({dirty:!0,dirtyIds:ze,editVersion:Be.editVersion+1})},[d,A]);if(!d)return h.jsx("div",{className:"flex items-center justify-center h-full text-emperia-muted text-sm",children:"Select an object to preview"});const Fn=A?A.animationLength>1:!1;return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsxs("div",{className:"flex items-center px-4 py-2 border-b border-emperia-border gap-3",children:[h.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Zoom:"}),h.jsx("input",{type:"range",min:1,max:8,value:T,onChange:j=>M(Number(j.target.value)),className:"flex-1 h-1 accent-emperia-accent"}),h.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-right",children:[T,"x"]})]}),h.jsx("div",{className:"flex-1 flex items-center justify-center overflow-auto min-h-0",children:h.jsxs("div",{className:`checkerboard rounded-lg border relative transition-colors
            ${fe?"border-emperia-accent border-2":"border-emperia-border"}`,style:{padding:8},onDragOver:j=>{if(j.preventDefault(),me(!0),b.current&&A){const ge=b.current.getBoundingClientRect(),Be=Math.floor((j.clientX-ge.left)/(32*T)),ze=Math.floor((j.clientY-ge.top)/(32*T)),He=Ot*A.width,Ue=an*A.height;Be>=0&&Be<He&&ze>=0&&ze<Ue?_e({col:Be,row:ze}):_e(null)}},onDragLeave:()=>{me(!1),_e(null)},onDrop:j=>{_e(null),_(j)},children:[h.jsx("canvas",{ref:b,className:"cursor-pointer",onClick:j=>{const ge=Kt(j.clientX,j.clientY);ge>0&&le.setState({focusSpriteId:ge})},style:{width:(A?Ot*A.width:1)*32*T,height:(A?an*A.height:1)*32*T,imageRendering:"pixelated"}}),U&&A&&h.jsx("div",{className:"absolute inset-2 pointer-events-none",style:{backgroundImage:`
                  repeating-linear-gradient(0deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*T}px),
                  repeating-linear-gradient(90deg, rgba(255,255,255,0.15), rgba(255,255,255,0.15) 1px, transparent 1px, transparent ${32*T}px)
                `,backgroundSize:`${32*T}px ${32*T}px`}}),V&&A&&h.jsx("div",{className:"absolute pointer-events-none border border-yellow-400/60",style:{bottom:8,left:8,width:A.width*32*T,height:A.height*32*T}}),fe&&!se&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-emperia-accent/10 rounded-lg pointer-events-none",children:h.jsx("span",{className:"text-emperia-accent text-xs font-medium",children:"Drop PNG to replace"})}),se&&h.jsx("div",{className:"absolute pointer-events-none border-2 border-emperia-accent bg-emperia-accent/15 rounded-sm",style:{left:8+se.col*32*T,top:8+se.row*32*T,width:32*T,height:32*T}})]})}),h.jsxs("div",{className:"flex items-center justify-center px-4 py-2 gap-2 border-t border-emperia-border",children:[h.jsx("button",{onClick:()=>M(Math.max(1,T-1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom out",children:h.jsx(Qp,{className:"w-3.5 h-3.5"})}),h.jsxs("span",{className:"text-[10px] text-emperia-muted w-6 text-center",children:[T,"x"]}),h.jsx("button",{onClick:()=>M(Math.min(8,T+1)),className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Zoom in",children:h.jsx(Yp,{className:"w-3.5 h-3.5"})}),h.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),h.jsx("button",{onClick:()=>G(!U),className:`p-1 rounded transition-colors ${U?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,title:"Show Grid",children:h.jsx(bp,{className:"w-3.5 h-3.5"})}),h.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),h.jsx("input",{ref:ke,type:"file",accept:"image/png,image/gif,image/bmp",className:"hidden",onChange:j=>j.target.files&&Nt(j.target.files)}),h.jsx("button",{onClick:()=>{var j;return(j=ke.current)==null?void 0:j.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import PNG",children:h.jsx(Ed,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:st,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export PNG",children:h.jsx(Ip,{className:"w-3.5 h-3.5"})}),h.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),h.jsx("button",{onClick:qr,className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Export OBD",children:h.jsx(_d,{className:"w-3.5 h-3.5"})}),h.jsx("input",{ref:ei,type:"file",accept:".obd",className:"hidden",onChange:ti}),h.jsx("button",{onClick:()=>{var j;return(j=ei.current)==null?void 0:j.click()},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",title:"Import OBD",children:h.jsx(Sd,{className:"w-3.5 h-3.5"})}),Fn&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-px h-4 bg-emperia-border mx-0.5"}),h.jsx("button",{onClick:()=>{E((x-1+((A==null?void 0:A.animationLength)??1))%((A==null?void 0:A.animationLength)??1)),k(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:h.jsx(Pp,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>k(!C),className:`p-1 rounded transition-colors ${C?"bg-emperia-accent/20 text-emperia-accent":"text-emperia-muted hover:text-emperia-text hover:bg-emperia-hover"}`,children:C?h.jsx(zp,{className:"w-3.5 h-3.5"}):h.jsx(Up,{className:"w-3.5 h-3.5"})}),h.jsx("button",{onClick:()=>{E((x+1)%((A==null?void 0:A.animationLength)??1)),k(!1)},className:"p-1 rounded hover:bg-emperia-hover text-emperia-muted hover:text-emperia-text",children:h.jsx(Tp,{className:"w-3.5 h-3.5"})}),h.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[x+1,"/",A==null?void 0:A.animationLength]})]})]}),h.jsxs("div",{className:"flex items-center px-4 py-1.5 gap-4 border-t border-emperia-border flex-wrap",children:[h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:V,onChange:()=>ae(!V),className:"w-3 h-3 accent-emperia-accent"}),h.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Crop"})]}),h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:U,onChange:()=>G(!U),className:"w-3 h-3 accent-emperia-accent"}),h.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Grid"})]}),A&&(A.patternX>1||A.patternY>1)&&h.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:W,onChange:()=>Re(!W),className:"w-3 h-3 accent-emperia-accent"}),h.jsx("span",{className:"text-[10px] text-emperia-muted",children:"Preview"})]})]}),A&&d.flags.hasDisplacement&&h.jsxs("div",{className:"flex items-center justify-end px-4 py-1.5 gap-4 border-t border-emperia-border",children:[h.jsx(mn,{label:"Offset X",value:d.flags.displacementX??0,readOnly:!0}),h.jsx(mn,{label:"Offset Y",value:d.flags.displacementY??0,readOnly:!0})]}),d.frameGroups.length>1&&h.jsx("div",{className:"flex items-center justify-center px-4 py-1.5 gap-1 border-t border-emperia-border",children:d.frameGroups.map((j,ge)=>h.jsx("button",{onClick:()=>{m(ge),E(0),k(!1),Fe(0),Ie(0)},className:`px-2 py-0.5 rounded text-[10px] transition-colors
                ${p===ge?"bg-emperia-accent text-white":"bg-emperia-surface text-emperia-muted hover:bg-emperia-hover"}
              `,children:ge===0?"Idle":ge===1?"Moving":`Group ${ge}`},ge))}),A&&(A.animationLength>1||A.layers>1||A.patternZ>1||W&&(A.patternX>1||A.patternY>1)||X)&&h.jsxs("div",{className:"border-t border-emperia-border",children:[h.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:h.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:X?"Outfit":ve?"Effect":Pe?"Distance":"Animation"})}),h.jsx("div",{className:"px-4 py-2",children:h.jsx("table",{className:"w-full text-[10px]",style:{borderSpacing:"0 3px",borderCollapse:"separate"},children:h.jsxs("tbody",{children:[W&&A.patternX>1&&h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Direction:"}),h.jsx("td",{children:h.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(A.patternX,4)},(j,ge)=>h.jsx("button",{onClick:()=>Se(ge),className:`w-6 h-5 flex items-center justify-center rounded text-[10px] transition-colors ${Ne===ge?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,title:X0[ge]??`Dir ${ge}`,children:Z0[ge]??ge},ge)),A.patternX>4&&h.jsxs(h.Fragment,{children:[h.jsx(Qt,{onClick:()=>Se(Math.max(0,Ne-1)),children:""}),h.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[Ne+1,"/",A.patternX]}),h.jsx(Qt,{onClick:()=>Se(Math.min(A.patternX-1,Ne+1)),children:""})]})]})})]}),W&&A.patternY>1&&h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:X?"Addon:":"Pattern Y:"}),h.jsx("td",{children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Qt,{onClick:()=>he(Math.max(0,O-1)),children:""}),h.jsx("span",{className:"text-emperia-text font-mono w-10 text-center",children:X?O===0?"None":`#${O}`:`${O+1}/${A.patternY}`}),h.jsx(Qt,{onClick:()=>he(Math.min(A.patternY-1,O+1)),children:""})]})})]}),A.animationLength>1&&h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2 w-24",children:"Frame:"}),h.jsx("td",{children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Qt,{onClick:()=>{E((x-1+A.animationLength)%A.animationLength),k(!1)},children:""}),h.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[x+1,"/",A.animationLength]}),h.jsx(Qt,{onClick:()=>{E((x+1)%A.animationLength),k(!1)},children:""}),h.jsx("button",{onClick:()=>k(!C),className:`ml-1 px-2 py-0.5 rounded text-[10px] transition-colors ${C?"bg-emperia-accent text-white":"bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text"}`,children:C?"Stop":"Play"})]})})]}),A.layers>1&&h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Layer:"}),h.jsx("td",{children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Qt,{onClick:()=>Fe(Math.max(0,I-1)),disabled:Ee,children:""}),h.jsx("span",{className:`font-mono w-10 text-center ${Ee?"text-emperia-muted":"text-emperia-text"}`,children:Ee?"All":`${I+1}/${A.layers}`}),h.jsx(Qt,{onClick:()=>Fe(Math.min(A.layers-1,I+1)),disabled:Ee,children:""}),h.jsxs("label",{className:"flex items-center gap-1 cursor-pointer ml-1",children:[h.jsx("input",{type:"checkbox",checked:Ee,onChange:()=>Y(!Ee),className:"w-3 h-3 accent-emperia-accent"}),h.jsx("span",{className:"text-emperia-muted",children:"Blend"})]})]})})]}),A.patternZ>1&&h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Pattern Z:"}),h.jsx("td",{children:h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Qt,{onClick:()=>Ie(Math.max(0,J-1)),children:""}),h.jsxs("span",{className:"text-emperia-text font-mono w-10 text-center",children:[J+1,"/",A.patternZ]}),h.jsx(Qt,{onClick:()=>Ie(Math.min(A.patternZ-1,J+1)),children:""})]})})]}),X&&Ee&&A.layers>=2&&h.jsxs(h.Fragment,{children:[h.jsx("tr",{children:h.jsx("td",{colSpan:2,children:h.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),["head","body","legs","feet"].map(j=>h.jsxs("tr",{children:[h.jsxs("td",{className:"text-emperia-muted text-right pr-2 capitalize",children:[j,":"]}),h.jsxs("td",{children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>S(K===j?null:j),className:"w-5 h-5 rounded border border-emperia-border",style:{backgroundColor:hd(q[j])},title:`Color ${q[j]}`}),h.jsx("span",{className:"text-emperia-text font-mono w-8 text-center",children:q[j]}),h.jsx(Qt,{onClick:()=>de({...q,[j]:Math.max(0,q[j]-1)}),children:""}),h.jsx(Qt,{onClick:()=>de({...q,[j]:Math.min(Jr-1,q[j]+1)}),children:""})]}),K===j&&h.jsx("div",{className:"mt-1 p-1 bg-emperia-surface border border-emperia-border rounded grid gap-px",style:{gridTemplateColumns:"repeat(19, 14px)"},children:vr.map((ge,Be)=>h.jsx("button",{onClick:()=>{de({...q,[j]:Be}),S(null)},className:`w-3.5 h-3.5 rounded-sm border ${q[j]===Be?"border-white":"border-transparent"}`,style:{backgroundColor:hd(Be)},title:`${Be}`},Be))})]})]},j))]}),A.animationLength>1&&h.jsxs(h.Fragment,{children:[h.jsx("tr",{children:h.jsx("td",{colSpan:2,children:h.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Anim mode:"}),h.jsx("td",{children:h.jsxs("select",{value:A.asynchronous,onChange:j=>mt("asynchronous",Number(j.target.value)),className:"w-full px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text outline-none focus:border-emperia-accent",children:[h.jsx("option",{value:0,children:"Synchronous"}),h.jsx("option",{value:1,children:"Asynchronous"})]})})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Loop count:"}),h.jsx("td",{children:h.jsx(so,{value:A.nLoop,min:0,max:255,onChange:j=>mt("nLoop",j)})})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Start frame:"}),h.jsx("td",{children:h.jsx(so,{value:A.start,min:0,max:A.animationLength-1,onChange:j=>mt("start",j)})})]}),A.animationLengths[x]&&h.jsxs(h.Fragment,{children:[h.jsx("tr",{children:h.jsx("td",{colSpan:2,children:h.jsx("div",{className:"border-t border-emperia-border/40 my-0.5"})})}),h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Min (ms):"}),h.jsx("td",{children:h.jsx(so,{value:A.animationLengths[x].min,min:0,max:65535,onChange:j=>{A.animationLengths[x].min=j,d.rawBytes=void 0;const ge=le.getState(),Be=new Set(ge.dirtyIds);Be.add(d.id),le.setState({dirty:!0,dirtyIds:Be,editVersion:ge.editVersion+1})}})})]}),h.jsxs("tr",{children:[h.jsx("td",{className:"text-emperia-muted text-right pr-2",children:"Max (ms):"}),h.jsx("td",{children:h.jsx(so,{value:A.animationLengths[x].max,min:0,max:65535,onChange:j=>{A.animationLengths[x].max=j,d.rawBytes=void 0;const ge=le.getState(),Be=new Set(ge.dirtyIds);Be.add(d.id),le.setState({dirty:!0,dirtyIds:Be,editVersion:ge.editVersion+1})}})})]}),h.jsx("tr",{children:h.jsxs("td",{colSpan:2,className:"text-emperia-muted/60 text-right pt-0.5",children:["Frame ",x+1," of ",A.animationLength]})})]})]})]})})})]}),A&&h.jsxs("div",{className:"border-t border-emperia-border",children:[h.jsx("div",{className:"px-4 py-1.5 bg-emperia-surface/50",children:h.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Patterns"})}),h.jsxs("div",{className:"px-4 py-2 grid grid-cols-2 gap-x-6 gap-y-1",children:[h.jsx(mn,{label:"Width",value:A.width,onChange:j=>mt("width",j),min:1,max:4}),h.jsx(mn,{label:"Height",value:A.height,onChange:j=>mt("height",j),min:1,max:4}),h.jsx(mn,{label:"Crop Size",value:32,readOnly:!0}),h.jsx(mn,{label:"Layers",value:A.layers,onChange:j=>mt("layers",j),min:1,max:4}),h.jsx(mn,{label:"Pattern X",value:A.patternX,onChange:j=>mt("patternX",j),min:1,max:8}),h.jsx(mn,{label:"Pattern Y",value:A.patternY,onChange:j=>mt("patternY",j),min:1,max:8}),h.jsx(mn,{label:"Pattern Z",value:A.patternZ,onChange:j=>mt("patternZ",j),min:1,max:8}),h.jsx(mn,{label:"Animations",value:A.animationLength,onChange:j=>mt("animationLength",j),min:1,max:255})]})]})]})}function mn({label:u,value:r,onChange:i,min:a,max:c,readOnly:d}){return h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("span",{className:"text-[10px] text-emperia-muted",children:[u,":"]}),d?h.jsx("span",{className:"text-[10px] text-emperia-text font-mono w-14 text-right",children:r}):h.jsxs("div",{className:"flex items-center gap-0.5",children:[h.jsx("button",{onClick:()=>i==null?void 0:i(Math.max(a??0,r-1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"-"}),h.jsx("input",{type:"number",value:r,min:a,max:c,onChange:p=>{const m=parseInt(p.target.value,10);isNaN(m)||i==null||i(Math.max(a??0,Math.min(c??9999,m)))},className:"w-10 px-1 py-0 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-center outline-none focus:border-emperia-accent"}),h.jsx("button",{onClick:()=>i==null?void 0:i(Math.min(c??9999,r+1)),className:"w-4 h-4 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px]",children:"+"})]})]})}function Qt({onClick:u,disabled:r,children:i}){return h.jsx("button",{onClick:u,disabled:r,className:"w-5 h-5 flex items-center justify-center rounded bg-emperia-surface border border-emperia-border text-emperia-muted hover:text-emperia-text text-[10px] disabled:opacity-30",children:i})}function so({value:u,min:r,max:i,onChange:a}){return h.jsx("input",{type:"number",value:u,min:r,max:i,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||a(Math.max(r,Math.min(i,d)))},className:"w-16 px-1.5 py-0.5 bg-emperia-surface border border-emperia-border rounded text-[10px] text-emperia-text font-mono text-right outline-none focus:border-emperia-accent"})}function Ui(u,r,i,a,c,d,p,m){return(((((r*u.patternZ+c)*u.patternY+a)*u.patternX+i)*u.layers+d)*u.height+m)*u.width+p}const oa=[{key:"ground",label:"Ground"},{key:"groundBorder",label:"Ground Border"},{key:"onBottom",label:"On Bottom"},{key:"onTop",label:"On Top"},{key:"container",label:"Container"},{key:"stackable",label:"Stackable"},{key:"forceUse",label:"Force Use"},{key:"multiUse",label:"Multi Use"},{key:"writable",label:"Writable"},{key:"writableOnce",label:"Writable Once"},{key:"fluidContainer",label:"Fluid Container"},{key:"splash",label:"Splash"},{key:"notWalkable",label:"Not Walkable"},{key:"notMoveable",label:"Not Moveable"},{key:"blockProjectile",label:"Block Projectile"},{key:"notPathable",label:"Not Pathable"},{key:"pickupable",label:"Pickupable"},{key:"hangable",label:"Hangable"},{key:"hookSouth",label:"Hook South"},{key:"hookEast",label:"Hook East"},{key:"rotateable",label:"Rotateable"},{key:"hasLight",label:"Light"},{key:"dontHide",label:"Don't Hide"},{key:"translucent",label:"Translucent"},{key:"hasDisplacement",label:"Displacement"},{key:"hasElevation",label:"Elevation"},{key:"lyingCorpse",label:"Lying Corpse"},{key:"animateAlways",label:"Animate Always"},{key:"hasMinimapColor",label:"Minimap Color"},{key:"fullGround",label:"Full Ground"},{key:"look",label:"Look"},{key:"cloth",label:"Cloth"},{key:"hasMarket",label:"Market"},{key:"usable",label:"Usable"},{key:"wrapable",label:"Wrapable"},{key:"unwrapable",label:"Unwrapable"},{key:"topEffect",label:"Top Effect"},{key:"noMoveAnimation",label:"No Move Animation"},{key:"chargeable",label:"Chargeable"}],q0=[{key:"groundSpeed",label:"Ground Speed",parentFlag:"ground",min:0,max:65535},{key:"lightLevel",label:"Light Level",parentFlag:"hasLight",min:0,max:65535},{key:"lightColor",label:"Light Color",parentFlag:"hasLight",min:0,max:65535},{key:"displacementX",label:"Displacement X",parentFlag:"hasDisplacement",min:0,max:65535},{key:"displacementY",label:"Displacement Y",parentFlag:"hasDisplacement",min:0,max:65535},{key:"elevation",label:"Elevation",parentFlag:"hasElevation",min:0,max:65535},{key:"minimapColor",label:"Minimap Color",parentFlag:"hasMinimapColor",min:0,max:65535},{key:"clothSlot",label:"Cloth Slot",parentFlag:"cloth",min:0,max:65535}];function yd({showAttributesOnly:u}={}){const r=le(m=>m.selectedThingId),i=le(m=>m.objectData),a=le(m=>m.updateThingFlags);le(m=>m.editVersion);const c=r!=null?(i==null?void 0:i.things.get(r))??null:null,d=te.useCallback(m=>{if(!c)return;const x={...c.flags};x[m]=!x[m],x[m]||(m==="ground"&&(x.groundSpeed=void 0),m==="hasLight"&&(x.lightLevel=void 0,x.lightColor=void 0),m==="hasDisplacement"&&(x.displacementX=void 0,x.displacementY=void 0),m==="hasElevation"&&(x.elevation=void 0),m==="hasMinimapColor"&&(x.minimapColor=void 0),m==="cloth"&&(x.clothSlot=void 0)),x[m]&&(m==="ground"&&x.groundSpeed==null&&(x.groundSpeed=100),m==="hasLight"&&(x.lightLevel==null&&(x.lightLevel=7),x.lightColor==null&&(x.lightColor=215)),m==="hasDisplacement"&&(x.displacementX==null&&(x.displacementX=8),x.displacementY==null&&(x.displacementY=8)),m==="hasElevation"&&x.elevation==null&&(x.elevation=8),m==="hasMinimapColor"&&x.minimapColor==null&&(x.minimapColor=0),m==="cloth"&&x.clothSlot==null&&(x.clothSlot=0)),a(c.id,x)},[c,a]),p=te.useCallback((m,x)=>{if(!c)return;const E={...c.flags,[m]:x};a(c.id,E)},[c,a]);return c?u?h.jsxs("div",{className:"p-3 text-xs space-y-4",children:[h.jsxs(Qr,{title:"Identity",children:[h.jsx(Tt,{label:"ID",value:c.id}),h.jsx(Tt,{label:"Category",value:c.category})]}),c.frameGroups.map((m,x)=>h.jsxs(Qr,{title:`Frame Group ${x}${c.category==="outfit"?x===0?" (Idle)":" (Moving)":""}`,children:[h.jsx(Tt,{label:"Size",value:`${m.width}x${m.height}`}),h.jsx(Tt,{label:"Layers",value:m.layers}),h.jsx(Tt,{label:"Pattern X",value:m.patternX}),h.jsx(Tt,{label:"Pattern Y",value:m.patternY}),h.jsx(Tt,{label:"Pattern Z",value:m.patternZ}),h.jsx(Tt,{label:"Animations",value:m.animationLength}),h.jsx(Tt,{label:"Sprites",value:m.sprites.length}),m.animationLength>1&&h.jsxs(h.Fragment,{children:[h.jsx(Tt,{label:"Async",value:m.asynchronous?"Yes":"No"}),h.jsx(Tt,{label:"Loop Count",value:m.nLoop===0?"Infinite":m.nLoop}),h.jsx(Tt,{label:"Start Frame",value:m.start})]})]},x)),h.jsx(Qr,{title:"Active Flags",children:h.jsxs("div",{className:"space-y-0.5",children:[oa.filter(({key:m})=>!!c.flags[m]).map(({key:m,label:x})=>h.jsx("div",{className:"text-emperia-text text-xs",children:x},m)),oa.every(({key:m})=>!c.flags[m])&&h.jsx("span",{className:"text-emperia-muted italic",children:"None"})]})})]}):h.jsxs("div",{className:"p-3 text-xs space-y-4",children:[h.jsxs(Qr,{title:"Identity",children:[h.jsx(Tt,{label:"ID",value:c.id}),h.jsx(Tt,{label:"Category",value:c.category})]}),h.jsx(Qr,{title:"Flags",children:h.jsx("div",{className:"grid grid-cols-1 gap-0",children:oa.map(({key:m,label:x})=>h.jsxs("label",{className:"flex items-center gap-2 py-[3px] px-1 rounded hover:bg-emperia-hover cursor-pointer select-none",children:[h.jsx("input",{type:"checkbox",checked:!!c.flags[m],onChange:()=>d(m),className:"w-3 h-3 rounded border-emperia-border bg-emperia-surface accent-emperia-accent cursor-pointer"}),h.jsx("span",{className:c.flags[m]?"text-emperia-text":"text-emperia-muted",children:x})]},m))})}),h.jsx(Qr,{title:"Properties",children:h.jsx(em,{flags:c.flags,onChange:p})})]}):h.jsx("div",{className:"p-4 text-emperia-muted text-sm",children:"No object selected"})}function Qr({title:u,children:r}){return h.jsxs("div",{children:[h.jsx("h3",{className:"text-emperia-accent font-semibold text-[11px] uppercase tracking-wider mb-1.5 pb-1 border-b border-emperia-border",children:u}),h.jsx("div",{className:"space-y-0.5",children:r})]})}function Tt({label:u,value:r}){return h.jsxs("div",{className:"flex justify-between py-0.5",children:[h.jsx("span",{className:"text-emperia-muted",children:u}),h.jsx("span",{className:"text-emperia-text font-mono",children:String(r)})]})}function em({flags:u,onChange:r}){const i=q0.filter(a=>a.parentFlag?!!u[a.parentFlag]:!0);return i.length===0?h.jsx("span",{className:"text-emperia-muted italic",children:"No active properties"}):h.jsx("div",{className:"space-y-1",children:i.map(a=>h.jsxs("div",{className:"flex items-center justify-between gap-2",children:[h.jsx("span",{className:"text-emperia-muted shrink-0",children:a.label}),h.jsx("input",{type:"number",value:u[a.key]??0,min:a.min,max:a.max,onChange:c=>{const d=parseInt(c.target.value,10);isNaN(d)||r(a.key,Math.max(a.min??0,Math.min(a.max??65535,d)))},className:`w-20 px-1.5 py-0.5 rounded bg-emperia-surface border border-emperia-border
                       text-emperia-text font-mono text-right text-xs outline-none
                       focus:border-emperia-accent transition-colors`})]},a.key))})}const gn=40,Kr=6;function tm(){const u=le(Y=>Y.selectedThingId),r=le(Y=>Y.objectData),i=le(Y=>Y.spriteData),a=le(Y=>Y.spriteOverrides),c=le(Y=>Y.focusSpriteId),[d,p]=te.useState(null),[m,x]=te.useState(""),[E,C]=te.useState(0),[k,T]=te.useState(0),[M,U]=te.useState(null),G=te.useRef(null),V=u!=null?(r==null?void 0:r.things.get(u))??null:null;te.useEffect(()=>{p(null)},[u]),te.useEffect(()=>{if(c!=null&&c>0&&G.current&&i){x("");const Y=c-1,q=Math.floor(Y/Kr);G.current.scrollTop=q*gn,U(c),le.setState({focusSpriteId:null}),setTimeout(()=>U(null),2e3)}},[c,i]);const ae=le(Y=>Y.editVersion),fe=te.useMemo(()=>{if(!V)return[];const Y=[];return V.frameGroups.forEach((q,de)=>{q.sprites.forEach((W,Re)=>{Y.push({spriteId:W,group:de,index:Re})})}),Y},[V,ae]),me=te.useMemo(()=>{if(!i)return[];if(m){const q=parseInt(m,10);if(!isNaN(q)){const de=[];for(let W=Math.max(1,q-50);W<=Math.min(i.spriteCount,q+200);W++)de.push(W);return de}}const Y=[];for(let q=1;q<=i.spriteCount;q++)Y.push(q);return Y},[i,m]),se=Math.ceil(me.length/Kr),_e=se*gn,I=te.useCallback(()=>{G.current&&(C(G.current.scrollTop),T(G.current.clientHeight))},[]);te.useEffect(()=>{I();const Y=G.current;if(Y){const q=new ResizeObserver(I);return q.observe(Y),()=>q.disconnect()}},[I]),te.useEffect(()=>{if(m&&G.current){const Y=parseInt(m,10);if(!isNaN(Y)){const q=me.indexOf(Y);if(q>=0){const de=Math.floor(q/Kr);G.current.scrollTop=de*gn}}}},[m,me]);const Fe=Math.max(0,Math.floor(E/gn)-2),J=Math.min(se,Math.ceil((E+k)/gn)+2),Ie=me.slice(Fe*Kr,J*Kr),Ee=te.useCallback(Y=>{if(!d||!V)return;const q=V.frameGroups[d.group];if(!q)return;q.sprites[d.index]=Y,V.rawBytes=void 0,Zr();const de=le.getState(),W=new Set(de.dirtyIds);W.add(V.id),le.setState({dirty:!0,dirtyIds:W,editVersion:de.editVersion+1})},[d,V]);return i?h.jsxs("div",{className:"flex flex-col h-full",children:[V&&h.jsxs("div",{className:"shrink-0 border-b border-emperia-border",children:[h.jsxs("div",{className:"px-2 py-1.5 flex items-center justify-between",children:[h.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider",children:"Object Sprites"}),h.jsx("span",{className:"text-[10px] text-emperia-muted",children:fe.length})]}),h.jsx("div",{className:"overflow-y-auto max-h-40 px-1.5 pb-1.5",children:h.jsx("div",{className:"grid grid-cols-6 gap-0.5",children:fe.map(({spriteId:Y,group:q,index:de},W)=>{const Re=Y>0?aa(i,Y,a):null,Ne=(d==null?void 0:d.group)===q&&(d==null?void 0:d.index)===de,Se=a.has(Y);return h.jsxs("button",{onClick:()=>p(Ne?null:{group:q,index:de}),className:`relative flex items-center justify-center rounded border transition-colors
                      ${Ne?"border-emperia-accent bg-emperia-accent/20":Se?"border-amber-500/50 bg-amber-500/10":"border-emperia-border/40 hover:border-emperia-muted"}
                    `,style:{width:gn,height:gn},title:`Slot ${W}  Sprite #${Y}${Ne?" (selected  click atlas sprite to assign)":""}`,children:[Re?h.jsx("img",{src:Re,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):h.jsx("div",{className:"w-8 h-8 bg-emperia-border/20 rounded-sm"}),h.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/50 leading-none",children:Y})]},`${q}-${de}`)})})}),d&&h.jsx("div",{className:"px-2 pb-1.5 text-[10px] text-emperia-accent",children:"Click a sprite below to assign it to the selected slot"})]}),h.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"px-2 py-1.5 border-b border-emperia-border flex items-center gap-1.5",children:[h.jsx("span",{className:"text-[10px] font-medium text-emperia-text uppercase tracking-wider shrink-0",children:"Sprite Atlas"}),h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(Cd,{className:"absolute left-1.5 top-1/2 -translate-y-1/2 w-3 h-3 text-emperia-muted"}),h.jsx("input",{type:"text",value:m,onChange:Y=>x(Y.target.value),placeholder:"Go to ID...",className:"w-full pl-6 pr-2 py-0.5 bg-emperia-bg border border-emperia-border rounded text-[10px] text-emperia-text placeholder:text-emperia-muted/50 focus:outline-none focus:border-emperia-accent"})]})]}),h.jsx("div",{ref:G,onScroll:I,className:"flex-1 overflow-y-auto",children:h.jsx("div",{style:{height:_e,position:"relative"},children:h.jsx("div",{style:{position:"absolute",top:Fe*gn,left:0,right:0,display:"grid",gridTemplateColumns:`repeat(${Kr}, 1fr)`},children:Ie.map(Y=>{const q=aa(i,Y,a),de=Y===M;return h.jsxs("button",{onClick:()=>Ee(Y),className:`relative flex items-center justify-center border transition-colors
                      ${de?"border-green-400 bg-green-400/20":d?"border-transparent hover:bg-emperia-accent/10 hover:border-emperia-accent/30 cursor-pointer":"border-transparent cursor-default"}
                    `,style:{width:gn,height:gn},title:`#${Y}`,children:[q?h.jsx("img",{src:q,alt:"",className:"w-8 h-8",style:{imageRendering:"pixelated"}}):h.jsx("div",{className:"w-6 h-6"}),h.jsx("span",{className:"absolute bottom-0 right-0.5 text-[6px] text-emperia-muted/40 leading-none",children:Y})]},Y)})})})})]})]}):h.jsx("div",{className:"p-3 text-emperia-muted text-xs",children:"Load files to browse sprites"})}const nm={texture:"Texture",properties:"Properties",attributes:"Attributes"};function rm(){const u=le(a=>a.loaded),[r,i]=te.useState("texture");return u?h.jsxs("div",{className:"h-full flex flex-col",children:[h.jsx(t0,{}),h.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[h.jsxs("div",{className:"w-64 flex flex-col border-r border-emperia-border bg-emperia-bg",children:[h.jsx(r0,{}),h.jsx(i0,{})]}),h.jsxs("div",{className:"flex-1 flex flex-col bg-emperia-bg overflow-hidden",children:[h.jsx("div",{className:"flex border-b border-emperia-border shrink-0",children:["texture","properties","attributes"].map(a=>h.jsx("button",{onClick:()=>i(a),className:`px-4 py-2 text-xs font-medium transition-colors
                  ${r===a?"text-emperia-accent border-b-2 border-emperia-accent":"text-emperia-muted hover:text-emperia-text"}
                `,children:nm[a]},a))}),h.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r==="texture"&&h.jsx(J0,{}),r==="properties"&&h.jsx(yd,{}),r==="attributes"&&h.jsx(yd,{showAttributesOnly:!0})]})]}),h.jsx("div",{className:"w-72 border-l border-emperia-border bg-emperia-bg overflow-hidden flex flex-col",children:h.jsx(tm,{})})]})]}):h.jsx(Kp,{})}hp.createRoot(document.getElementById("root")).render(h.jsx(Hi.StrictMode,{children:h.jsx(rm,{})}));
